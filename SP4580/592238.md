[传送门](https://www.luogu.com.cn/problem/SP4580)     
## 题意  
给你一个集合 $S$，求满足以下条件的六元祖 $(x_1,x_2,x_3,x_4,x_5,x_6)$ 的个数：    
- $x_1,x_2,x_3,x_4,x_5,x_6$ 可重复。    
- $\frac{S_{x_1}\times S_{x_2}+S_{x_3}}{S_{x_4}}-S_{x_5}=S_{x_6}$。       

## 解法
我们发现第二个条件的式子有些复杂，我们可以进行移项：    
$\frac{S_{x_1}\times S_{x_2}+S_{x_3}}{S_{x_4}}-S_{x_5}=S_{x_6}$ 先化掉左边减法：     
为 $\frac{S_{x_1}\times S_{x_2}+S_{x_3}}{S_{x_4}}=S_{x_5}+S_{x_6}$。      
我们再化左边除法：   
为 $S_{x_1}\times S_{x_2}+S_{x_3}=S_{x_4}\times(S_{x_5}+S_{x_6})$。     
我们可以发现左右正好都是三个元素，我们可以用 $O(n^3)$ 的复杂度预处理出一个桶。设 $mp$ 为这个桶，$mp_i$ 表示 $i=S_{x_1}\times S_{x_2}+S_{x_3}$ 时，有多少个三元组 $(x_1,x_2,x_3)$ 满足条件。     
之后，我们可以用 $O(n^3)$ 的复杂度对 $x_4,x_5,x_6$ 进行枚举，注意这里 $x_4$ 不能为 $0$。        
这里的 $mp$ 因为 $i$ 比较大，所以我们可以用 `unordered_map` 来实现。        
[CODE](https://www.luogu.com.cn/paste/agz4xrso)