# 前言

此题解仅适用于 ```C++11``` 版本，代码中用到了 ```gets()``` 来读入，但是 ```C++14``` 并不支持 ```gets()```，可以自己来写一个读入函数，但这里~~我偷懒了~~，大家请见谅。

# 题目描述简化

给出 $n$ 个函数，将他们的函数名、参数进行比较，输出有几个不同的函数，定义不同的函数即忽略大小写后，函数名字，各个参数的类型有一项或多项与前面的函数不符，输出不同函数的个数。

# 思路

看了别的大佬的题解，小蒟蒻真心觉得这道题不至于让数据结构大家族```vector```、```map```、```pair``` 一起上阵，反而可以用一些巧妙而又简单的想法轻松解决这道题。

我们可以定义一个 ```string``` 类型的字符串 $x$，$x$ 的组成是函数名 $+$ 参数的类型（这里可以用 $1$ 表示 ```int```，用 $0$ 表示 ```char```。），例如样例中的 ```FAC1 (N=233, M=65 'A', A=0)``` 可以简写为 $\verb!fac1101!$，把简写完的字符串扔到桶里面，最后输出一下桶内元素的数量即可。

# 代码

```cpp
#include<bits/stdc++.h>
using namespace std;
//这里桶我用的是 map 存储，很方便。 
map<string,int> M;

string x;
char s[100001],s1[100001];//s 和 s1 没定义成 string 是因为后面的读入方式不同。 

int main()
{
	//定义变量 
	
	int n,i,l,cnt=0,f;//f 表示当前参数的类型，1 为 int，0 为 char。 
	
	//输入
	 
	cin>>n;
	
	//处理
	 
	while(n--)
	{
		scanf("%s",s);
		l = strlen(s);
		if(strcmp(s,"main")==0)//题目说明了不能统计 main 函数，只要出现了 main 就立即返回，执行下一次操作。 
			continue;
		//把字符串转化为小写统计比较方便（题目说了，要忽略大小写）。 
		for(i=0;i<l;i++)
			if(isupper(s[i])) 
				s[i] += 32;
		//根据 x 的定义，函数名 + 各个参数的类型，所以我们需要把 x 初始化为字符串 s。 
		x = s;
		getchar();//注意看输入的时候，函数名与括号隔了一个空格，所以我们需要把空格吞掉，防止误操作。 
		gets(s1);
		l = strlen(s1);
		for(i=0;i<l;i++)
		{
			f = 1;//f 初始化为 1，表示为 int 类型。 
			if(s1[i]=='=')//开始判断是否为字符类型 
			{
				while(s1[i]!=','&&i<l)//根据样例的研究，是否为字符类型的关键是在于有没有出现单引号，而单引号肯定在等号的后面，逗号的前面，我们只需要根据这个区间进行判断就可以了。 
				{
					i++;
					if(s1[i]=='\'')//如果这个符号是单引号，我们就知道这个参数的类型不是 int，那么将 f 变成 0,并及时 break。注意判断的时候要加上转义字符。 
					{
						f = 0;
						break;
					}
				}
			}
			if(f)//根据 f 的值来进行决定。 
				x += '1';//在这里就体现出 string 的妙用了，我们直接在后面加上字符 '1' 即可。 
			else
				x += '0';//否则就是 int 类型，在 x 后面接上 '0'。 
		}
		if(M[x]==0)//来看看桶里面有没有这个简写后的字符串 x。 
			cnt++;//没有，计数器 cnt++。 
		M[x] = 1;// 把当前字符串的位置标上 1。 
	}
	cout<<cnt<<endl;//输出 
	return 0;//结束 
}
```
