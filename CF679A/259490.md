## CF679A Bear and Prime 100 题解

这是一道 **交互题**

有一个在闭区间$[2,100]$里面的整数X，你的任务是判断整数x是质数还是合数，我们可以问20次。

容易知道：**100以内的合数肯定会被50以内的多(>=2)个素数整除**
（及“1+1”定理，虽然没有证明，但在100以内足够了）

eg：15 = 3 * 5，77 = 7 * 11 ......


由于在$[2,50]$只有

[${2,3,5,7,11,13,17,19,23,29,31,37,41,43,47}$ ] 

这 15 个素数，所以我~~天真的以为出题人脑子进水了，多给了5次询问~~，交了上去，理所当然的 **WA** 了。

为什么呢？


因为上面的询问对于平方数不适用，例如49只能被7整除，所以我们要再增加针对平方数的询问。见下

$2^2$ = 4; $3^2$ = 9; $5^2$ = 25; $7^2$ = 49; 

(同“1+1”定理，只在 50 以内找）


```cpp

#include <iostream>

const int q[19]={2,3,4,5,7,9,11,13,17,19,23,
25,29,31,37,41,43,47,49}; // 打表

void CF679A() {
    char ans[4];
    cnt=0;
    for(int i=0;i<19;i++) {
        std::cout<<q[i]<<std::endl; // 询问
        fflush(stdout); // 清空输出
        std::cin>>ans;
        if(ans[0]=='y') cnt++;
        if(cnt>=2) {
            std::cout<<"composte"<<std::endl; // 判断
            fflush(stdout);
            return; // 成功后，直接返回
        } 
    }
    std::cout<<"prime"<<std::endl; // 同上
    fflush(stdout);
    return;
}

int main() {
    CF679A();
    return 0; // 完结
}

```

~~第一次发题解，求过~~
