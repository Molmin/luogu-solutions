[这个题](https://www.luogu.com.cn/problem/UVA1641)主要考察非运算。

相信只要是看过题的各位都已经会判断有几个格子是半格的。

主要难点就在于

如何判断一个 `.` 在被覆盖的图形里面还是被覆盖的图形外面。

**以下全部将“矩阵内被覆盖的图形”简称为“图形”。**

# 正题开始

##  思考

对于每一行，遇到第一个 `/` 或 `\` 时，如果下一个格子不是 `/` 或 `\` 的话，一定是图形里面的。

第二个 `/` 或 `\` 的下一个格子一定是图形外面的（如果下一个格子不是 `/` 或 `\` 的话）。

那该怎么判断 `/` 与 `\` 标志着这个图形一行的开端还是结束呢？

可以发现，对于每一行，$ $第一个斜线标志着开端，第二个斜线标志结束，第三个斜线标志着开端……

## 思路

一种比较显而易见的方法就是统计每一行斜线个数，模$2$为$1$顺序的斜线是开端，模$2$为$0$则是结束。

这种方法可以延长出第二种方法：

### 重头戏来了 

都知道 [bool 类型](https://baike.baidu.com/item/BOOL/2065074?fr=aladdin)吧，

只有 true 和 false，

或者说

只有 $0$ 和 $1$。

用一个 bool 类型的变量 $flag$，每次遇到斜线都做一次非运算，

(初始值是$0$)第一次是 $1$，第二次是 $0$，第三次是 $1$……

可以发现，$flag$ 为 $1$ 表示下个格子是图形中的，为 $0$ 则表示下个格子就不是图形里的了。

### 上代码
```cpp
#include<iostream>
using namespace std;
int main()
{
    int n,m;
    while(cin>>n>>m)//多组数据
    {
        int ans=0;//记录格数
        for(int i=0;i<n;i++)
        {
            bool flag=0;//初始值是0
            for(int j=0;j<m;j++)
            {
                char c;
                cin>>c;
                if(c=='/'||c=='\\')//'\'的特殊，必须要用两个'\'才算一个字符
                    flag=!flag,ans++;//取反，另外对于每个半格的格子，算作一格
                else
                    if(flag)
                        ans+=2;//对于每个一格的格子，算作两格
            }
        }
        cout<<ans/2.0<<endl;//最后除以2，用了@andyli的思路
    }
    return 0;
}
```
在两位作者 @andyli 与 @槑小杨 的基础上又加了详细的说明