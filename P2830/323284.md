# 题解 P2830 【写程序】
$submit+=6$ $AC+=1$……

- __初步分析__

操作有三种：

```
int 数组名[数据]
```
```
cout 数组名[数据]
```
```
数组名[数据] 数据
```

我们会发现有很多个`数据`，所以可以把它当作一个进行处理。

我们还可以得到以下伪代码：
```cpp
while(cin>>操作){
	if(操作=="int")新建();
	else
	if(操作=="cout")输出();
	else{
		获得正在操作的变量();
		获得下标();
		cin>>数据;
		获得数据();
		变量[下标]=数据;
	}
}
```
- __如何储存？__

可以使用结构体：
```cpp
struct student{
	char name[];
	int size;
	int element;
	int var[];
}
student array[];
```
然后我们会发现```变量[下标]=数据;```错了。

$fix$：```array[变量所处位置].var[下标]=数据```。

- __处理变量嵌套__

与[P1738](https://www.luogu.com.cn/problem/P1738)类似，将 '[' 作为分隔。

Q：那后面的 ']' 呢？

A：你可以发现后面的 ']' 都是连在一块的。

~~好无聊。~~

以 ```a[a[b[0]]]```为例，可以把它分割成`"a"`，`"a"`，`"b"`，`"0"`。

把`"0"`转换成`0`。

找到`"b"`所在的位置，获得`b[0]`并储存`b[0]`的数据，以此类推。

- __特殊情况__

是在```数组名[数据] 数据```时,不要把所有数据都解析出来，要在最前面的位置找到后就停止。

因为这是`数组名`，不是`数据`；

还是在```数组名[数据] 数据```。

这个时候`数据`可能是一个常数。~~当然其实没什么区别。~~ 所以这里也要处理以下。

- ~~__最后完结撒花！__~~