[题目传送门](https://www.luogu.com.cn/problem/AT_abc212_d)

## 思路

很容易想到此题应用 STL 中的 multiset 解决。

因为 $1\le Q\le 2\times 10^5$，所以很容易想到如果每次把数字集合都 $+x$ 必定会 TLE，这时我们考虑用**差分维护**。

每次读入数据后，对操作种类分来讨论。

- 定义 $sum$ 为当前累计增加的值。

**对于每次操作 $1$**：在 multiset 中插入读入的值**减去** $sum$ 的值，即可完成维护序列的操作。

**对于每次操作 $2$**：将 $sum$ 加上当前读入数据。

**对于每次操作 $3$**：读入数据后输出 ``begin()`` 的值**加上** $sum$ 的结果还原为本来应当的值，输出。之后删除 ``begin()`` 这个位置的数据。

- 数据范围大，记得开 long long。

这里不放代码了，根据上面的思路一步步写即可。