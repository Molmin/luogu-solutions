这是一个爆标做法。

直接计算二分图并不好做，但是我们可以仿照有标号二分图计数，先计算双色图（将每个点染为黑白颜色中的一种，且同色点之间不连边的图）的个数。

我们记一般双色图的集合幂级数为 $F$，记连通双色图的集合幂级数为 $G$，
再记连通二分图的集合幂级数为 $H$，并定义乘法为子集卷积。

可以知道的是 $G=2H$，同时根据 $\exp$ 的组合意义，有 $\exp G=F$。

所以 $H=\frac{1}{2}\ln F$，那么现在只要求出 $F$，然后对 $F$ 做集合幂 $\ln$ 就可以了。

对于 $F$，我们可以先枚举点集 $T$，显然我们可以钦定一部分为黑色，补集为白色。记 $w(T)$ 为子集 $T$ 在原图中含有的边数，不难得到：

$$
F(T)=\sum_{P\cap Q=\emptyset ,P\cup Q=T}2^{w(T)-w(P)-w(Q)}
$$

于是可以先把 $2^{w(T)}$ 提出来，再对里面做子集卷积。

两部分的复杂度都是 $O(n^22^n)$ 的，那么总复杂度也是 $O(n^22^n)$ 的。