首先，一个数字出现二次以上是无解的（显然）。

所以，我们记录一个数字出现的两个骨牌 $(x,y)$（如果没有就不管），那么 $x$ 和 $y$ 不能再同一个集合中，我们此时在 $(x,y)$ 连上一条边。

然后，我们要将骨牌分为两个集合，两个集合之内没有数共存。

也就是说，两个集合之内没有边。

于是，满足的条件为：原图是个二分图。

判定一下即可，时间复杂度 $O(n)$。