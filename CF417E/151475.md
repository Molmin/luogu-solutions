直接分治。如果行是偶数，先化成两半做，上面 $\times 3$，下面 $\times 4$，拼起来就行，这样拼起来每列的平方和是 $25x^2$。

如果行是奇数，化成两半和中间一行，对每列求出该列的平方和 $x^2$。上面 $\times 2$，下面 $\times 2$，中间写 $x$，这样拼起来每列的平方和是 $9x^2$。

列同理。