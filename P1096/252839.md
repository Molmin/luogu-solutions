
题目已经说了：设法建立
A
n
​
与
A
n−1
​
的递推关系式。

所以让我给大家分析一下：

第1步：将n-2个圆盘移到B柱上。

第2步：将2个最大的圆盘移到C柱上。

第3步：将n-2个圆盘移到C柱上。

得出总步数=第1步的步数*2+2

这便是递推关系式，有了这个，解起来就轻松多了。

但由于题目的n过大，必须得用高精才能过。

话不多说，上代码：

    #include<bits/stdc++.h>  //万能文件头（洛谷福利）
    using namespace std;     
    int n;                   //定义圆盘数n
    struct data              //定义一个结构体，名叫data
    {
        int s[100],len;      //s[]为每个位上的数，len表示这个数的长度
    }a[200],x;               //定义高精数组a以及x(后面方便计算) 
    data add(data a,data b)  //定义加法函数add，传进两个加数a和b，注意参数形式是data
    {
        data c;              //定义c，作为a+b的结果，注意用data定义
        c.len=max(a.len,b.len);   //将其位数暂定为a和b的位数的最大值
        for(int i=1; i<100; i++)
        	c.s[i]=0;             //将c数组的每一位初始化为0
        for(int i=1; i<=c.len; i++)   //处理每一位数
        {
           c.s[i]+=a.s[i]+b.s[i];     //求出当前位数的值=a的当前位+b的当前位，注意+号，因为前面可能有进位，不加+号就会覆盖掉
           c.s[i+1]+=c.s[i]/10;       //进位
           c.s[i]%=10;                //保证这一位<10  
        }
        if(c.s[c.len+1]>0)c.len++;    //如果最后一位有进位，就将c.len长度++
        return c;             //返回结果c
    }          
    //加法实现函数
    int main()
    {
        cin>>n;                  //输入圆盘数n
        a[0].len=1,a[0].s[1]=0;  //初始化第0项，将其长度赋值为1，第一位赋值为0
        a[1].len=1,a[1].s[1]=2;  //初始化第1项，将其长度赋值为1，第一位赋值为1
        x.len=1,x.s[1]=2;        //初始化x，将其长度赋值为1，第一位赋值为2,相当于加数2，方便我们下面的计算 
        //这里注意，要初始化第0项，因为样例有可能n=0
        for(int i=2; i<=n; i++)  //进行递推
            a[i]=add(add(a[i-1],a[i-1]),x);  //调用函数
        for(int i=a[n].len; i>=1; i--)       //记住，要从a[n].len~1输出，因为第a[n].len才是最高位，第1位是个位
        cout<<a[n].s[i];  //输出第i位数
        return 0;         
    }
