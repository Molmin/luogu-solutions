这次比赛的 `B` 题也是不难的。
## 题意
题面给出的题意有点复杂，这里给它简化一下：

给出一排柱子的高度，如果你从一个矮柱子走上一个高柱子，就**不会受到伤害**，否则就会受到值为这两个柱子的**高度差**的伤害。

然后多次给出一个起点和一个终点，依次求出你从起点到终点**最少**要受到多少伤害。
## 思路
首先不难发现，直接从起点到终点的策略就是最优的。

然后看数据范围 $n,m\le 10^5$，显然直接暴力会`TLE`，继续想，这个受伤害的机制是满足前缀和性质。

又因为起点既可以在终点的左边，又可以在终点的右边，所以就应该要前后都扫一遍跑前缀和。

这样，预处理前缀和 $O(n)$，单次查询 $O(1)$，总时间复杂度 $O(n+m)$，过这题没问题。

最后，记得开 `long long`。

代码如下：
```cpp
for(int i=1;i<=n;i++){
        cin>>a[i];
        s[i]=s[i-1];
        if(a[i]<a[i-1])
            s[i]=s[i]+a[i-1]-a[i];
    }
    for(int i=n;i>=1;i--){
        ss[i]=ss[i+1];
        if(a[i]<a[i+1])
            ss[i]=ss[i]+a[i+1]-a[i];
    }
    while(m--){
        int x,y;
        cin>>x>>y;
        if(x<=y)
            cout<<s[y]-s[x]<<'\n';
        else
            cout<<ss[y]-ss[x]<<'\n';
    }
```
