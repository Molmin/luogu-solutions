一个显然的思路：我们暴力把每一个点的数值存入数组中，然后逐一比对看相等的个数。注意到数据范围有 $L \le 10^{12}$，显然不能通过。

记输入的第一个数组为 $a$，数值为 $s1$；第二个为 $b$，数值为 $s2$。我们考虑双指针：定义两个指针 $i$ 与 $j$ 分别指向 $a$ 数组的第 $i$ 个块和 $b$ 数组的第 $j$ 个块。

若当前有 $s1_{i}=s2_{j}$，那我们把答案加上 $\min(a_{i},b_{j})$，$a_{i}$ 与 $b_{j}$ 同时减去他俩的最小值，可以发现一定会有一个变为 $0$，若 $a_{i}$ 变为 $0$ 则 $i \gets i+1$，反之 $j \gets j+1$，不断比较即可。最后若两指针到达边界就退出。

[code](https://atcoder.jp/contests/abc294/submissions/39894560)
