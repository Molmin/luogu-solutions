来呀~模拟呀~反正有~大把时光~

这题其实可以模拟，没有模拟题解，本蒟蒻来一篇~~

温馨提示：模拟比较麻烦，考场不建议用哦~

* _本题解仅供参考，慎用模拟！_ 

进入正题：
 
 这题首先判断位数，奇数位的话要长度+1，直接输出。
 
 如果第一位大于7，没戏，只能增加位数，直接输出。
 
 当这一位为4或7，直接上，如果小于，后面暂时全是4。
 
 当这一位大于7，就要进位（具体做法参考下面代码）。
 
 最后判4和7的个数是否相等（具体细节参考下面代码注释）

--------------------------------------超长代码预警--------------------------------------

```
#include<bits/stdc++.h>
using namespace std;
int main()
{
	string s1,s2;
	cin>>s1;
	int s4=0,s7=0,l;
	l=s1.size();
	if(s1[0]>'7')
	{
		if(l%2)
			l+=1;
		else
			l+=2;
	}
	if(l%2)
		l++;
	if(l>s1.size())//特判
	{
		for(int i=1;i<=l/2;i++)
			cout<<4;
		for(int i=1;i<=l/2;i++)
			cout<<7;
		return 0;
	}
	int t=0;
	for(int i=l-1;i>=0;i--)//进位
	{
		if(s1[i]<'7'&&t)
		{
			t=0;
			s1[i]+=1;
		}
		if(s1[i]>'7')
		{
			t++;
			s1[i]='0';
		}
	}
	bool f=0;
	for(int i=0;i<l;i++)//转换成‘47’串
	{
		if(f)
		{
			s2+='4';
			s4++;
		}
		if(s1[i]=='4'&&!f)//等于4
		{
			s2+='4';
			s4++;
		}
		if(s1[i]=='7'&&!f)//等于7
		{
			s2+='7';
			s7++;
		}
		if(s1[i]>'4'&&s1[i]<'7'&&!f)//在4和7之间
		{
			s2+='7';
			s7++;
			f=1;
		}
		if(s1[i]<'4'&&!f)
		{
			s2+='4';
			s4++;
			f=1;
		}
		if(s1[i]>'7'&&!f)//大于7的特殊情况
		{
			for(int j=i-1;j>=0;j--)
			{
				if(s2[j]=='4')//找一个前面的4，改成7，这样后面的就可以全是4
				{
					s2[j]='7';
					s4--;
					s7++;
					f=1;
					break;
				}
			}
			if(!f)
			{
				l+=2;
				for(int i=1;i<=l/2;i++)
					cout<<4;
				for(int i=1;i<=l/2;i++)
					cout<<7;
				return 0;
			}
		}
	}
   //注意！以下有坑！
	if(s7>s4)//当7比4多
	{
		for(int i=l-1;i>=0;i--)
		{
			if(s2[i]=='4')//将一个4改为7，这时一定大于原数，后面的7改成4，让4和7个数相等。
			{	
				s2[i]='7';
				s4--;
				s7++;
				for(int j=i+1;j<l;j++)
				{
					if(s7>s4&&s2[j]=='7')
					{
						s2[j]='4';
						s4++;
						s7--;
					}
				}
				break;
			}
		}
		if(s7>s4)//还是大于就彻底没救
		{
			l+=2;
			for(int i=1;i<=l/2;i++)
				cout<<4;
			for(int i=1;i<=l/2;i++)
				cout<<7;
			return 0;
		}
	}
	if(s4>s7)//4比7多
	{
		for(int i=l-1;i>=0;i--)
		{
			if(s4==s7)
				break;
        if(s2[i]=='4')//尽量改后面的，让数最小
        {
              s2[i]='7';
              s4--;
              s7++;
        }
		}
	}
	cout<<s2;//总算完工了。。。
	return 0;
}
```

走过路过，点个赞呗QAQ