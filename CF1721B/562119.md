# CF1721B 题解
## 题意
有一个 $n\times m$ 的网格，机器人一开始在 $(1,1)$ 的地方，要到 $(n,m)$ 去。但是在 $(s_x,s_y)$ 的地方有一个激光，激光攻击的范围是与激光距离 $\le d$ 的地方。**这里的距离不是欧几里得距离**：对于 $(x_1,y_1)$ 与 $(x_2,y_2)$，它们的距离是 $|x_1-x_2|+|y_1-y_2|$。

请问是否机器人是否可以成功。如果可以，输出最小的行走步数；否则，输出 $-1$。
## 分析
我们分析激光的影响范围，打个表可以发现是这样的：
```
0 0 0 0 0
0 0 1 0 0
0 1 1 1 0
1 1 1 1 1
0 1 1 1 0
0 0 1 0 0
0 0 0 0 0
```
其中，$1$ 代表激光可以影响这里，$0$ 代表这里安全。

容易发现，激光能不能使得机器人无法通过就在于激光最大的影响距离。

比如，如果激光形成了横向或者纵向的拦截，那么不可行；如果激光将出发点或者目标点围住了，那也不可行。否则就可行。

那么为什么这是正确的呢？反证法，如果最长的距离可行，那就一定非法；反之，如果最长的距离都无法阻止，那么短一些的肯定也不行。

那么当机器人可以成功时最短距离是什么呢？通过上面的观察发现，由于影响范围一定是辐射状而不会绕弯，所以就是 $(n+m-2)$。

---
## 实现
```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
void solve(){
	int n,m,sx,sy,d;
	cin>>n>>m>>sx>>sy>>d;
	bool a = sx-d<=1,b = sx+d>=n,c = sy-d<=1,e= sy+d>=m;
	if(a&c || b&e || a&b || c&e) cout<<"-1\n";
	else cout<<n+m-2<<'\n';
}
signed main(){
	int T;cin>>T;
	while(T--) solve();
	return 0;
}
```

---
## 结语
- 赛时可以通过打表等方式观察规律和特殊性质以获得灵感；
- 本题样例十分迷惑人，非常弱；而且这题手玩数据也很困难，所以建议大家一定要多加思考，保证代码逻辑性正确才行。
- 考虑要全面，比如我这种傻逼，赛时只判了横向纵向拦截而没有判断别的。

完结撒花，另祝大家 CSP 2022 rp++！
