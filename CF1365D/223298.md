考虑到如果有解，好人和坏人不能走在一起。如果可以走在一起的话，好人能走到 $(n,m)$，坏人也能走到。所以我们要保证好人和坏人不能走在一起。

这个时候建墙的策略就很清楚了，考虑贪心，因为我们不能让好人和坏人走在一起，而我们想要好人有更多的路（使得他能够走到 $(n,m)$ ），我们只需要让坏人走的路最少就行了。让坏人走的路最少即为把坏人上下左右的四个位置建墙。

然后从 $(n,m)$ 开始 `bfs` 或者 `dfs` 看是否能够搜到全部的好人，能搜到即为有解，反之无解。其他的`bfs`或者`dfs`的方法，只要复杂度正确也是可以过的。

[$\mathcal{Code}$](https://codeforces.com/contest/1365/submission/83226149)