设$B_i$表示$i$个数的划分方案数。那么，通过枚举1所在的集合的大小可得$B_i=\sum_{j=1}^{i}{C_{i-1}^{j-1}B_{i-j}}$，即$B_{i+1}=\sum_{j=0}^{i}{C_i^jB_{i-j}}$。设$B_i$的指数生成函数是$B(x)$。

$B'(X)=\sum_{i \ge 0}{\frac{B_{i+1}}{i!}X^i}$，$B(x)=\sum_{i \ge 0}{\frac{B_{i}}{i!}X^i}$。联立一下这两个式子和上面的$B_i$的递推式。可以得到$B'(x)=B(x)e^x$。

所以$ln(B'(x))=ln(B(x))+x$，即$ln(\frac{B'(x)}{B(x)})=x$。又因为$ln(\frac{B'(x)}{B(x)})=ln(ln'(B(x)))$，所以$B(x)=e^{e^x+c}$。因为$B_0=1$，所以$B(0)=1$。带入得$c=-1$，所以$B(x)=e^{e^x-1}$，对$F(x)=e^x-1$做一遍$exp$就完事了。

这时候，我们会发现$F(x)$的形式其实相等简单，它就是元素个数为$i$的非空集合的指数生成函数。

所以这也启发我们从另一个方向来解决这个问题。

首先还是令$F(x)=e^x-1$。这时候，我们令答案的指数生成函数为$G(x)$。则$G(x)=\sum_{i \ge 0}{\frac{F^i(x)}{i!}}$。这是为什么呢？这本质还是在讨论每个集合选了几个元素，然后以及是哪几个元素。不过集合之间是没有区别的，所以要除以一个$i!$。

然后上面那个式子可以继续化一下，就是$G(x)=\sum_{i \ge 0}{\frac{F^i(x)}{i!}}=e^{F(x)}=e^{e^x-1}$。得到了和上面一样的结果。