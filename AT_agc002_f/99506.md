一道计数题。

显然这并不是一个双射，考虑如何做到不重不漏。

我们钦定第 $i$ 种颜色第二次出现的位置（因为第一次出现被染白了） $<$ 第 $i+1$ 种颜色第二次出现的位置。

然后数出来的答案$\times n!$ 即为所求。

我们先把白色摆出来，那么显然第 $i$ 个白色球后面的颜色种类数（不算白色）$\le n-i+1$。

我们考虑枚举第 $i=n\sim 1$ 种颜色的摆放，然后可以通过简单的 $dp$ 计算得出。