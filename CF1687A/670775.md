显然，如果 $k\le n$，我们要求的就是数组中长度为 $k$ 的子数组的最大价值。

如果 $k>n$，考虑贪心，我们可以采用前 $k-n+1$ 分钟都在一号点采蘑菇，剩下的时间遍历一遍，可以证明这样是最优的。

考虑证明，这样做一定可以把所有的初始蘑菇给吃掉，而增加的蘑菇这么做是可以吃掉大部分的蘑菇，所以总量是最优的。

对于求出区间价值，我们采用高斯等差数列求和公式即可。