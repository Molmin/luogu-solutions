来谈一谈数学做法。

## 观察数据
首先打一个[暴力程序][code#1]，然后就 [AC][sub#1] 了。  
然后考虑数学方法。

然后~~很容易~~想到要把 n 分成奇数与偶数两种情况讨论
### n 为奇数

```data
 n | answer |
-------------
 3 |  1 2   |
 5 |  2 3   |
 7 |  3 4   |
 9 |  4 5   |
```
好了，这还是比较好分析的。  
当 n 为奇数时，答案为 $(n - 1) / 2$ 与 $(n + 1) / 2$

> 数学证明： 

> 可行性
> > 设分子为 $a$，则分母为 $(n + 1) / 2 = (n - 1 + 2) / 2 = (n - 1) / 2 + 2 / 2 = (n - 1) / 2 + 1 = a + 1$  
> > 所以 $a$，$a+1$ 一定为相邻自然数    
> > 所以分子和分母必定互质  

> 最优性
> > 显然这个分数也是最大的

### n 为偶数

```data
 n | answer |
-------------
 4 |  1 3   |
 6 |  1 5   |
 8 |  3 5   |
10 |  3 7   |
12 |  4 7   |
14 |  4 9   |
16 |  6 9   |
```
第一眼看去没有什么规律，然后发现好像又有一点儿……

于是再分成两种情况

#### n 为偶数但不为 4 的倍数

```data
 n | answer |
-------------
 6 |  1 5   |
10 |  3 7   |
14 |  4 9   |
```

易发现，答案为 $n / 2 - 2$ 与 $n / 2 + 2$

> 数学证明：  

> 可行性  
> > 设分子为 $a$，则分母为 $n / 2 - 2 + 4 = a + 4$  
> > 因为 n 为偶数但不为 4 的倍数，所以 $n / 2$ 为奇数，所以 $a$ 为奇数  
> > 因为 $gcd(a, b)(a < b) = gcd(a, b - a)$ ，所以 $gcd(a, a + 4) = gcd(a, 4) $。因为 $a$ 为奇数，所以 $ gcd(a, 4) $ 为 1，所以原分数为最简真分数  

> 最优性
> > 1. $n / 2$ 与 $n / 2$   
> > > 显然不合题意  
> > 2. $n / 2 - 1$ 与 $n / 2 + 1$   
> > > 设分子为 $a$，则分母为 $n / 2 - 1 + 2 = a + 2$  
> > > 同理可证$gcd(a, a + 2) = gcd(a, 2) $   
> > > 又因为 n 为偶数但不为 4 的倍数，所以 $n / 2$ 为奇数，所以 $a$ 为偶数，所以 $ gcd(a, 2) $ 为 2，所以不合题意  
> > 所以 $n / 2 - 2$ 与 $n / 2 + 2$ 最优

#### n 为偶数且为 4 的倍数

```data
 n | answer |
-------------
 4 |  1 3   |
 8 |  3 5   |
12 |  4 7   |
16 |  6 9   |
```

易发现，答案为 $n / 2 - 1$ 与 $n / 2 + 1$

> 数学证明：  

> 可行性  
> > 设分子为 $a$，则分母为 $n / 2 - 1 + 2 = a + 2$  
> > 因为 n 为偶数且为 4 的倍数，所以 $n / 2$ 为偶数，所以 $a$ 为奇数  
> > 因为 $gcd(a, b)(a < b) = gcd(a, b - a)$ ，所以 $gcd(a, a + 2) = gcd(a, 2) $。因为 $a$ 为奇数，所以 $ gcd(a, 2) $ 为 1，所以原分数为最简真分数  

> 最优性
> > $n / 2$ 与 $n / 2$ 显然不合题意  
> > 所以 $n / 2 - 2$ 与 $n / 2 + 2$ 最优

放出代码与评测结果

[![][p#code]][code#2] [![][p#sub]][sub#2]
 

[code#1]:https://paste.ubuntu.com/p/4dj5KkwmXT/
[code#2]:https://paste.ubuntu.com/p/gfg6vDYbWG/
[sub#1]:https://www.luogu.org/recordnew/show/19924430
[sub#2]:https://www.luogu.org/recordnew/show/19924533
[p#code]:https://cdn.luogu.com.cn/upload/pic/61106.png
[p#sub]:https://cdn.luogu.com.cn/upload/pic/61107.png