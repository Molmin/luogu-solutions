先观察题目，我们可以发现，对于一个已在集合内的数 $x$，有两种操作

1.把 $ax$ 加入集合

2.把 $x+b$ 加入集合

又因为初始在集合内的只有 $1$，所以最终能在集合中的数一定能表示成 $a^x+by$.

那么判断一个数是否在集合中仅需判断其是否能表示成上述形式，有一个非常重要的性质，就是在模 $b$ 的意义下，$n$ 和 $a^x$ 相等. 

显然该数会随 $x$ 的增长指数级增长，所以只需要枚举 $a$，判断 $n$ 和 $a^x$ 在膜 $b$ 意义下的关系即可。特别的，当 $a=1$ 时记得特判