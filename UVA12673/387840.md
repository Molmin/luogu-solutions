### 1 题意

你们队伍进行了一系列的足球比赛。

你们队伍进行了 $n$ 场比赛，每场比赛有胜利、平局、失败 $3$ 种情况。其中，胜利加 $3$ 分，平局加 $1$ 分，失败不加不减。

现在，你们队伍可以买球，意思是，让某一场比赛的进球增加若干。你们可以选择不同场次比赛分别买球，数量可以相同可以不同。当然，买球次数是有限制的，设它为 $g$ 次。

先输入 $n$ 和 $g$，再跟着 $n$ 行，输入我方进球和对方进球。

输出在买球后，最大的得分。

### 2 思路

~~一股踢假球的气息扑鼻而来。~~

我们要输入 $n$ 和 $g$。

输入比赛情况。

设平局次数为 $d$，用数组 $l$ 存净输球数。

1. 如果赢了，直接加 $3$ 分，~~要不然你买球也是 $3$ 分，有什么用啊~~；
    
2. 如果平局，增加一次平局次数；
   
3. 如果输了，将输球的数量（对方进球减去我方进球）存进数组 $l$ 里。
   
要为哪场比赛买球呢？收益如下表：

| 情况 | 代价 | 收益 |
| :----------: | :----------: | :----------: |
| 平局变胜利 | $1$ | $2$ |
| 失败变平局 | 净输球数 | $1$ |
| 失败变胜利 | 净输球数 $+1$ | $3$ |

分析上面表格，可知：

1. 平局变胜利收益最大，所以尽量让平局变胜利。

2. 如果平局全部变为胜利，则：

	1. 如果可以，优先将净输球数最少的比赛变为胜利；
    
   2. 如果剩余次数太少，就将它变为平局。
   
那么我们可以整理到全代码思路：

1. 计算胜利带来的分数，$w\times3$；

2. 计算平局次数 $d$：

	1. 如果 $d\ge g$，就将所有次数用在平局变胜利上，输出分数；

	2. 如果 $d<g$，就先解决完平局变胜利，再让失败的净输球数排成升序，如果剩余次数足够失败变胜利，就增加额外 $3$ 分；如果只能失败变平局，就增加额外 $1$ 分。输出。
    
### 3 代码与记录

```cpp
#include<cstdio>
#include<algorithm>
using namespace std;
const int max_n=100000;
int n;//比赛数
int g;//最多能买的数量
int w;//胜利次数
int d;//平局次数
int a,b;//双方进球数量
int l[max_n+2];//输的球
int cnt;//失败数量
int s;//分数
int main(){
	#ifndef ONLINE_JUDGE
	freopen("UVA12673_1.in","r",stdin);
	freopen("UVA12673_1.out","w",stdout);
	#endif
	while(scanf("%d%d",&n,&g)!=EOF){
		//初始化
		w=0;
		d=0;
		cnt=0;
		//输入
		for(int i=1;i<=n;++i){
			scanf("%d%d",&a,&b);
			if(a>b){//胜利
				++w;
				continue;
			}
			if(a==b){//平局
				++d;
				continue;
			}
			//失败
			l[++cnt]=b-a;
		}
		//计算胜利分数
		s=w*3;
		//计算平局分数
		if(d>=g){//平局比买球多
			s+=(g*2/*买球得到的额外2分*/+d/*原本就有的1分*/);
			printf("%d\n",s);//输出
			continue;
		}
		//平局少于买球次数
		g-=d;
		s+=d*3;
		sort(l+1,l+cnt+1);
		for(int i=1;i<=cnt;++i){
			if(g-l[i]>0){//可以买到胜利
				g-=(l[i]+1);//消耗买球次数
				s+=3;//多得到3分
			}
			else{
				if(g==l[i]){//买球也只是平局
					s+=1;
				}
				break;//没次数了
			}
		}
		//输出
		printf("%d\n",s);
	}
	return 0;
}
```

[记录传送门](https://www.luogu.com.cn/record/51869006)

By **dengziyue**