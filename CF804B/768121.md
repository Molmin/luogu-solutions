# CF804B 题解
- **先读题**

给一个字符串，求多少次操作能使没有 a 在 b 前面。

而一次操作指将一个 ab 变成 bba。

------------

- **思路**

如果要变成这样，只需在字符串中每遇一个 a 就进行操作，但此次操作会使 ab 变成 bba，仍然有 a 出现。

所以若遇见了一个 a 就让总操作数加上之前所有的字符的个数，而之前的字符经过操作一定都变成了 b，那就要统计好出现过 b 的次数。

最后，因为经过了这些操作，每次都让 b 增加了一个，要把 b 的计数器乘 $2$ 再模一下。
# AC Code
```c
#include <bits/stdc++.h>
using namespace std;
int main()
{
	string s;
	cin >> s;
	int cntb = 0, mod = 1e9 + 7, tot = 0;//分别记录b的数量, 模的数, 与操作总数。
	for (int i = s.size() - 1; i >= 0; i--)//因为为了方便记录a之前出现的b的数量，使用倒序。
	{
		if (s[i] == 'a')//如果为a，就证明还要进行之前出现的b的个数次操作。 
		{
			tot = (tot + cntb) % mod;//计算加上的操作数模以mod。 
			cntb *= 2;//一个ab会变成bba，多出一个b，之前出现b的总数要变成两倍。 
			cntb %= mod;//模。
		}
		else cntb++;//是b的话就使b的数量加一个。 
	}
	cout << tot;//输出操作数。 
}
```
希望本题解能给大家带来帮助！