_[P6355](https://www.luogu.com.cn/problem/P6355)_

题目简述（其实已经够简洁了）：

给出平面上的$n$个点，求这$n$个点可以构成的，两条直角边都和坐标轴平行的直角三角形数量

这道题因为三角形直角边都和坐标轴平行，所以我们得到，满足关系的三角形坐标一定像这样三个点

![](https://note.youdao.com/yws/res/11/WEBRESOURCE25f17182e7305c4b3c9d7b24dcbd47e7)



$$A(x_1,y_1),B(x_1,y_2),C(x_2,y_1)$$

这样，我们可以枚举每一个直角顶点A,然后计算这样的点对

这样，在和A一列的点中选一个，一行的也选一个，就是一个符合要求的三角形

我们可以提前用数组$a,b$,

$a_i=i$列上的点数

$b_i=i$行上的点数

而每一列可选的点=$a_{x_i}-1$ ,$-1$是为了去掉自己

每一行是$b_{y_i}-1$

最终用乘法公式，得出结果是有$(b_{y_i}-1)*(a_{x_i}-1)$个三角形

把每一个点这样计算，就可以得出结果了

因为$1<=x_i,y_i<=100000$

所以预处理$a,b$可以直接每读入一个$x_i,y_i$就$a_{x_i}+1$，$b_{y_i}+1$

每一个点枚举是$O(1)$，所以最终时间复杂度是$O(n)$,到达理论下线~~毕竟要读入n个点~~

另外，结果可能超$int$，所以要开$longlong$存答案

代码很简单

```cpp
#include<iostream>
using namespace std;

int a[100001];
int b[100001];
int x[100001];
int y[100001];
int main(){
	int n;
	long long ans=0;
	cin>>n;
	for(int i=1;i<=n;i++){
		cin>>x[i]>>y[i];
		a[x[i]]++;b[y[i]]++;
	}
	for(int i=1;i<=n;i++){
		ans+=(long long)(a[x[i]]-1)*(b[y[i]]-1);
	}
	cout<<ans;
}
```

~~不要抄袭~~