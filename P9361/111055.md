怎么都想得到倍增。

这个题他一定会做。

考虑每次我们的操作都是为了下一次跳做准备，即跳到下一场比赛排名最前面的人。

那么直接倍增就做完了，设 $f_{x,a,b}$ 为从 $x$ 开始跳 $2^a$ 次能跳到在第 $b$ 场比赛排名最前面的人，倍增求出最少需要跳多少次才能让 $f_{x,a,b}$ 在第 $z$ 场比赛的排名不低于 $y$ 即可。

时间复杂度 $O(nm^2\log n+qm^2\log n)$。