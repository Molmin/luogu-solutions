### AT4636  题解

$upd\ at\ 2022/2/2:\LaTeX$ 公式与中文标点符号之间一般情况下不应加空格。

这一道题，实际上是小学数学，我们要分 $4$ 种情况。

1. 先换 $A$ 饼干到 $1$ 硬币，再换为 $B$ 饼干，要花费 $2$ 步。而 $2$ 步也可以通过击打口袋来增加 $2$ 饼干。所以，如果 $B-A\le 2$，就没有做操作 $2$ 和操作 $3$ 的必要。这时，只要做 $K$ 次操作 $1$ 就行了。饼干增加 $K$，最后就会有 $K+1$ 个饼干。

2. 做 $K$ 次还无法做到操作 $3$，即还没有办法得到一个硬币或还没把硬币换回饼干， $K$ 次操作就用完了。这时也不要进行操作 $2$ 和 $3$，最后也是 $K+1$ 饼干。这种情况就是当 $K+1\le A+1$，即 $K\le A$。

剩下的情况就可以先把饼干数量加到 $A$，然后一直花 $2$ 步将其中 $A$ 个饼干换成 $B$ 个饼干。但是还有 $2$ 种情况：

3. 剩下的步数，即 $K-(A-1)=K-A+1$ 是偶数时，一直重复步骤 $2$ 和 $3$ 即可。若设 $K-A+1$ 为 $X$，最后就会得到 $A+\frac{X}{2}\times(B-A)$ 个饼干。因为重复步骤 $2$ 和 $3$ 时，会重复 $\frac{X}{2}$ 次，每次增加 $(B-A)$ 个饼干。

4. 当 $X$ 是奇数，最后还要进行一次操作 $1$，就会得到 $A+1+\frac{X-1}{2}\times(B-A)$ 个饼干。

接着是c++代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
	long long k,a,b;//题目中的量，注意要long long
	cin>>k>>a>>b;//输入
	if(b-a<=2||k<=a){//第一、二种情况
		cout<<k+1<<endl;//注意AtCoder的输出必须换行
	}else{
		k-=a-1;//k变为目前剩下的步数，即上面的x
		if(k%2==0){//第三种情况
			cout<<a+k/2*(b-a)<<endl;//不要忘乘(b-a)
		}else{//第四种情况
			cout<<a+1+(k-1) /*这里其实可以不用-1，直接整除*/ /2*(b-a)<<endl //不要忘了要+1;
		}
	}
	return 0;
}
```
