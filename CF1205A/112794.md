思路：数学+构造

不妨设环上的数依次为$a_1,a_2,...,a_{2n}$。

首先证明：$|a_{n+1}-a_1|=1$。

这个证明非常简单。根据题目要求，有$|\sum_{i=1}^na_i-\sum_{i=2}^{n+1}a_i|\leq 1 $,即$|a_{n+1}-a_1|\leq 1$。而$a_1\neq a_{n+1}$，故$|a_{n+1}-a_1|=1$。证毕。

同上，可以证明：$\forall i\in N,1\leq i\leq n,|a_{n+i}-a_i|=1$。

不失一般性，假设$a_{n+1}>a_1$。则$a_{n+1}-a_1=1$。

接下来我们证明：$a_{n+2}-a_2=-1$。

可以发现，刚刚的证明只用到了相邻两和之间的关系。我们拓展一下。同样由题得$|\sum_{i=1}^na_i-\sum_{i=3}^{n+2}a_i|\leq 1$。即$|a_1+a_2-a_{n+1}-a_{n+2}|\leq 1$。将$a_{n+1}-a_1=1$代入得$|a_2-a_{n+2}-1|\leq 1$。若$a_2-a_{n+2}=-1$，代入矛盾！故$a_2-a_{n+2}=1$，即$a_{n+2}-a_2=-1$。证毕。

同上，可以证明：$\forall i\in N,1\leq i\leq n,a_{n+i}-a_i=-(-1)^i$。

我们观察环的“接缝”处是否正确。可以发现这和$n$的奇偶性相关。若$n$为偶数，则$a_{2n}-a_n=-1,a_1-a_{n+1}=-1$，则$|\sum_{i=n}^{2n-1}a_i-(\sum_{i=n+2}^{2n}a_i+a_1)|=|a_n+a_{n+1}-a_1-a_{2n}|=|1+1|=2$。矛盾！此时输出$NO$。

若$n$为奇数，可以按上面方法检验发现可行。接着按上面的要求构造一组解即可。我是这样构造的：令$p$为填数的位置指针，初始时$p=1$。枚举$i=1...2n$，将$i$填在第$p$个位置上，同时判断下一个位置，如果$i$为奇数，就把$p$变为当前位置的对面（$+n$或$-n$），否则顺移一位（$+!$）。

代码：
```cpp
#include<cstdio>

using namespace std;

int a[200010];

int main()
{
	int n=0;scanf("%d",&n);
	if(!(n&1)){puts("NO");}
	else
	{
		puts("YES");
		int p=1;
		for(int i=1;i<=2*n;i++)
		{
			a[p]=i;
			if(i&1){if(p<=n)p+=n;else p-=n;}
			else{p++;}
		}
		for(int i=1;i<=2*n;i++)printf("%d ",a[i]);
	}
	return 0;
} 
```