好题啊qwq

首先将所有 $y_i$ 变为 $1$，相应的 $x_i'=\frac{x_i}{y_i}$，$z_i'=\frac{z_i}{y_i}$ 。

然后所有式子变成了这样：

$$x_i '(\sum_{j=1}^ia_j)+\sum_{j=i}^na_j\equiv z_i'$$

然后关键的来了，我们把相邻两个式子差分一下看看我们会得到什么：

$$x_i '(\sum_{j=1}^ia_j)-x_{i+1}'(\sum_{j=1}^{i+1}a_j)+\sum_{j=i}^na_j-\sum_{j=i+1}^na_j\equiv z_i'-z_{i+1}'$$

化简一下得：

$$(x_i'-x_{i+1}')(\sum_{j=1}^ia_j)-x_{i+1}'a_{i+1}+a_i\equiv z_i'-z_{i+1}'$$

看起来还是没有什么用啊TAT

别着急，我们看看特殊情况，即 $i=1$ 时的情况可化成：

$$(x_1'-x_2'+1)a_1-x_2'a_2\equiv z_1'-z_2'$$

把 $a_1$ 当做一个常量，上面这个东西就可以看做是一个一元一次方程了，解得：

$$a_2=\frac{x_1'-x_2'+1}{x_2'}a_1+\frac{z_2'-z_1'}{x_2'}$$

观察到我们把 $a_2$ 表示为了 $ka_1+b$ 的形式！

接下来我们使用递推的思想，就是再继续通过 $i=2$ 的式子把 $a_3$ 表示成 $ka_1+b$ 的形式，通过 $i=3$ 的式子把 $a_4$ 表示成 $ka_1+b$ 的形式，以此类推，通过 $i=m$ 的式子把 $a_{m+1}$ 表示成 $ka_1+b$ 的形式 . . . . . .

怎么做呢？由于我们是递推的，所以我们在看 $i=m$ 的情况时，我们已经把 $j\in[1,m]$ 的所有 $a_j$ 均表示成了 $ka_1+b$ 的形式，那么我们再观察一下原式：

$$(x_i'-x_{i+1}')(\sum_{j=1}^ia_j)-x_{i+1}'a_{i+1}+a_i\equiv z_i'-z_{i+1}'$$

其中的 $\sum\limits_{j=1}^ia_j$ 以及 $a_i$ 项已经在先前全被我们表示为 $ka_1+b$ 的形式了，那么原式又可以变成这样：

$$(x_i'-x_{i+1}')(k_1a_1+b_1)-x_{i+1}'a_{i+1}+k_2a_1+b_2\equiv z_i'-z_{i+1}'$$

又是一个一元一次方程，又是只有 $a_1$ 和 $a_{i+1}$ 两个未知量

还是把 $a_1$ 看做常量，解一下方程就行了

就这样我们把每一个 $a_i$ 都表示为了 $ka_1+b$ 的形式

将他们全部带入到 $i=1$ 的情况中，注意此时代入进去的就是差分前的原式了，化简一下可以得到形如 $Aa_1\equiv B$ 的形式，分类讨论：

$1.$ 如果 $A\ne0$，可以解得 $a_1$，其他数便也顺理成章的解出来了，直接输出解数为 $1$ 然后输出所有 $a_i$ 就行了

$2.$ 如果 $A=0$ 且 $B\ne0$，此时该一元一次方程无解，输出解数为 $0$ 即可

$3.$ 如果 $A=0$ 且 $B=0$，此时 $a_1$ 取啥值都行，但是我们观察到 $0\leq a_i<10^9+7$ ，故而直接输出 $10^9+7$ 即可

