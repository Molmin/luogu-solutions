先考虑不存在成员相同俱乐部的情况，让我们首先求出 $k$。

我们称一个 $n\times m$ 的 $\texttt{01}$ 矩阵是好的，当且仅当：不存在两行相同；任意排列它的行和列，不能得到原矩阵。

对一个 $m$，最小的好的矩阵对应的 $n$ 即是我们要求的 $k$。

现给出几个显然的结论：

若存在一个 $n\times m$ 的好矩阵，那么：

1. 存在一个 $m\times n$ 的好矩阵；
1. 存在一个 $n\times (2^n-m)$ 的好矩阵。

记 $c(n,k)$ 表示好 $n\times k$ 矩阵的数量，我们也有：

$c(n,k)=c(k,n)=c(2^k-n,k)$

令 $g(n)$ 表示 $k$ 对应的最小 $n$。

由结论知 $2^{g(n)}-n \geqslant g(g(n))$。

令 $G(n)$ 表示满足上述条件的最小函数。

我们给出结论：
> $G(n)=g(n)$，一个好的 $k \times n$ 矩阵存在等价于 $k\in[g(n),2^n-g(n)]$。

归纳证明。

首先对于 $n$，我们只需证明对于 $k\in[g(n),2^{n-1}]$ 都存在好矩阵。

对于 $k\in[g(n),n)$，等价于存在一个 $n\times k$ 的好矩阵，根据归纳成立。

对于 $k\in[n,2^{n-1}]$，我们以如下方式构造一个 $k \times n$ 的矩阵：

对于前 $n-1$ 行，把第 $\{\{1\},\{1,2\},\{2,3\},\cdots,\{n-2,n-1\}\}$ 列的位置涂黑。

对于其他的行，我们至少涂黑三个列，但是保证不与其它行重复。易证至少能有 $2^{n-1}$ 个可区分的不同列。

接下来，我们关注如何计算 $c(g(n),n)$。

事实上，对于满足 $6 \leqslant k=g(n) \leqslant n \leqslant 2^{n-1}$，我们都有 $c(k,n)>10^3$。

我们考虑如下的两个 $n\times k$ 矩阵，第一个矩阵的前 $k-2$ 行形如 $\{\{1,2\},\{2,3\},\cdots,\{k-2,k-1\}\}$，第二个矩阵的前 $k-1$ 行如第一个矩阵取反。

接下来的 $n-k+2$ 行，只需被涂黑的列数不是 $2/n-2$ 即可，所以方案数至少有 $2\binom{2^k-2\binom{k}{2}}{n-k+2}$ 种。

所以 $c(6,6)\geqslant 2\binom{34}{2}=1122>1000$。

对于 $n \leqslant 5$ 的情况暴力计算。

考虑如果有相同的俱乐部，假设有 $h$ 个不同的俱乐部，我们有成员数不多于 $2^h$。

因此在有相同俱乐部时，设共有 $k$ 个俱乐部，有 $2^{k-1} \geqslant n$，实际上经过验证 $g(n)$ 约为 $\log_2 n$ 级别，有 $k \geqslant g(n)$。

我们可以断定 $g(n)$ 也是在俱乐部可以相同情况下的最小答案。

计算方案，如果 $k=g(n)$，有 $2^{g(n)-1} \geqslant n$，此时当且仅当 $n=4/7/8$ 答案才可能不大于 $1000$，手玩出来。 