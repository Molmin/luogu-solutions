小升初蒟蒻的第一篇题解

## 题目大意：

你在一场激烈的战斗之后体力已经消耗一空，好在你来到了补给点。
补给点有一排 $N$ 瓶药剂，药剂编号   $1  \sim   N$（$N  \le  200,000$），喝下第   $i$   瓶药剂会补充你的体力        $a_i$，$a_i$ 可能为负数，这意味着该药剂会消耗你的体力 $a_i$。
起初你的体力为 $0$，你从   $1$   号药剂开始直到   $N$   号药剂，在每一瓶药剂前，你可以选择喝下或忽略药剂（由于药剂口感很好，你希望喝的越多越好）。
注意：在任何时刻，你必须保证自己的体力不能为负。
你能喝的药剂最多是多少瓶？


------------

  看完题目，蒟蒻决定用堆做
 
 

------------


## 思路：

- 定义一个变量 $ans$，记录可以喝的药剂瓶数。

- 定义一个变量记录当前体力和。

- 定义一个大根堆，记录负数的绝对值。

- 读入时，当读到正数就直接累加进体力和中，再把 $ans$ 加上$1$。

- 当读到负数时：
  1. 先把它的绝对值放入堆中，$ans$  加上 $1$，体力加上它（相当于减去他的绝对值）。
  2. 如果体力和小于 $0$ 了，那么从堆中弹出一个最大的绝对值，及为一个最小的负数，恢复体力和，再把 $ans$ 减去 $1$。

- 最后输出 $ans$ 就好了。

 如果还是看不懂，那就看代码吧！

### 切勿抄袭！！！

```
#include <bits/stdc++.h>
using namespace std;
long long n;
priority_queue<long long,vector<long long>,less<long long> >q; //大根堆
int main() {
//	freopen("potions.in","r",stdin);
//	freopen("potions.out","w",stdout);
	cin>>n;
	long long ans=0,s=0;//ans：药剂瓶数 s:当前体力和
	for (int i=1; i<=n; i++) {
		long long x;
		cin>>x;
		if (x<0)
			q.push(-x); //如果为负数，绝对值入堆
		s+=x; //当前体力和加x
		ans++; //药剂瓶数加1
		if(s<0) {  //如果体力值不满足条件了
			long long k=q.top(); //取出堆中最大的绝对值，就是最小的负数
			s+=k; //体力和恢复k
			ans--; //药剂瓶数减1，因为丢弃了一瓶药剂
			q.pop(); 
		}
	}
	cout<<ans;
	return 0;
}
```
这样这道题就解决了!



