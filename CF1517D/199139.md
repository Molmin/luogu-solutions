题目大意：

给你一个 $n\times m$ 大小的网格图，用 $(i,j)$ 表示第 $i$ 行第 $j$ 列的格子。一个格子走一步可以到达它上下左右的四个格子，即从 $(i_1,j_1)$ 可以一步到达 $(i_2,j_2)$ 仅当 $|i_1-i_2|+|j_1-j_2|=1$，但从一个格子 $(u_1,v_1)$ 走到另一个格子 $(u_2,v_2)$ 会需要费用 $edge_{(u_1,v_1),(u_2,v_2)}$，你可以在两个格子之间重复走，但费用也会重复算。

现在告诉你在所有格子之间走的费用，求对于所有整数 $i,j\in [1,n]$，从 $(i,j)$ 正好走 $k$ 步又走回 $(i,j)$ 所需的最小费用，如果正好 $k$ 步走不回去输出 $-1$。

---

首先可以知道 $k$ 是奇数时所有的输出都是 $-1$，显然你走不回去。

然后还可以看出最小费用一定是通过你走完前 $\dfrac{k}{2}$ 步之后直接原路返回得到的，这个应该可以用反证法证。

于是考虑动态规划，设 $f_{i,j,k}$ 表示从 $(i,j)$ 走 $k$ 步的最小费用，于是有转移方程：
$$f_{i,j,k}=\min\limits_{(u,v) \textrm{ is connected with }(i,j)}\{f_{u,v,k-1}+edge_{(i,j),(u,v)}\}$$
初始化是所有位置 $(i,j)$ 有 $f_{i,j,0}=0$，答案就是 $2\times f_{i,j,\frac{k}{2}}$。

时间复杂度大约是 $O(nmk)$ 的，主要是存图比较麻烦。