（加粗貌似寄了……）

前情提要：本做法可同时解决简单与困难两道题。

首先考虑简单版，也就是只含有 $-1$ 和 $1$ 的情况。

需要知道的第一个信息：分成的子段长度只为 $1$ 或 $2$。

显然长度为 $2k$ 的分成两个偶数段，所得结果不变。长度为 $2k+1$ 的分割成 $2k$ 与 $1$ 两个结果也不变。

第二个信息：存在方案的必要性为起初输入的数列求和是偶数。

将一个数的贡献改变正负，显然会造成大小为 $2$ 的影响，于是起初的和一定为偶数。

设起初和为 $sum$。

我们只要找到 $\dfrac{|sum|}{2}$ 个长度为 $2$ 的段，使得其中第二个数（变号的）与 $sum$ 的正负相同。剩余的全部按照长度为 $1$ 分割即可。

（不难发现，加入 $0$ 之后没有实质上改变。于是也就解决掉困难版）