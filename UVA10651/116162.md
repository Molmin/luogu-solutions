[UVA10651](https://www.luogu.org/problem/UVA10651)

---

挺简单一状压题

---

$Solution$

只需枚举每一行的初始状态和所有转变状态取每状态的1最小数量即可



---

```cpp
#include <cstdio>
#include <algorithm>
#include <cstring>
#include <iostream>
using namespace std;
int N,ans;
bool vis[4500];
char s[14];
void dfs(int x)
{
	/*for(int i = 0 ; i <= 11 ; i ++ )
	if(x & (1 << i))cout<<1;
	else cout<<0;
	cout<<endl;*/
	if(vis[x])return ;//防循环
	for(int i = 2 ; i <= 11 ; i ++ )
	{
		if((x&(1 << i)&&(x & ( 1 << i - 1))&&(!(x&(1 << i - 2))))||(!(x&(1 << i))&&(x & ( 1 << i - 1))&&(x&(1 << i - 2))))
		{//即110或者011
			x ^= 1 << i - 2 ;
			x ^= 1 << i;
			x ^= 1 << i - 1 ; 
			dfs(x);
			x ^= 1 << i - 2 ;//回溯
			x ^= 1 << i;
			x ^= 1 << i - 1 ; 
		}
  	}
	int cnt = 0;
	for(int i = 0 ; i <= 11 ; i ++ )
	    if(x & (1 << i))cnt++;//枚举每一位求1的个数
	    ans = min (ans ,cnt);
	vis[x] = true;
}
int main()
{
    scanf("%d",&N);
	for(int i = 1 ; i <= N ; i ++ )
	{
		int v = 0;
		memset(vis,false,sizeof vis);
		cin >> s + 1 ;
		for(int j = 0 ; j <= 11 ; j ++ )
		if(s[j + 1] == 'o')v|=(1 << j );
        //将-o转化为01状态
		ans = 13 ; 
		dfs(v);深搜
		printf("%d\n",ans);
	}
	return 0;
}
```
$\text{无注释}$

$Code$

```cpp
#include <cstdio>
#include <algorithm>
#include <cstring>
#include <iostream>
using namespace std;
int N,ans;
bool vis[4500];
char s[14];
void dfs(int x)
{
	/*for(int i = 0 ; i <= 11 ; i ++ )
	if(x & (1 << i))cout<<1;
	else cout<<0;
	cout<<endl;*/
	if(vis[x])return ;
	for(int i = 2 ; i <= 11 ; i ++ )
	{
		if((x&(1 << i)&&(x & ( 1 << i - 1))&&(!(x&(1 << i - 2))))||(!(x&(1 << i))&&(x & ( 1 << i - 1))&&(x&(1 << i - 2))))
		{
			x ^= 1 << i - 2 ;
			x ^= 1 << i;
			x ^= 1 << i - 1 ; 
			dfs(x);
			x ^= 1 << i - 2 ;
			x ^= 1 << i;
			x ^= 1 << i - 1 ; 
		}
  	}
	int cnt = 0;
	for(int i = 0 ; i <= 11 ; i ++ )
	    if(x & (1 << i))cnt++;
	    ans = min (ans ,cnt);
	vis[x] = true;
}
int main()
{
    scanf("%d",&N);
	for(int i = 1 ; i <= N ; i ++ )
	{
		int v = 0;
		memset(vis,false,sizeof vis);
		cin >> s + 1 ;
		for(int j = 0 ; j <= 11 ; j ++ )
		if(s[j + 1] == 'o')v|=(1 << j );
		ans = 13 ; 
		dfs(v);
		printf("%d\n",ans);
	}
	return 0;
}
```
考虑到，2^12-1 = 4096

~~众所周知，打表是**********~~

打表$ACcode$

```cpp
#include <cstdio>
#include <iostream>
using namespace std;
int n,ans[4096] = {0,1,1,1,1,2,1,2,1,2,2,1,1,1,2,2,1,2,2,2,2,3,1,2,1,2,1,2,2,2,2,3,1,2,2,2,2,3,2,3,
2,3,3,1,1,2,2,1,1,2,2,1,1,1,2,2,2,3,2,2,2,1,3,3,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,3,
2,3,3,3,3,4,1,2,1,2,2,2,2,3,1,2,1,2,2,2,2,3,1,2,1,2,1,2,2,2,2,2,2,3,3,2,2,2,2,3,
2,3,1,2,3,2,3,4,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,3,2,3,3,3,3,4,2,3,2,3,2,3,3,3,3,4,
2,3,3,3,3,4,3,4,3,4,4,1,1,2,2,2,1,2,2,2,2,2,2,3,2,3,3,1,1,2,2,1,1,2,2,2,2,3,2,3,
2,3,3,1,1,2,2,1,1,2,2,1,1,1,2,2,2,3,2,2,2,1,2,3,2,3,3,3,3,4,2,3,2,3,2,2,2,3,3,1,
2,3,3,1,1,2,2,1,3,4,2,3,3,1,4,4,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,3,2,3,3,3,3,4,2,3,
2,3,2,3,3,3,3,4,2,3,3,3,3,4,3,4,3,4,4,2,2,3,3,2,2,3,3,2,2,2,3,3,3,4,3,3,3,2,4,4,
2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,3,4,4,4,4,5,1,2,1,2,2,2,2,3,2,3,1,2,2,2,2,3,2,3,
2,3,2,2,2,2,3,3,2,3,3,3,3,3,1,2,1,2,2,2,2,3,1,2,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,3,
2,3,3,3,3,4,1,2,1,2,2,2,2,3,1,2,1,2,2,2,2,3,1,2,1,2,1,2,2,2,2,2,2,3,3,2,2,2,2,3,
2,3,1,2,2,2,3,2,2,3,3,3,3,4,3,4,3,4,4,2,2,3,3,2,2,3,3,2,2,2,2,3,2,3,3,3,3,2,1,2,
2,3,3,3,3,4,1,2,1,2,2,2,2,3,1,2,3,4,4,2,2,3,3,2,3,4,1,2,4,2,4,5,1,2,2,2,2,3,2,3,
2,3,3,2,2,2,3,3,2,3,3,3,3,4,2,3,2,3,2,3,3,3,3,4,2,3,3,3,3,4,3,4,3,4,4,2,2,3,3,2,
2,3,3,2,2,2,3,3,3,4,3,3,3,2,4,4,2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,3,4,4,4,4,5,2,3,
2,3,3,3,3,4,2,3,2,3,3,3,3,4,2,3,2,3,2,3,3,3,3,3,3,4,4,3,3,3,3,4,3,4,2,3,4,3,4,5,
2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,3,4,4,4,4,5,3,4,3,4,3,4,4,4,4,5,3,4,4,4,4,5,4,5,
4,5,5,1,1,2,2,2,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,2,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,2,
2,3,3,2,2,2,2,3,2,3,2,3,3,2,3,4,2,3,3,3,3,4,3,4,3,4,3,1,1,2,2,2,1,2,2,2,2,2,2,2,
2,3,3,1,1,2,2,1,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,3,2,3,3,3,3,4,2,3,2,3,2,3,3,3,3,4,
2,3,3,3,3,4,3,4,3,4,4,1,1,2,2,2,1,2,2,2,2,2,2,3,2,3,3,1,1,2,2,1,1,2,2,2,2,3,2,3,
2,3,3,1,1,2,2,1,1,2,2,1,1,1,2,2,2,3,2,2,2,1,2,3,2,3,3,3,3,4,2,3,2,3,2,2,2,3,3,1,
2,3,3,1,1,2,2,1,2,3,2,3,3,1,2,3,2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,3,4,4,4,4,5,2,3,
2,3,3,3,3,4,2,3,2,3,3,3,3,4,2,3,2,3,2,2,2,3,3,3,2,3,3,3,3,3,3,4,3,4,2,1,1,2,2,2,
2,3,3,3,3,4,3,4,3,4,4,1,1,2,2,2,1,2,2,2,2,2,2,3,2,3,3,1,1,2,2,1,3,4,4,4,4,5,2,3,
2,3,3,3,3,4,2,1,3,4,4,1,1,2,2,2,4,5,2,3,4,1,5,5,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,3,
2,3,3,3,3,4,2,3,2,3,2,3,3,3,3,4,2,3,3,3,3,4,3,4,3,4,4,2,2,3,3,2,2,3,3,2,2,2,3,3,
3,4,3,3,3,2,4,4,2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,3,4,4,4,4,5,2,3,2,3,3,3,3,4,2,3,
2,3,3,3,3,4,2,3,2,3,2,3,3,3,3,3,3,4,4,3,3,3,3,4,3,4,2,3,4,3,4,5,2,3,3,3,3,4,3,4,
3,4,4,3,3,3,4,4,3,4,4,4,4,5,3,4,3,4,3,4,4,4,4,5,3,4,4,4,4,5,4,5,4,5,5,2,2,3,3,3,
2,3,3,3,3,3,3,4,3,4,4,2,2,3,3,2,2,3,3,3,3,4,3,4,3,4,4,2,2,3,3,2,2,3,3,2,2,2,3,3,
3,4,3,3,3,2,3,4,3,4,4,4,4,5,3,4,3,4,3,3,3,4,4,2,3,4,4,2,2,3,3,2,4,5,3,4,4,2,5,5,
2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,3,4,4,4,4,5,3,4,3,4,3,4,4,4,4,5,3,4,4,4,4,5,4,5,
4,5,5,3,3,4,4,3,3,4,4,3,3,3,4,4,4,5,4,4,4,3,5,5,3,4,4,4,4,5,4,5,4,5,5,4,4,4,5,5,
4,5,5,5,5,6,1,2,1,2,2,2,2,3,2,3,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,3,2,3,3,3,3,4,2,3,
2,3,2,3,3,3,2,3,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,3,2,3,3,3,3,4,2,3,2,3,2,3,3,3,2,3,
2,3,3,3,3,4,2,3,2,3,2,2,2,3,3,2,2,3,3,2,2,2,3,3,3,4,2,3,3,2,4,3,2,3,3,3,3,4,3,4,
3,4,4,3,3,3,4,3,3,4,4,3,3,3,1,2,1,2,2,2,2,3,2,3,1,2,2,2,2,3,2,3,2,3,2,2,2,2,2,3,
2,3,3,3,3,3,1,2,1,2,2,2,2,3,1,2,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,3,2,3,3,3,3,4,2,3,
2,3,2,3,3,3,3,4,2,3,3,3,3,4,3,4,3,4,4,2,2,3,3,2,2,3,3,2,2,2,3,3,3,4,3,3,3,2,4,4,
2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,3,4,4,4,4,5,1,2,1,2,2,2,2,3,2,3,1,2,2,2,2,3,2,3,
2,3,2,2,2,2,3,3,2,3,3,3,3,3,1,2,1,2,2,2,2,3,1,2,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,3,
2,3,3,3,3,4,1,2,1,2,2,2,2,3,1,2,1,2,2,2,2,3,1,2,1,2,1,2,2,2,2,2,2,3,3,2,2,2,2,3,
2,3,1,2,2,2,3,2,2,3,3,3,3,4,3,4,3,4,4,2,2,3,3,2,2,3,3,2,2,2,2,3,2,3,3,3,3,2,1,2,
2,3,3,3,3,4,1,2,1,2,2,2,2,3,1,2,2,3,3,2,2,3,3,2,3,4,1,2,2,2,3,2,2,3,3,3,3,4,3,4,
3,4,4,3,3,3,4,4,3,4,4,4,4,5,3,4,3,4,3,4,4,4,4,5,3,4,4,4,4,5,4,5,4,5,5,2,2,3,3,3,
2,3,3,3,3,3,3,4,3,4,4,2,2,3,3,2,2,3,3,3,3,4,3,4,3,4,4,2,2,3,3,2,2,3,3,2,2,2,2,3,
2,3,3,3,3,2,3,4,2,3,3,3,3,4,3,4,3,4,3,3,3,3,4,2,3,4,4,2,2,3,1,2,1,2,2,2,2,2,2,3,
2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,3,4,4,4,4,5,1,2,1,2,2,2,2,3,2,3,1,2,2,2,2,3,2,3,
2,3,2,2,2,2,3,3,2,3,3,3,3,3,1,2,1,2,2,2,2,3,1,2,3,4,4,4,4,5,4,5,4,5,5,2,2,3,3,3,
2,3,3,3,3,3,3,4,3,4,4,2,2,3,1,2,3,4,4,4,4,5,1,2,1,2,2,2,2,3,2,2,4,5,5,2,2,3,3,3,
4,5,1,2,5,2,5,6,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,3,2,3,3,3,3,4,2,3,2,3,2,3,3,3,3,4,
2,3,3,3,3,4,3,4,3,4,4,2,2,3,3,2,2,3,3,2,2,2,3,3,3,4,3,3,3,2,4,4,2,3,3,3,3,4,3,4,
3,4,4,3,3,3,4,4,3,4,4,4,4,5,2,3,2,3,3,3,3,4,2,3,2,3,3,3,3,4,2,3,2,3,2,3,3,3,3,3,
3,4,4,3,3,3,3,4,3,4,2,3,4,3,4,5,2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,3,4,4,4,4,5,3,4,
3,4,3,4,4,4,4,5,3,4,4,4,4,5,4,5,4,5,5,2,2,3,3,3,2,3,3,3,3,3,3,4,3,4,4,2,2,3,3,2,
2,3,3,3,3,4,3,4,3,4,4,2,2,3,3,2,2,3,3,2,2,2,3,3,3,4,3,3,3,2,3,4,3,4,4,4,4,5,3,4,
3,4,3,3,3,4,4,2,3,4,4,2,2,3,3,2,4,5,3,4,4,2,5,5,2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,
3,4,4,4,4,5,3,4,3,4,3,4,4,4,4,5,3,4,4,4,4,5,4,5,4,5,5,3,3,4,4,3,3,4,4,3,3,3,4,4,
4,5,4,4,4,3,5,5,3,4,4,4,4,5,4,5,4,5,5,4,4,4,5,5,4,5,5,5,5,6,2,3,2,3,3,3,3,4,3,4,
2,3,3,3,3,4,3,4,3,4,3,3,3,3,4,4,3,4,4,4,4,4,2,3,2,3,3,3,3,4,2,3,2,3,3,3,3,4,3,4,
3,4,4,3,3,3,4,4,3,4,4,4,4,5,2,3,2,3,3,3,3,4,2,3,2,3,3,3,3,4,2,3,2,3,2,3,3,3,3,3,
3,4,4,3,3,3,3,4,3,4,2,3,3,3,4,3,3,4,4,4,4,5,4,5,4,5,5,3,3,4,4,3,3,4,4,3,3,3,3,4,
3,4,4,4,4,3,2,3,3,4,4,4,4,5,2,3,2,3,3,3,3,4,2,3,4,5,5,3,3,4,4,3,4,5,2,3,5,3,5,6,
2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,3,4,4,4,4,5,3,4,3,4,3,4,4,4,4,5,3,4,4,4,4,5,4,5,
4,5,5,3,3,4,4,3,3,4,4,3,3,3,4,4,4,5,4,4,4,3,5,5,3,4,4,4,4,5,4,5,4,5,5,4,4,4,5,5,
4,5,5,5,5,6,3,4,3,4,4,4,4,5,3,4,3,4,4,4,4,5,3,4,3,4,3,4,4,4,4,4,4,5,5,4,4,4,4,5,
4,5,3,4,5,4,5,6,3,4,4,4,4,5,4,5,4,5,5,4,4,4,5,5,4,5,5,5,5,6,4,5,4,5,4,5,5,5,5,6,
4,5,5,5,5,6,5,6,5,6,6,1,1,2,2,2,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,3,1,2,2,2,2,3,2,3,
2,3,3,2,2,2,3,3,2,3,3,3,3,3,2,3,2,3,2,3,3,3,3,4,2,3,3,3,3,4,3,4,3,4,4,2,2,3,3,2,
2,3,3,2,2,2,3,3,3,4,3,2,2,2,3,2,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,3,2,3,3,3,3,4,2,3,
2,3,2,3,3,3,3,4,2,3,3,3,3,4,3,4,3,4,4,2,2,3,3,2,2,3,3,2,2,2,3,3,3,4,3,2,2,2,3,2,
2,3,3,3,3,4,3,4,3,4,4,2,2,3,3,2,2,3,3,2,2,2,2,3,2,3,3,3,3,2,2,3,2,3,3,3,3,4,2,3,
2,3,2,3,3,3,3,2,3,4,4,2,2,3,3,2,3,4,2,3,4,2,3,4,2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,
3,4,4,4,4,5,3,4,3,4,3,4,4,4,3,4,3,4,4,4,4,5,3,4,3,4,3,1,1,2,2,2,1,2,2,2,2,3,2,3,
2,3,3,2,2,2,3,2,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,2,2,3,3,2,2,2,2,3,2,3,2,2,2,2,3,2,
2,3,3,3,3,4,3,4,3,4,3,1,1,2,2,2,1,2,2,2,2,2,2,2,2,3,3,1,1,2,2,1,1,2,2,2,2,3,2,3,
2,3,3,2,2,2,3,3,2,3,3,3,3,4,2,3,2,3,2,3,3,3,3,4,2,3,3,3,3,4,3,4,3,4,4,2,2,3,3,2,
2,3,3,2,2,2,3,3,3,4,3,3,3,2,4,4,2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,3,4,4,4,4,5,2,3,
2,3,3,3,3,4,2,3,2,3,3,3,3,4,2,3,2,3,2,3,3,3,3,3,3,4,4,3,3,3,3,4,3,4,2,3,4,3,4,5,
2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,3,4,4,4,4,5,3,4,3,4,3,4,4,4,4,5,3,4,4,4,4,5,4,5,
4,5,5,1,1,2,2,2,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,2,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,2,
2,3,3,2,2,2,2,3,2,3,2,3,3,2,3,4,2,3,3,3,3,4,3,4,3,4,3,1,1,2,2,2,1,2,2,2,2,2,2,2,
2,3,3,1,1,2,2,1,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,3,2,3,3,3,3,4,2,3,2,3,2,3,3,3,3,4,
2,3,3,3,3,4,3,4,3,4,4,1,1,2,2,2,1,2,2,2,2,2,2,3,2,3,3,1,1,2,2,1,1,2,2,2,2,3,2,3,
2,3,3,1,1,2,2,1,1,2,2,1,1,1,2,2,2,3,2,2,2,1,2,3,2,3,3,3,3,4,2,3,2,3,2,2,2,3,3,1,
2,3,3,1,1,2,2,1,2,3,2,3,3,1,2,3,2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,3,4,4,4,4,5,2,3,
2,3,3,3,3,4,2,3,2,3,3,3,3,4,2,3,2,3,2,2,2,3,3,3,2,3,3,3,3,3,3,4,3,4,2,1,1,2,2,2,
2,3,3,3,3,4,3,4,3,4,4,1,1,2,2,2,1,2,2,2,2,2,2,3,2,3,3,1,1,2,2,1,2,3,3,3,3,4,2,3,
2,3,3,3,3,3,2,1,3,4,4,1,1,2,2,2,2,3,2,3,3,1,2,3,2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,
3,4,4,4,4,5,3,4,3,4,3,4,4,4,4,5,3,4,4,4,4,5,4,5,4,5,5,3,3,4,4,3,3,4,4,3,3,3,4,4,
4,5,4,4,4,3,5,5,3,4,4,4,4,5,4,5,4,5,5,4,4,4,5,5,4,5,5,5,5,6,2,3,2,3,3,3,3,4,3,4,
2,3,3,3,3,4,3,4,3,4,3,3,3,3,4,4,3,4,4,4,4,4,2,3,2,3,3,3,3,4,2,3,2,3,3,3,3,4,3,4,
3,4,4,3,3,3,4,4,3,4,4,4,4,5,2,3,2,3,3,3,3,4,2,3,2,3,3,3,3,4,2,3,2,3,2,2,2,3,3,3,
2,3,3,3,3,3,3,4,3,4,2,3,3,3,4,3,2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,3,3,4,4,3,3,3,3,4,
3,4,3,4,4,3,2,3,3,4,4,4,4,5,2,3,2,3,3,1,1,2,2,2,1,2,2,2,2,3,2,3,2,3,2,2,2,2,3,2,
2,3,3,3,3,4,3,4,3,4,4,3,3,3,4,4,3,4,4,4,4,5,3,4,3,4,3,4,4,4,4,5,3,4,4,4,4,5,4,5,
4,5,5,1,1,2,2,2,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,2,1,2,2,2,2,3,2,3,2,3,3,2,2,2,3,2,
2,3,3,2,2,2,2,3,2,3,2,3,3,2,3,4,2,3,3,3,3,4,3,4,3,4,3,1,1,2,2,2,1,2,2,2,2,2,2,2,
2,3,3,1,1,2,2,1,3,4,4,4,4,5,4,5,4,5,5,4,4,4,5,5,4,5,5,5,5,6,2,3,2,3,3,3,3,4,3,4,
2,3,3,3,3,4,3,4,3,4,3,3,3,3,4,4,3,4,4,4,4,4,2,3,2,3,3,1,1,2,2,2,3,4,4,4,4,5,4,5,
4,5,5,1,1,2,2,2,1,2,2,2,2,3,2,3,2,3,3,2,2,2,2,2,4,5,5,5,5,6,2,3,2,3,3,3,3,4,3,1,
4,5,5,1,1,2,2,2,5,6,2,3,5,1,6,12};
char s[14];
int main()
{
	cin >> n ;
	for(int i = 1 ; i <= n ; i ++ )
	{
		int v = 0;
		cin >> s + 1 ;
		for(int j = 0 ; j <= 11 ; j ++ )
		if(s[j + 1] == 'o')v|=(1 << j );
		printf("%d\n",ans[v]);
	}
}
```
