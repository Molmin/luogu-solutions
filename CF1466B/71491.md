从左往右考虑：  

首先对右边的数的操作肯定不会影响到左边的数的贡献。

如果这个数和上一个数不相等，那么把它+1会使这个数对答案的贡献减少1，肯定不优于不加；

如果这个数和上一个数相等，那么不把它+1它就不会产生贡献，+1肯定不劣于不加。

那么从左到右模拟一遍，再统计一下答案即可。

核心代码：
```cpp
for(int i=2;i<=n;i++) a[i]+=(a[i]<=a[i-1]);
for(int i=1;i<=n;i++) ans+=(a[i]!=a[i-1]);
```