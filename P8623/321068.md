本题的重点在于算出两个建筑物的坐标，及需要算出两个建筑物分别的 $x$ 和 $y$ 坐标。

看下题里原来的编号系统：

```
1  2  3  4  5  6
12 11 10 9  8  7
13 14 15 .....

```
在这里我一开始绕了半天发现这玩意并不好处理（在算横坐标的时候需要特判，代码太臃肿），如果我们把编号全部减一，就舒服很多了：

```
0  1  2  3  4  5
11 10 9  8  7  6
12 13 14 15 .....

```
这样一来，显然可以得出对于奇数行第 $k$ 个点的坐标是：

$$(k \bmod w,k/w)$$

而偶数行为（把奇数行的横坐标倒换）：

$$(w-1-(k \bmod w),k/w)$$

坐标算出来之后直接减然后求绝对值就好。

```cpp
#include<bits/stdc++.h>
using namespace std;
int jue(int a){//用来求绝对值
	if(a<0){
		return 0-a;
	}
	return a;
}
int main() {
	int w,m,n;
	scanf("%d%d%d",&w,&m,&n);
	m--;
	n--; 
	
	int x1=m%w,x2=n%w,y1=m/w,y2=n/w;
	if(y1%2==1){
		x1=w-1-x1;
	}
	if(y2%2==1){
		x2=w-1-x2;
	}
	cout<<jue(x1-x2)+jue(y1-y2);
    return 0;
}

```
