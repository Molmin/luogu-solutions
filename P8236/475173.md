这题直接硬求期望并不合理，我们可以使用分配律来得知（是的，没错，是分配律），计算每一堆石子期望被算进答案的次数。（如果合并的一堆产生了贡献，组成它的所有堆都相当于被算进了答案一次）

贡献很好求，但是概率怎么求呢？

现在已知总共有 $\frac{n\times(n-1)}{2}$ 种选法。

对于场上剩下的 $n$ 堆石子选取两堆进行合并，对于第一堆有 $n$ 种选法，对于第二堆则有 $(n-1)$ 种选法，且会存在重复情况，所以为 $\frac{n\times(n-1)}{2}$。

所以，每堆石子被选中的概率为 $\frac{2}{n\times(n-1)}\times(n-1)=\frac{2}{n}$。

反之，每堆石子不被选中的概率为 $\frac{n-2}{n}$。

设还剩 $n$ 堆石子的时候每个棋子被选中的期望为 $f(n)$。

$f(n)=[1+f(n-1)]\times\frac{2}{n}+f(n-1)\times\frac{n-2}{n}$。

可得 $f(n)=\frac{2}{n}+f(n-1)$。

线性递推就可以求出 $f$ 了，最后答案就是 $f(n)\times\sum a_i$。

PS：本题卡精度，需要用 ```long double```。