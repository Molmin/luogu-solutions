这种题一看就是用特殊结构进行构造。

若存在 $\bmod3=0$ 的点，直接删掉其他的点。反例是只存在这一个点，这种情况显然无解。

若存在 $\bmod 3=2$ 的环，找到内部不含其他边的环。反例是整个图是个环，这种情况显然无解。

排除上面的情况，现在的情况是，$\bmod 3=2$ 的点形成森林，剩下一些 $\bmod 3=1$ 的点。

此时若存在至少两个 $\bmod 3=1$ 的点，找到图中某个 $\bmod 3=1$ 的点，找到距离他最近的 $\bmod3=1$ 的点，取这个最短路上的点。显然一般这是对的。反例是整个图是个链，这种情况显然无解。

若存在 $\bmod 3=2$ 的点，则必存在 $\bmod 3=1$ 的点，原因在下面。假设不存在 $\bmod 3=2$ 的点，则不可能只存在一个 $\bmod 3=1$ 的点。

若剩余至少两棵 $\bmod 3=2$ 的点的树，显然所有叶结点均连向唯一的 $\bmod 3=1$ 的点，也就是说每棵树至少有两条连向外界的边，那么显然可以在每棵树上找到一个环状结构。在两棵树上这样找使得 $\bmod 3=1$ 的点度数为 $4$ 即可。

反例显然，而且显然无解。

若剩余一棵 $\bmod 3=2$ 的点的树似乎有些麻烦。不过注意到一棵大小为 $m$ 的树内部所有结点的度数和模 $3$ 意义下为 $2(m-1)\bmod 3$，实际上应为 $2m\bmod 3$，也即向唯一的 $\bmod 3=1$ 的点连的边数$\mod 3=2$，这显然是不可能的。

问题得以 $O(m)$ 解决。