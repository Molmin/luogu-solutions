首先，若输入的所有 $a_i$ 全部相等，则输出 $\texttt{NO}$。

其次我们可以将这个问题中的连边分为两个子问题：

现在 $a_i$ 和 $a_j$ 连边。

1. 判断 $a_i\neq a_j$；

1. 判断是否会产生环（**仿照 Kruskal 的思想，利用并查集判断**）。

时间复杂度 $\mathcal O(n^2\alpha(n))$。