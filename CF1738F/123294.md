- Update on 2022.10.19：修改错误。

非常神秘的一道题。

将 $s_c \leq n_c ^ 2$ 写成 $0\leq \sum_{col(u) = c} n_c - deg(u)$，尝试保证 $n_{col(u)} - deg(u) \geq 0$。

若两个点相连，则它们颜色相同。

考虑限制最大即度数最大的点 $u$，如果 $u$ 向所有邻居 $v_i$ 连边，则形成的菊花一定符合要求，因为 $u$ 是度数最大的点，又因为 $n_{col(u)} = deg(u) + 1$ 且 $col(v_i) = col(u)$，所以 $n_{col(v_i)} - deg(v_i)\geq 0$。

删去 $u$ 和所有邻居，继续考虑剩余度数最大的点 $u'$ 并向所有邻居连边。任意时刻若 $u'$ 向已经删除的点 $v'$ 连边，则会合并当前 $u'$ 连出的菊花和 $v'$ 所在连通块。因为我们按照度数从大到小的顺序处理，所以任意时刻连通块大小大于其中所有节点的最大度数，使得合并形成的新连通块大小同样大于其中所有节点的最大度数。

$u'$ 被合并之后就不用继续查 $u'$ 的邻居了，因为 $u'$ 所在连通块已经合法。

查询次数 $n - 1$，时间复杂度 $\mathcal{O}(n\log n)$。$n = 1000$ 应该是为了支持 hack。[代码](https://codeforces.com/contest/1738/submission/174186380)。