//学长问我为什么写这么多注释……我还是写了……:)



```cpp
#include <cstdio>
const int MAXM = 5001, MAXG = 1001;
int G[MAXG];                                    //每个价格之下的牛奶量。 
int n, m;                                        //n=所需牛奶量，m=供应商数量。 
int main() {
    int cost = 0, j = 0, tmp = 0;                //cost=花费量，j=当前单价，tmp=当前牛奶量。 
    scanf("%d%d", &n, &m);
    for (int i = 1, x, y; i <= m; i++) {
        scanf("%d%d", &x, &y);                    //价格为x的供应商拥有多少牛奶。 
        G[x] += y;    
    }
    while (tmp < n) {
        if (tmp + G[j] <= n) {                    //如果【当前牛奶量】与【当前价格的牛奶量】之和小于或等于所需牛奶量的话，就需要把这个价格的牛奶全买了。 
            tmp += G[j];                        //当然，如果【当前价格的牛奶量】等于0，,tmp+=G[j]无影响，所以不用考虑G[j]=0的情况。 
            cost += j * G[j];                    //j*G[j]为买这个供应商的牛奶的价格。 
        } else {                                //如果【当前牛奶量】与【当前价格的牛奶量】之和大于所需牛奶量的话，只需要买一部分牛奶，达到所需即可。 
            cost += j * (n - tmp);                //这样子的话还需要的牛奶量为(n-tmp)，再乘上价格即可得到所需的价格。 
            tmp = n;                            //此时手中的牛奶量已经达到要求，这样的话tmp=n就可以了，否则会导致死循环。 
        }
        j++;                                    //买完这个供应商之后，单价加1表示买下一个供应商的牛奶。 
    }
    printf("%d", cost);
    return 0;
}
```