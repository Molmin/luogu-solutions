~~前言 : 如有笔误 , 期以不吝赐教 , 增鄙之博识也 。~~       
### 一. 题目大意   
给定一个正整数 $n(1\le n\le 10^6)$，若两个机器人每回合可以任一方走一步，任一方最多走 $n$ 步，求所有状态数 $\bmod\ 10^9+7$。     
   
---    
### 二. 题目转换   
观察题目后不难发现两个机器人**均走且仅走 $n$ 步**，与它们走的顺序无关。   
因此联想到**在网格图上从 $(0,0)$ 走到 $(n,n)$ 的方案数**。  
我们只需要令向右走一步代表红色机器人走一步，向上走一步代表蓝色机器人走一步即可。    
    
但还有一个问题，题目求的是总状态数，如何办 ?  
不难发现，对于 $(n,n)$ 以内的任意一个格点 $(i,j)$   
即红色共走 $i$ 步，蓝色共走 $j$ 步所到达的状态。   
但由于走的顺序是不一定的，   
因此**从 $(0,0)$ 走到 $(i,j)$ 的方案总数便是红色共走 $i$ 步，蓝色共走 $j$ 步所包含的状态总数** （借助图可以理解一下）。   
     
而由组合知识可以知道，从 $(0,0)$ 走到 $(i,j)$ 的方案总数 = $C_{i+j}^i$。    
故题目可以转换为：   
$$\sum_{i=0}^n \sum_{j=0}^n C_{i+j}^i$$     
    
----  
### 三. 组合恒等式的应用   
接下来就是纯数学知识了，考察对组合式化简的熟悉程度。   
先考虑第二个 $\sum$ 的化简。   
     
##### **法一 . 组合恒等式**   
$\because \sum_{k=0}^{i-1} C_{k}^i=0$，故 :    
$$\sum_{j=0}^n C_{i+j}^i = \sum_{k=0}^{n+i} C_{k}^i=C_{n+i+1}^{i+1}$$   
这里用到的是组合恒等式 $11$：   
$$\sum_{i=0}^n C_{j}^m = C_{n+1}^{m+1}$$   
     
##### **法二 . 构造 + 杨辉三角 ( pascal 公式 )**   
由杨辉三角知 :  
$$C_n^m=C_{n-1}^{m-1}+C_{n-1}^m$$   
故 :  
$$\begin{aligned}
\sum_{j=0}^n C_{i+j}^i&=C_{i}^i+C_{i+1}^i+C_{i+2}^i+...+C_{i+n}^i  \\
&=C_{i+1}^{i+1}+C_{i+1}^i+C_{i+2}^i+...+C_{i+n}^i   \\
&=(C_{i+1}^{i+1}+C_{i+1}^i)+C_{i+2}^i+...+C_{i+n}^i  \\
&=C_{i+2}^{i+1}+C_{i+2}^i+...+C_{i+n}^i  \\  
&=...   \\
&=C_{n+i+1}^{i+1}   \\
\end{aligned}$$
     
再考虑第二个 $\sum$ 的化简，跟第一个类似，也有两种方法， 这里给出第一种恒等式的方法：   
$$\begin{aligned}  
\sum_{i=0}^n C_{n+i+1}^{i+1}&=\sum_{i=0}^n C_{n+i+1}^{n}\\    
&=\sum_{k=0}^{2n+1} C_{k}^{n}-C_{n}^{n}  \\ 
&=C_{2n+2}^{n+1}-1 \\
\end{aligned}$$    
   
剩下的就好办了，逆元筛出组合数，直接套公式即可。  

----   
### 四. 代码实现    
~~这就不需要了吧......(雾)~~    
[代码](https://www.luogu.com.cn/paste/wwqovk8h)   