- **题意**：给定一个长度为 $n$ 的序列 $a$，统计数对 $(i,j)$ 个数满足 $a_j-a_i=j-i$。

- $Solution$:

考虑将条件移项变为 $a_j-j=a_i-i$。那么问题转化为对于每个位置 $i$，求 $i<j$ 且 $a_j-j=a_i-i$ 的个数。我们发现值域很小，于是可以对每一个值开一个桶来维护出现次数，按顺序扫描即可，扫描到一个数就算答案，然后这个数的个数 $+1$。

值得一提的是 $a_i-i$ 可能为负数，那我们应该开 `map` 来作为桶，这样的时间复杂度是 $\mathit{O}(n\log n)$ 的。还有一种做法是对于每一个值加上一个偏移量，这个偏移量设为 $n$ 即可，因为 $a_i>0$ 那么有 $a_i-i>-n$，这样做的时间复杂度是 $\mathit{O}(n)$ 的。

- [代码](https://www.luogu.com.cn/paste/cdzbjvwh) $(\ \mathit{O}(n)\ )$