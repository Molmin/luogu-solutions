大致就是说 $n$ 个数，选出 $res$ 个二元组，二元组的和相同。

求 $\max \{res\}$。

第二问就是说，这 $\max\{res\}$ 个二元组有多少种选法。

注意到 $V\le3\times 10^3$，反倒 $n\le 10^6$。

可以考虑基于值域乱搞。

很容易发现，由于只能是两个矿石，那么柱子的高度不超过 $2\times V=6\times 10^3$。

枚举柱子高度，再求方案数可以使得复杂度合法。

方案数怎么求？

用桶记录第 $h$ 个矿石有多少个即可。

对于第二问，在跑一遍一模一样的，统计得到的次数就行了。

但是似乎不需要啊……新增一个变量 `cnt` 统计最大值出现次数，跑一遍就行了。

[代码](https://www.luogu.com.cn/paste/jy4smq7l)