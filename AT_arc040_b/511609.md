[原题戳](https://www.luogu.com.cn/problem/AT_arc040_b)



------------


是一道双指针的思维题吧。

思路如下：

+ 用一个数组 $b[i]$ 记录前缀和：从起始位置到点 $i$ 一共需要上色的点数；

+ 用 $i$ 表示所处位置，用 $j$ 表示上一次染色的最后一个点

+ $i$ 增加的条件：
	1.  $i$ 如果比 $j$ 大， $i$ 、 $j$ 之间不能有需要染色的点；
	2.  $i$ 要小于等于 $(n-s+1)$ （因为大了会浪费时间的，没必要增加了）
	3. 如果 $(i+s-1)$ 到 $n$ 之间没有需要染色的点了就不需要增加了

核心代码：

```cpp
if(b[n]==0){
	printf("0");
	return 0;
}
//特判
for(int i=1,j=0;i<=n-s+1;i++){
	while(i<n-s+1&&(b[i]-b[j]==0||i<=j)&&b[i+s-1]<b[n]){//判断
		i++;//前进一步
		ans++;//操作时间增加
	}
	j=i+s-1;//更新最后一个染色的点
	ans++;//染色需要时间，时间增加
	if(b[j]==b[n])break;//如果(j+1)到n之间没有需要染色的点了就跳出循环
	ans++;//此处其实藏了循环的i++，因此时间也要增加
}

```
