# UVA11401题解

**解答**：由于 $n$ 的上限很大，所以暴力这个思路是直接被否决的。为了能够不重复地统计三角形的数量，先将三角形按最长边进行分类计数。令 $C(x)$ 表示三角形中最长边为 $x$ 时的不同三角形数量，同时另外的两条边的边长分别为 $y$ 和 $z$，根据三角形的边不等式有

$y+z>x$

易得

$x-y<z<x$

由于题目约束三角形的三条边长均不相同，则当 $y=1$,不等式无解；当 $y=2$ 时，$z$ 只有 $1$ 个解，分别是 $x-1$；当 $y=3$ 时 $z$ 有 $2$ 个解，分别是 $x-2$、$x-1$……当 $y=x-1$，$z$ 有 $x-2$ 个解,分别是 $2$、$3$、…、$x-1$。观察得到，解的数量构成了等差数列，故总的解数量为

$\frac{(x-1)(x-2)}{2}$。

不过这不是 $C(x)$ 的值。如题意，$y=z$ 时不符要求的，要将它剔除，当 $y=z$ 时，共要剔除

$(x-1)-(\frac{x}{2}+1)+1=\frac{(x-2)}{2}$

种，由于 $x$ 和 $y$ 交换是相同的三角形，故还要剔除，得 

$C(x)=\frac{\frac{(x-1)(x-2)}{2}-\frac{x-2}{2}}{2}=\frac{(x-2)^{2}}{4}$。

最后，由于题目求最大边长不超过 $n$ 的不同三角形数量 $F(n)$，有 $F(n)=C(1)+C(2)+…+C(n)=F(n-1)+C(n)$。

# code
```c
#include<bits/stdc++.h>
using namespace std;
#define ll long long
ll n,f[1000009]; 
int main()
{
	for(ll i=3;i<=1000000;i++)//预处理 
	{
		f[i]=f[i-1]+(i-2)*(i-2)/4;
	}
	while(1)//输入输出 
	{
		cin>>n;
		if(n<3) 
			break;
		cout<<f[n]<<endl;
	}
	return 0;
 } 
```


