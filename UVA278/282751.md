upd：修改了一处较大错误，请管理员重新审核一下。

这题挺水的吧。。。

# 题目分析
分类讨论。

## 后（Q）
建议了解一下[八皇后问题](https://www.luogu.com.cn/problem/P1219)。

可以发现，一行最多一个皇后。

同理一列最多一个皇后。

~~这不是废话吗。~~

所以答案应该是 $\min(n,m)$。

## 车（Q）
和后基本相同。

最多个数应该是全部放在一条对角线上。

所以答案还是 $\min(n,m)$。
## 马（k）
先放一张图：

![](https://cdn.luogu.com.cn/upload/image_hosting/z9w8r0rl.png)

这就是放马的最佳策略。

证明可以从一行，两行，多行三种情况考虑。

所以答案是 $(n \times m +  1) \div 2$。

## 王（K）
王也比较好想，王的控制范围为周围八个格子，不难想到在每一列都隔一格放一个，每一行也是这样。

则答案是 $((n+1)\div2)\times((m+1)\div2)$。

## 代码
~~这种题代码没有放的必要吧。~~