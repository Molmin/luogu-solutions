首先，我们进行 dp。

设 $f_{i,j}$ 代表 Alice 有 $i$ 个且 Bob 有 $j$ 个现在该 Alice 的最好代价，是一个二元组。

转移方程自然是 $f_{i,j}=better(Bob) f_{i-1,j}+Alice,Rev(f_{j,i-1})$。

比如 $f_{3,5}=(2,5),f(5,3)=(4,3)$，那么 $f(4,5)=better(Bob) (3,5) (3,4)=(3,5)$。

然后推一推就发现 $f(i,j)=(i-1,j)$。

交上去就过了。