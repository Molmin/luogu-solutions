
题解：

将图从1节点开始，进行bfs，生成一个bfs序的DAG（有向无环图，有点像树）。

我们把“涨价”行为直接认为是删边。

如果某个定点往DAG上面回溯，不能到达1节点，说明没有跟初始值一样的最短路径。

于是我们开始删除一条边。假设这条边是连u->v节点。我们要确定这条边方的子图哪些会因为删了这条边而不能回溯到根节点。

策略是这样的：

使用bfs，将u->v放入队列。

删除u->v。

若v的入度为0：则删了这条边之后，不能回溯到根，记录v是第几条边删除后不能联通的，然后将v->w1，v->w2...v->wn全部放入队列。wi是v可以直接连到且没有连边被删除的节点。

若v的入度不为0：v的入度-=1

然后我们就知道了每个节点在什么时候是不能被访问的。

由于所有边和节点都会被至多访问一次，所以复杂度是线性的。



解法2：DAG上的dp（Claris提供）

dp[x]=max(min(dp[pre],deltime(pre,x)))

