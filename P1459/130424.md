此题思路如下：

1. 先算出1,2,3出现的个数，分好类
2. 再把2 2 1 3 3 3 2 3 1（本题样例）这样的数，每个减去最后要变成的数（例题是要减去1 1 2 2 2 3 3 3 3），要变成1 -1 1 -1 -1 0 1 0 2（保存在b[]里）
3. 记录1,-1,2,-2出现次数（只会有1，-1,2，-2,0这四个数，0不用记）
4. 最后一步很关键，max(q1,w1)+min(q2,w2)。-1,1一次可以换过来，-2,2也是一次换过来，-1,-1,2或1,1,-2要换两次。所以取1和-1出现次数的最大数加上2和-2出现次数的最小数，就是答案。（2与-2出现次数的差，肯定是1与-1出现次数的差的二分之一，取q1,w1最大数加上q2,w2最小数即可）
```cpp
#include<iostream>
#include<algorithm> 
using namespace std;
int main(){
	int n,a[1001],b[1001],i,a1=0,a2=0,a3=0;
	cin>>n;
	for(i=1;i<=n;i++){
		cin>>a[i];
		if(a[i]==1)a1++;
		if(a[i]==2)a2++;
		if(a[i]==3)a3++;
	}//第一步
	for(i=1;i<=n;i++){
		if(a1>=i)b[i]=1-a[i];
		if(a1+a2>=i&&i>a1)b[i]=2-a[i];
		if(a1+a2+a3>=i&&i>a2+a1)b[i]=3-a[i];
	}//第二部
	int q1=0,q2=0,w1=0,w2=0;//q1存1，q2存2，w1存-1，w2存-2
	for(i=1;i<=n;i++){
		if(b[i]==1)q1++;
		if(b[i]==-1)w1++;
		if(b[i]==2)q2++;
		if(b[i]==-2)w2++;
	}//第三部
	cout<<max(q1,w1)+min(q2,w2);//第四部
} 
```
