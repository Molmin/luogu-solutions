- 有一个很简单易懂的做法，对于有效位数较多的题目，也可以实现理论复杂度的优化（实际较快），可以达到 $O(\log n)$。
- 似乎用到[这里](https://oi-wiki.org/math/number-theory/stern-brocot/)的一些思想，在此标记。

**[题意](https://www.luogu.com.cn/problem/P1298)**
- 给定一个正实数 $k$，求与它最接近的，分子分母大小不超过一定值 $n$ 的既约分数。

**分析**
- 我们设 $a=0,b=1,c=1,d=0$，令 $1/0$ 表示正无穷，那么初始时 $k$ 一定在 $[a/b,c/d]$ 间。
- 令 $e=a+c,f=b+d$，那么 $a/b<e/f<b/d$ 且 $e/f$ 为既约分数，然后查询目标在 $[a/b,e/f]$，还是 $[e/f,c/d]$ 内，继续递归，[代码](https://www.luogu.com.cn/paste/8uvajnwv)。
- 直接这样做的复杂度为 $O(n)$，当初始值取整数值较大时容易取到上界。
- 可以利用一元一次方程计算接下来还有几次向左走和向右走，由于交替向左向右分子分母的增长都是指数级的，复杂度 $O(\log n)$，可以适应更大的数据范围，[代码](https://www.luogu.com.cn/paste/t9bkrtkx)。