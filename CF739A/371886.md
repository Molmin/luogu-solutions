题意简化

给你 $m$ 个区间，让你构造出一个长度为 $n$ 的序列，要你分别求出这 $m$ 个区间中未出现的最小自然数，再输出所有最小自然数中最大的那个和构造出的数列，并使它尽可能大。 $($ 区间的左右端点是指 $n$ 数组的下标 $)$  

思路

构造题。

易发现 $mex$ 的值与区间长度有关，所以 $mex$ 最小值的最大值就为所有区间长度中的最小值。

想出上述思路的关键在于未出现过的最小自然数。若不把 $0,1,2,3$ 这种小的数填进去的话就会导致 $mex$ 取到这些较小数。而一个区间内也最多只能填区间长度那么多个，所以 $mex$ 最小值的最大值才是所有区间长度中的最小值。

对于构造序列，只需把  $0$ 到 $mex$ $-$ $1$  均匀的输出 $n$ 个即可。 $($ 输出更大的不仅对答案无帮助，反而会使答案变小 $)$ 

代码

虽然思路较难，但代码十分容易实现。

```cpp
#include<bits/stdc++.h>
using namespace std;
int n,m,mex=1e9;
int main(){
	cin>>n>>m;
	for(int i=1;i<=m;i++){
		int a,b;
		cin>>a>>b;
		mex=min(mex,b-a+1);//求mex值
	}
	cout<<mex<<endl;
	for(int i=1;i<=n;i++){
		cout<<i%mex<<' ';//轮流输出
	}
	return 0;
} 
```

