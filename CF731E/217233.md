这里提供一种与其他题解不同的思路。

## 题目解析

我们可以发现，每次取完第 $i$ 个数时， $i$ 及其后面的前缀和都不变。

也就是说：

**本题相当于两人交替选择数组的前缀和！**

## 实现方法

根据前面的分析，我们先求出原数组的前缀和 $a_i$ 。

我们设 $dp_i$ 为某人先手时已经取完了前 $i$ 个数所取得的**最大差值**。

下面有两种情况：

### 1.不取到第 $i+1$ 个数

此时与从第 $i+1$ 个数开始取无异，所以 $dp_i=dp_{i+1}$

### 2.取到第 $i+1$ 个数

此时，先手取完得到 $a_{i+1}$ ，后手继续可以得到 $dp_{i+1}$ ，于是 $dp_i=a_{i+1}-dp_{i+1}$

综上所述，可得： $dp_i=\max(dp_{i+1},a_{i+1}-dp_{i+1})$

初始化：由于 $dp_n$ 无意义，我们就设 $dp_{n-1}=a_n$ 。

## ~~你们要的~~代码

```cpp
#include<bits/stdc++.h>
using namespace std;
int n,a[1001000],dp[1001000];
int main()
{
	scanf("%d",&n);
	for(int i=1;i<=n;++i)scanf("%d",&a[i]),a[i]+=a[i-1];//求前缀和 
	dp[n-1]=a[n];
	for(int i=n-2;i>=1;--i)
	{
		dp[i]=max(dp[i+1],a[i+1]-dp[i+1]);
	}
	printf("%d\n",dp[1]);
	return 0;//养成好习惯 
}
```