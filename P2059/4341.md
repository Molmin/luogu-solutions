这是一个约瑟夫问题的变种。

一、约瑟夫问题

1、什么是约瑟夫问题：

n个人（编号0~(n-1）），从0开始报数，报到（m-1）的退出，剩下的人继续从0开始报数。求胜利者的编号。（来自百度百科）

2、约瑟夫问题的解法

记f(i)表示i个人玩约瑟夫游戏的最终胜利者。

显然f(1) = 0

如果n个人玩约瑟夫游戏，显然，第一轮游戏后，(m-1) mod n号玩家将会退出。问题变成了剩下的n-1个人玩约瑟夫游戏。

我们将这n-1个人重新编号，令k = m mod n（也就是退出游戏的玩家的下一位）。

k --> 0

k+1 --> 1

k+2 --> 2

...
...
k-2 --> n-2

假如我们知道f(n-1)的答案是x，那么x号玩家在n个人玩的游戏中的编号应该是(x+m) mod n。

也就是说f(n) = (f(n-1)+m) mod n

这样我们就得到了递推式，根据该式就可以得到约瑟夫问题的答案。

二、本问题

由于m的值在本问题中无法确定，那么游戏的胜利者也无法确定。

所以，我们记f(i,j)为i个人玩约瑟夫游戏，j号玩家胜利的概率。

由约瑟夫问题可知，f(i+1,j) = 求和(f(i,k)\*1/m) 。设第x张卡片上的数字为px，则k为满足(k+x) mod (i+1) = j的所有数。

这样我们就求出了所有玩家获胜的概率。
