## 题意
有一个长度为 $n$ 的序列 $a$，$q$ 组询问，每次查询一个区间 $[l,r](l<r)$，问 $[l,r]$ 中的数的两两之间按位 or 最小是多少。  
$n,q\leq 10^5$

## Solution  
先来想想一次询问怎么做。  
考虑从高到低确定每个二进制位，发现如果这一位能贪心地选 0 一定要选。  
如何看这一位能不能选 0 呢，我们查询 $[l,r]$ 中这一位是 0 的个数。  
设现在能选的值域是 $[L,R]$，  
如果有至少两个，那答案的这一位就可以是 0，接下来只能在值域 $[L,mid]$ 中选数了。  
如果说一个都没有，那我们直接在值域 $[mid+1,R]$ 中选数。  
如果恰好有一个，我们两边都进去递归肯定是不划算的，我们可以把左边一段的唯一那个数找出来，这一位变成 1，然后放进右半段，询问完再删除。

问题需要在一段区间内查找一段值域的数字出现的次数，容易想到用主席树来维护。

注意要记得回收内存，每次单独插入数字后，把内存回收掉，否则空间会是 $O(nlog^2n)$ 的。  

## 额外的想法  
因为根据上述操作，每一层最多有一个数字被扔到旁边去会被选择，因此最多用来选择的数是 $O(\log A)$ 级的，$A$ 是数字值域，而被扔到右边去的都是最小的数，所以说维护每个区间最小的 31 个数暴力找 or 最小值也是可以的。  
31 是因为还要多算本身就在递归到的右边区间的最小一个。

## Code  

[153103647](https://codeforces.com/contest/1665/submission/153103647)

