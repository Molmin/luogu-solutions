第二道 $\text{Ynoi}$，发个题解纪念一下。

这题加减这两个操作很简单，莫队+ $bitset$ 就好了。

具体的话就是用两个 $bitset$ $f1,f2$，一个记录目前这一段有哪些数，另一个则反着记录一下，也就是如果有 $x$，就 $f2[c-x]=1$，$c$ 表示值域最大值。

然后会发现如果两个数的和为 $x$，则一定为 $y,x-y$，而其中 $x-y$ 在 $f2$ 中对应的就是 $c-x+y$ ，所以我们把 $f2$ 右移 $c-x$ 位之后再进行 `&` 运算就好了。

减法的话一定是 $y,x+y$，直接将 $f1$ `&` 上一个 $f1$ 右移 $x$ 就好了。

然后是乘法，发现可以直接枚举然后验证，$O(n\sqrt c)$，可以。

然后问题就是除法运算，我们首先进行根号分块，发现当 $\sqrt c\leq x$ 的时候枚举次数一定 $\leq \sqrt c$，所以可以直接枚举验证。

当 $x<\sqrt c$ 的时候我们不进行莫队，直接做。

先枚举 $x$（一共 $\sqrt c$）次

在循环里维护两个数组 $la,res$，$la_i$ 表示最近的一个 $i$ 是在哪里，$res_i$ 表示枚举到了 $i$ 时，最早的一对 $y,\frac{y}{x}$ 中靠左的数的位置。然后每次判断 $\frac{a_i}{x}$ 以及 $xa_i$ 的 $la$ 更新 $res$ 即可。

注意一下，这题中会出现除法并且 $x=0$ 的现象，如果你得了 $51pts$ 那么你很有可能是对于这个 $0$ 的特判出了问题。