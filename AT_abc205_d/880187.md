[题目传送门](https://www.luogu.com.cn/problem/AT_abc205_d)

题意很清楚，这里不再赘述。

读题发现序列是递增的，且询问第 $k$ 小数，考虑二分查找。

原序列为 $a$ 序列，第 $i$ 个数为 $a_i$，我们再统计一个 $b$ 序列，$b_i$ 表示在从 $1$ 到 $a_i$ 中不同于 $a$ 中所有数的正整数个数。$b$ 序列的得到方式为：$b_i=a_i-i$，代码如下：
```cpp
for(int i=1;i<=n;i++)
	scanf("%lld",&a[i]),b[i]=a[i]-i;
```
对于每一次询问，查找不同于 $a$ 中所有数的正整数中第 $k$ 小的那个数。对 $b$ 序列进行二分查找，查找 $b$ 序列中第 $1$ 个大于等于 $k$ 的位置，代码为 `lower_bound(b,b+n+1,k)-b`，返回值 $x$ 有两种情况：

- $x$ 为 $n+1$。此时 $k$ 大于 $b$ 序列中每一个数，说明答案大于 $a_n$。因为 $a_n$ 后面没有在 $a$ 序列的正整数了，所以答案为 $a_n$ 后面第 $k-b_n$ 大的数，即 $a_n+(k-b_n)$。

- $x$ 不为 $n+1$。此时 $k$ 肯定小于等于 $b$ 序列中的某一个数，$k$ 位于 $b_{x-1}$ 与 $b_x$ 之间，那么答案肯定在 $a_{x-1}$ 与 $a_x$ 之间，答案为比 $a_x$ 小的数中从大到小排序第 $b_x-k+1$ 个数，即 $a_x-(b_x-k+1)$。 

代码如下：
```cpp
while(q--)
{
	ll k;
	scanf("%lld",&k);
	int x=lower_bound(b,b+n+1,k)-b;
	if(x==n+1) printf("%lld\n",a[n]+(k-b[n]));
	else printf("%lld\n",a[x]-(b[x]-k+1));
}
```

[完整代码](https://atcoder.jp/contests/abc205/submissions/44111098)

我的第 $1$ 篇黄题题解，有不足之处欢迎大家指出。