个人认为这道题的主要难点是理解题意。理解题意之后，代码难度并不高。下面给出几个笔者认为容易出现理解错误的点。  
\* 注：下文以“喝水点”代指“打算喝水的时间点”。
+ ```没人喜欢排队。``` 不意味着不会有人排队，而是只有不知道有人正在接水的人即**空位左边的人**会去排队。  
因此，我们不能对于整个数列进行 $n$ 轮的寻找，而是要优先在**当前接水者（或最后一个排队的人）的前面**找时间最小的人。  
+ ```如果有多人同时要去喝水，那么位置靠左的人会先起身。``` 这句话的意思是**仅有最左侧的人会去排队**而非其在队列中相对靠前。  
所以下一个去倒水的人一定是“喝水点”小于等于当前倒水者倒水完成时间中**编号最小者**。当然，如果所有人的“喝水点”都大于当前倒水者倒水完成时间，那就选“喝水点”最早的那一个。

------------

理解清楚题目意思后，写出来就不难了，考虑用线段树维护**区间中小于等于 $k$ 的数中的最小编号**和**区间最小值**。为避免重复倒水，可以在查询到点后直接将其“倒水点”赋值为无穷大。这样可以少写一个 update。