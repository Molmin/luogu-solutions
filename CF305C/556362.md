注意到 $2^v-1=\sum\limits_{i=0}^{v-1}2^i$，也就是说我们要将 $2^{a_i}$ 每次插入到里面去，如果 $2^{a_i}$ 出现了两次，就合并为 $2^{a_i+1}$。

所以在合并之后，贪心地，我们应该选取的是合并后的 $a_i$ 的最大值，然后再减去元素的数量 $cnt$。

值域比较大，需要使用 `map`。

这些操作中，最耗时间的就是合并，我们来想一想。

因为 $a$ 单调不降，那么如果想要合并 $a_i$，那么就要另一个 $a_i$，这样的话，为了保证浪费的 $a$ 最少，我们需要让所有的 $n$ 相等。

那么我们就可以得到，对于 $i\mod2^x=0$，$i$ 会产生 $x$ 的贡献，那么所有的合并次数加起来就是 $\dfrac{n}{2}+\dfrac{n}{4}+\cdots$，这个式子上界是 $n$，算上 `map` 就是 $O(n\log n)$。