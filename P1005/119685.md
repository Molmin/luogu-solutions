## 题目分析

首先，我们可以确定这个题目不是用穷举做的。由此我们不难想到有动态规划来编写。

从数据规模看，动归时间复杂度为$O(N*M^2)$或者$O(N*M^3)$又因为要高精度，可以断定是$O(N*M^2)$。

那么，我们就用$F[i,j]$表示从$i$到$j$这一段数据的最大值。从$I*2^n$可以转化为每取一个全部$*2$，即在每一层运算中先将$2$乘入，那么以后的取值都只要$*2$就行了！

这是我的方程：$F[i,j]:=max${$2\times(data[i]+F[i+1,j]),2\times(data[j]+F[i,j-1])$}。

其计算方法解释如下：

我们需要用$I$(从$M$到$1$)来控制起始段的位置，每次$J$都从$I$到尾走一遍。

当$i=1$，$j=1$时，$F[1,1]=max${$2\times(data[1]+F[2,1])$,$2\times(data[1]+F[1,0])$}

由于此时$F[2,1]$、$F[1,0]$值为$0$，所以$L=1$时数据最大值就是$2\times data[i]$，要注意的是，这里的$data[i]$将会是最后一个取走的元素。

当$i＝1$，$j＝2$时，$F[1,2]=max$ {$2 \times (data[1]+F[2,2])$,$2\times(data[2]+F[1,1])$}

此时以前的计算就用上了，假设数据$max$都是前者，那么$F[1,2]=2\times (data[1]+F[2,2])=2\times(data[1]+2 \times data[2])$。

再看一个，$i=1$，$j=3$时，同样假设，$F[1,3]=2 \times (data[1]+2\times (data[2]+2 \times data[3]))$。

如样例$1$第一行的计算：$F[1,3]=2\times(1+2\times(2+2\times4))$ ＝$1\times2+2\times2^2+4\times2^3$，这样就可以逆向将最大值求出，最后的$F[1,m]$就是每行的最大值了。

我们还要注意数组的定义范围，必须从$0$开始，否则全$W$了！
在加上高精度，那么$game$就$AC$了！

