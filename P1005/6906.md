TIPS：高精度计算，压位，DP，分治

DP：f[i,j]表示这一行左边取到第i位，右边取到第j位时的最大得分，转移方程：f[i,j]:=max(f[i-1,j]+a[i-1]\*(2的n次方)，f[i,j+1]+a[j+1]\*(2的n次方)）；

怎么理解转移方程：

举例说明，有矩阵：

a1,a2,a3……an

b1,b2,b3……bn 有N列，但只有2行（这里考虑到书写，所以只列举了2行，大于2行也可以证明）

假设上面矩阵的最大得分取法是：a1\*2+b1\*2 + a2\*22+b2\*22……+an\*2n+bn\*2n，把这个算式变换一下，将an和bn的分开提取，结果变换为a1\*2+a2\*22……+an\*2n + b1\*2+b2\*22……+bn\*2n。我们可以考察一下这个算式会发现：a1\*2+a2\*22……+an\*2n 其实就是第一行a1,a2,a3……an的最大得分， b1\*2+b2\*22……+bn\*2n也是第二行b1,b2,b3……bn 的最大得分。也就是说矩阵的最大得分其实是每一行的最大得分之和，每一行的取数不会和其他行发生联系或冲突的。于是矩阵取数最大得分问题就分解为行取数最大得分问题，只要求出每一行的最大得分，然后求和，便可得出矩阵的最大得分。

再来考察一下单行取数问题的求解。首先，设函数Maxgame（i,j）(i<j)，这个函数的功能是：求解一行 ai,a(i+1),a(i+2)……aj 的最大得分。那么a1,a2,a3……an的最大得分用这个函数来表示就是：Maxgame(1,n)，那么这个Maxgame(1,n)的值怎样求得呢？我们继续研究。由于取数的时候只能取行首数或是行尾数，于是便有：Maxgame(1,n)=Max((a1\*2+Maxgame(2,n)\*2),(an\*2+Maxgame(1,n-1)))，从1到n的行最大得分要么等于取行首元素\*2＋从2到n的行的最大得分\*2；要么等于取行尾元素\*2＋从1到n－1的行的最大得分。所以，归纳起来Maxgame(1,n)就只有这2种可能性。再看看，此时的问题就被分解为了一个相同的问题，只是数据规模小了1：去掉了a1或an，剩下的a2,a3,……an或a1,a2,……a(n-1)成为新的待求最大得分的行。如此进行下取，当这一行只剩下2个数时：ax,ay（x必然等于y-1，ax和ay是相邻的2个数），则只需要先取min(ax,ay)，最后一步取max(ax,ay)。该问题迎刃而解。

详细代码：http://www.cnblogs.com/yangqingli/p/4735607.html
