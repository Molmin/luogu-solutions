## 解题思路

一道简单的思维题。

先让我们考虑如下情况：

```
1 2 3 4 5
9 8 7 2 6

```

显然，两个序列只有 $2$ 是相同的。

如何求出题目中所要求的序列的长度呢？

为简化过程，我们把两个原序列化为：

```
* 2 * * *
* * * 2 *

```

易得，```* 2 *``` 是题目所求的序列。

实际上，这个简化后的序列中 ```*``` 可以变为任何数字，因为这个序列只有 $2$ 是有效的。

那么 ```*``` 的个数是如何得来的呢？

由第一个序列可以看出，$2$ 的前面有 $1$ 个 ```*```，后面有 $3$ 个 ```*```，我们把这个数量记录下来。

由第二个序列可以看出，$2$ 的前面有 $3$ 个 ```*```，后面有 $1$ 个 ```*```，我们把这个数量记录下来。

我们把 $2$ 前面与后面的 ```*``` 数量求最小值，即得最终序列里 $2$ 前面与后面 ```*``` 的数量。

## 代码实现

```cpp
#include<iostream>
#include<cstring>
using namespace std;
int a[150005];
int t[150005];
int main(){
	ios::sync_with_stdio(0);cin.tie(0);cout.tie(0);
	int T,n;
	cin>>T;
	while(T--){
		memset(t,0,sizeof(t));
		cin>>n;
		int ans=-1;
		for(int i=1;i<=n;i++){
			cin>>a[i];
			if(!t[a[i]]){
				t[a[i]]=i;
			}else{
				ans=max(ans,t[a[i]]+n-i);
				t[a[i]]=i;
			}
		}
		cout<<ans<<'\n';
	}
	return 0;
}
```
