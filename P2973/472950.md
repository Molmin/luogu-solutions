有关此题的数据范围只有 $100$，

而且炸弹会从道路上移来移去，可能会反复徘徊在一条道路上，

设 $dp_i$ 代表炸弹期望经过 $i$ 号结点的次数，那么它的来源有以下两种：

- 首一次被安装在 $1$ 号结点，经过次数加一。

- 以不爆炸概率除以出边数量的概率，从与其相邻的一个结点上移到这个结点。

设 $k_i$ 为 $i$ 号结点的出度，那么：
$$
dp_i=[i=1]+\sum\limits_\text{s与i相连} (1-\frac{p}{q})\frac{1}{k_s}dp_s
$$

由于 $dp$ 方程具有后效性，再加上图并非树形，无法使用换根法，于是考虑使用高斯消元法。时间复杂度 $O(n^3)$。

方程：$dp_i-\sum\limits_\text{s与i相连} (1-\frac{p}{q})\frac{1}{k_s}dp_s=[i=1]$