#### 看了别人的一些题解，感觉有图会更好理解。
#### 可能很啰嗦…主要是详细地讲一些性质的证明过程。


------------

## 题目大意

平面上有$N$个圆柱形的大钉子，半径都为$R$，所有钉子组成一个**凸多边形**。
现在你要用一条绳子把这些钉子围起来，绳子直径忽略不计，要求绳子的长度。


------------

### 1. 考虑多边形的周长如何运算。

很简单，由于多边形的顶点是依逆时针给出的，因此这个多边形的周长就是**相邻两个顶点的欧几里得距离**。

你可能会想，真的吗？？？ 这个思路不是只有在绳子两端都在钉子的中央之上的时候才是对的吗？ 为了不绕弯路，接下来我们会啰嗦地证明一下…

![](https://cdn.luogu.com.cn/upload/pic/69782.png)

如图所示，$EG$是我们需要考虑的部分。我们想要知道$EG$是否等于$O_1O_2$。

由题意可知，$O_1E$, $O_2G$分别是圆$O_1$，$O_2$的公切线。

或者看这部分 _**感性理解**_ 一下，想象我们把一条绳子拉紧，使绳子同时与两个圆都有碰到的部分，此时我们会发现这根线似乎跟两个圆碰到的部分分别是两个点。与一个圆只有一个交点的直线，叫圆的切线。而圆的切线垂直于经过切点的半径，因此$O_1E$垂直于$EG$, $O_2G$垂直于$EG$，即$O_1E$ // $O_2G$。

我们把钉子的半径用$r$来表示。那么，$O_1E$ = $O_2G$，所以$O_2O_1EG$是一个平行四边形 **（有一组对边平行且相等的四边形是平行四边形）** ，因此$O_1O_2 = EG$。

或者说，我们也可以把$EG$看成$O_1O_2$沿$O_1E$平移得到的线段。
 

------------

### 2. 每一段的弧长度多少？

![](https://cdn.luogu.com.cn/upload/pic/69781.png)

- 接下来，我们的焦点来到了与圆粘连的绳子长度之上。假设我们现在所求的是 $\overset{\frown}{EF}$ ，如果我们知道这段弧的度数（也就是$∠FOE$的度数），就可以轻易地求出每一段弧的长度了。

容易知道，$\sum\limits_{i=1}^n∠FOE=\sum\limits_{i=1}^n180^\circ-θ_i$

此外，$\sum\limits_{i=1}^nθ_i=(n-2)*180^\circ$

所以，$\sum\limits_{i=1}^n∠FOE=n*180^\circ-(n-2)*180^\circ$


## 代码

```cpp
#include <iostream>
#include <cst_dlib>
#include <cstdio>
#include <cmath>
using namespace std;
struct pos //结构体存坐标
{
	double x,y; //实数，用double
}rec[101];
double ans,r;
const double pi=3.14157926535897932384626433;//由于精度问题，所以越精准越好 
double len(pos a,pos b)
{
	return sqrt(pow(a.x-b.x,2)+pow(b.y-a.y,2));
}//求两点的欧几里得距离
int n;
int main(void)
{
	cin>>n>>r;
	for (int i=1;i<=n;i++)
	{
		cin>>rec[i].x>>rec[i].y;
	}
	ans+=2*r*pi;//算弧长
	for (int i=1;i<n;i++)
	{
		ans+=len(rec[i],rec[i+1]);
	}//求多边形周长
	ans+=len(rec[1],rec[n]); //不要漏了，它们也是相邻的
	printf("%.2lf",ans);//保留两位小数输出 使用lf精度较好
}

```

