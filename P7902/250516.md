### 0.前言
$\quad$ 说点闲话，平心而论，如果不是后面讲评那一大堆夭蛾子，这个全是构造题的比赛出的质量确实有点低，但这些题目单个拿出来的是不会有太多问题的，因此希望大家冷静看待做这道题目。不要因比赛与讲评而对题目本身有很大情绪。
## 1.最优策略
1. ### 考虑极限的 $d$
 $\quad$  好了，开始考虑最优策略吧。首先应该讨论的是本题的$-1$究竟应在什么时候输出。稍微用手算一下$m$靠近$1,2$时与靠近$2n$时，应该可以发现在靠近$2n$时不能构造，但如果用奇数填两侧，偶数填中间的序列很容易就可通过$d\leq n$情况。例如这样\
 $1\quad3\quad2\quad2\quad1\quad3$\
 因此，我们认为这个可构造的极限$d$应该在$(n,2n)$之间且与$n$存在联系 ~~不然这还可做吗~~至于具体为多少，得看构造出的数列究竟能承受多大的$d$为极限。
 
2. ### 分奇偶讨论数列
 紧接着我们分奇数与偶数想一下他们究竟该怎么构造。从上面的奇数填两侧，偶数填中间的例子中我们应该受到了一些启发，因为偶数之间的距离可以为$1$（没有设置下限），且这样又刚好分割开了奇数，那么当然的，偶数就应该如 $2,2,4,4,6,6……$ 这样存在于数列中间。
 
 那么奇数呢？因为奇数距离没有设置上限从题意要求**所有奇数**来看，这个序列的相同奇数应该拥有相等的长度。因为偶数由上已经固定,故而奇数距离总和$W$已经固定，那么距离$a_i$大了，$a_{i+2}$就会更小，是得序列中最小距离更容易小于等于$d$，也就意味着更不可能是要求的标准的数列。所以在所有奇数距离相等，都是       $\quad1,3,5,7…………1,3,5,7$这样构造时奇数的距离最远。分析得到 $d$ 最大不能为$\frac{3}{2} n$，即我们认为的这个我们构造的标准数列的两相同奇数的距离。
 ```cpp
int val=1,js;
    if(f==0)js=(n/2)+1;
    else js=(n/2);
    for(int y=js+1;y<(ans);y+=2){
		if(a[y]!=0)break;
        if(f==0){
            a[y]=val*2;
            a[y+1]=val*2;
        }
        if(f==1){
            a[y]=val*2;
            a[y+1]=val*2;
        }
        val++;
    }
```
这是构造奇数的代码，其余请读者自行推出。码风请见谅。
## 2.证明
那么为什么这是最优呢？我们考虑能否通过刚才的构造出的数列经过有限次交换得到更优数列。首先奇数与奇数交换由上文所述不行，偶数已经两个紧挨，交换也不会是更优。\
那么考虑奇偶互换，对于值不与交换的$a_i$，$a_j$相同的奇偶，他们的距离没有影响。而对于交换的奇数$a_i$，它与与它相同的$a_k$的距离甚至缩小了！\
 $1\quad3\quad2\quad2\quad1\quad3$\
 佷容易发现，$1$无论与哪个偶数交换，它与另一个$1$的距离都在缩小，而交换的偶数距离又变大了。任一一次交换只能带来更坏的影响。因此，无论怎么交换，都不可能使刚才的数列更优，正确性得证。
 ### 最后
 如果对构造题过于生疏，建议多练练思维题，~~毕竟我也是个蒟蒻，还厚着脸皮给人家建议~~。完结撒花。