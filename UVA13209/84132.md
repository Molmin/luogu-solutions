**题意简述**

输入 $n$，如果 $\dfrac{1}{n}$ 不是循环小数，则直接输出，否则保留一个循环节。

**题目分析**

判断循环节，可模拟笔算除法，开一个桶，判断当前的被除数有没有出现过。

如果被除数在这之前出现过，则说明又进入了小数循环，因为除数不变，得到的小数值无论如何都是之前在小数里出现过的。

如果当前被除数出现过，则跳出循环，输出当前存储的商。

否则，将商末尾推入一位小数，为当前被除数 整除 除数的值。被除数对除数取模（模拟笔算）。

如果直接开一个桶会爆掉，所以用 `unordered_map<int,bool>` 判断记录当前被除数。

商由于是小数，用类似于队列的数据结构，每个元素存储答案小数的一位，能便于输出。

```cpp
#include <bits/stdc++.h>
using namespace std;
vector <int> out; //存储答案小数每一位
unordered_map <int,bool> v; //记录除数出现
void f(int n,int m) { //计算 1/n
	n%=m; //虽然没必要（因为被除数是1），但是如果被除数>除数一定要加这一句
	while (!v[n]&&n!=0) { //如果当前被除数出现过 或者被除数为 0 则退出循环
		v[n]=1; //做标记
		n=n*10; out.push_back(n/m); n%=m; //模拟除法笔算
	}
}
int main() {
	int t,n;
	scanf("%d",&t);
	while (t--) {
		v.clear(); out.clear(); //多测清空
		scanf("%d",&n);
		f(1,n);
		printf("0."); // 除数比被除数大，所以小数一定是小于 1 的
		for (int i=0;i<(int)out.size();i++) printf("%d",out[i]);
		puts("");
	}
	return 0;
}
```