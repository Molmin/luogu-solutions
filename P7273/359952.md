upd：添加了特判

another upd：修改了边界

考虑每一种公差处理，此时数列最后是由从0开始的等差数列平移得到，通过与原序列做差扔进桶里求最大成立数量

我们考虑枚举，是 $O(n*(n+w))$ 然后我们发现其实只有  $\frac{w-1}{n-1}$ 是可行的

所以复杂度变为 $O(w+\frac{n^2}{w})$

但是处理每次答案时只有 $\min{n,w}$ 是要考虑的，我们可以把每次扔进同的数纪录下来

所以复杂度变为 $O(n+w)$

注意，有一些公差在固定 $a_i$ 不变时是不成立的，要把桶里的数变为 $-\inf$

最后统计答案时顺便把桶清零

[代码](https://www.luogu.com.cn/paste/ban0h6bq)
