# CF1541A Pretty Permutations 题解

[题目链接：CF1541A Pretty Permutations](https://www.luogu.com.cn/problem/CF1541A)

## 题意解释

有 $n$ 只猫，它们的编号为 $1 \sim n$，编号为 $i$ 的猫在位置 $i$ 上。现在它们想重新安排它们的位置，使它们都不在原来的位置上，求所有的猫需要移动的总距离最短的方案。

## 解法

容易想到，**相邻的两只猫相互交换位置**时，每只猫只需要移动 $1$ 的距离，总距离为 $n$，此时为最优方案。

但是当 $n$ 为奇数时，这样做必然导致剩下一只猫无法移动。此时必须留下最后的 $3$ 只猫轮换位置，一种可行的方案为：位置 $n-2$ 的猫移动到位置 $n-1$，位置 $n-1$ 的猫移动到位置 $n$，位置为 $n$ 的猫移动到位置 $n-2$。此时只有一只猫需要移动 $2$ 的距离，总距离为 $n+1$。

综上所述，一种可行的最优方案如下（方案不唯一）：

- 当 $n$ 为偶数时，只需把相邻两只猫交换位置，即 $\forall k \in \left[2,\dfrac{n}{2} \right]$，将位置 $2k-1$ 和位置 $2k$ 上的猫交换位置。
- 当 $n$ 为奇数时，将前面的 $n-3$ 只猫中的相邻两只交换位置，最后 $3$ 只猫轮换位置，即 $\forall k \in \left[ 2,\dfrac{n-3}{2} \right]$，将位置 $2k-1$ 和位置 $2k$ 上的猫交换位置，且位置 $n-2$ 的猫移动到位置 $n-1$，位置 $n-1$ 的猫移动到位置 $n$，位置为 $n$ 的猫移动到位置 $n-2$。

## 代码

```cpp
#include <cstdio>

int t,n;

int main()
{
	scanf("%d",&t);
	while(t--)
	{
		scanf("%d",&n);
		if(n&1)  //n 为奇数
		{
			for(int i=1;i<=n-3;i+=2)
			{
				printf("%d %d ",i+1,i);
			}
			printf("%d %d %d\n",n,n-2,n-1);
		}
		else  //n 为偶数
		{
			for(int i=1;i<=n;i+=2)
			{
				printf("%d %d ",i+1,i);
			}
			printf("\n");
		}
	}
	return 0;
}
```