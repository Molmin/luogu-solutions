我来说下这题的一个小技巧

我们知道一个数对应有且仅有一个位置，且一个位置有且仅有一个数

这就意味着整个图上每个点入度出度都为1

也就意味着图上的环都是简单环

于是DFS找环并统计长度可以用很简单的代码实现

```cpp
int dfs(int x)
{
	vis[x]=1;
	if(vis[a[x]]) return 1;
	return dfs(a[x])+1;
}
```