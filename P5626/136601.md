显然找规律，考虑先对小数据进行分析：
| $n$的值 | $ans$的值 |
| :----------: | :----------: |
| 1 | 0 |
| 2 | 1 |
| 3 | 3 |
| 4 | 5 |
| 5 | 8 |
| 6 | 11 |
| 7 | 14 |
| 8 | 17 |
| 9 | 21 |
| 10| 25 |

那么一开始没有看出什么直到看到提示中 `长度为4的序列归并调用，分成2组，一组2个元素` 猜测和序列的奇偶性有关

还是`归并排序`，由于将数组分成2组，不难猜想值之和与拆开2组的所需个数有关。

观察：

- 3和0、1的关系
- 5和1、1的关系
- 8和1、3的关系

好像找不出什么规律，但突然想到归并排序两数组还要整合，分别比较，所以想到次数和n有关。考虑再减掉一个n

观察：

- 0和0、1的关系
- 1和1、1的关系
- 3和1、3的关系

现在就很明显了，$f(n)-n=f(int(n/2))+f(int(n/2+{1/2}))-1$


∴稍微处理一下后，得出
1. n为奇数时，$f(n)=f(n/2)+f(n/2+1)+n-1$
2. n为偶数时，$f(n)=2*f(n/2)+n-1$

显然单是这样递推（递归）是不行的，毕竟$n<=10^{16}$。考虑记忆化搜索，但开数组肯定存不下。只能用STL内map水一水，大概要最多要存下~~log2(n)*2~~（也算不清楚QAQ反正能存下）

注意f(1)和f(2)要特判