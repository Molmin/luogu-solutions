洛谷的题解区里竟然没有O(1)做法详解……

题面就是要判断$1+2+\dots+n$是不是素数

很容易让人想到上面的式子事实上等于$n(n+1)/2$

根据质数的定义，质数只能被1和自身整除

于是我们看$n(n+1)/2$这个式子

把它拆开，变成$\frac{n}{2}\times (n + 1)$、$\frac{n + 1}{2}\times n$

都变成了乘积的形式对吧

如果和是质数的话，这两个式子中的某一个因子必然是1

于是我们解方程，得到$n=1$或$n=2$

然而$n=1$的时候和为1，不是素数

$n=2$的时候和是质数

综上所述，只有$n=2$的时候和是质数

代码略