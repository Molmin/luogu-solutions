题目要求是给定 $n$ 个数 $a_1,a_2,\ldots,a_n$，以及一个数 $k$ 。

计数器 $c$ 一开始为 $0$，一次只能加 $1$，且 $c$ 这个计数器每一次到 $k$ 都会跳回 $0$。

再给定一些下标 $b_1,b_2,\ldots,b_m$，表示如果在加 $a_{b_i}$ 个 $1$ 的时候刚好有加最后一个数时计数器跳回 0，那么称达成一次事件。我们要达成尽量多的事件。

我们将依次把计数器加 $a_1$ 次 $1$ ，$a_2$ 次 $1$ ，$\ldots$，$a_n$ 次 $1$ ，但我们可以用bomb跳过其中一段加数。问达成事件数量的最大值。

---

首先，由于计数器每加到 $k$ 跳回 $0$ ，所以只要有某一次加 $1$ 使得加完后总共（计数器不跳回）的数字为 $k$ 的倍数，那么就可以认定这一次加 $1$ 导致计数器跳回。

所以，在不使用 bomb 的情况下，如果对于某一个**在 $b$ 中的** $i$，要使加完 $a_i$ 时触发事件只要 $a_1+a_2+...+a_i$ 是 $k$ 的倍数。

---

如果使用 bomb，假设放在了 $j$ 位，则对所有的 $i$ 小于 $j$ ，加到 $a_i$ 时加的 $1$ 的数量仍然为 $a_1+a_2+...+a_i$ ，不改变对触发事件数量的贡献。

由于加 $a_j$ 被跳过，加完 $a_j$ 不应当触发事件。

对于另外的 $i$ 大于 $j$ ，加到 $a_i$ 时加的 $1$ 的数量变为 $a_1+a_2+...+a_i -a_j$，其为 $k$ 的倍数当且仅当$a_1+a_2+...+a_i$ 和 $a_j$ 模 $k$ 同余。

---

记 $S_i=a_1+a_2+\ldots+a_i$ 表示数组 $a_n$ 的第 $i$ 个前缀和。

我们可以先统计 $a_n$ 数组的 $n$ 个前缀是 $k$ 的倍数的**在 $b$ 中的下标**个数记为 $t$，并将答案设置成不放 bomb 的情况，也就是 $t$。

接着，我们可以把放 bomb 的位置 $j$ 从 $n$ 开始枚举到 $1$。我们让 $t$ 表示 $S_1,S_2,\ldots,S_{j}$ 中 $k$ 的倍数，只统计在 $b$ 中的。

我们开一个数组 $x_0,x_1,\ldots,x_{k-1}$，在每一个 $j$ 时表示 $S_{j+1},S_{j+2}...,S_n$ 中模 $k$ 余 $i$ 的数有 $x_i$ 个。

由于每一次考虑的是 $S_1,S_2,\ldots,S_{j-1}$中 $k$ 的倍数的个数 以及和 $S_{j+1},S_{j+2},...,S_n$ 中与 $a_j$ 具有模 $k$ 相同余数的数的个数。

如果 $S_j$ 是 $k$ 的倍数，我们让 $t$ 变成 $t-1$ ，这样 $t$ 就表示 $S_1,S_2,\ldots,S_{j-1}$中 $k$ 的倍数的个数了。

然后将答案更新为 $t+x_{a_j}$（及和先后答案取 $\max$）。

最后，如果 $j$ 在 $b$ 中，将 $x_{S_j\mod k}$ 这个数加 $1$ ，以便 $j$ 变为 $j-1$ 时 $x$ 数组表示  $S_j,S_{j+1},...,S_n$ 中**关键点**模 $k$ 余 $i$ 的数有 $x_i$ 个。

---

枚举完成后输出答案即可。