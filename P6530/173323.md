首先，我们考虑到，买三本一组的书肯定比分开买划算

那最终的问题就是：如何分组？

根据贪心的思想，我们要挑价格贵的让其免费——但是显然，价格贵的想要免费需要两个比他价格更大的书。


我们从小问题开始思考：要是只能搞一次活动（即不能第二次进行分组免费）的话，显然把前三大的放一组，使第三大的免费

如果能让两次分组后免费呢？我们可以让价格排名为$1,2,3$的一组，$4,5,6$的一组，使排名为$3,6$的免费。

规律就出来了：价格相邻三个书从大到小顺序分组。

代码不难

```cpp
#include <bits/stdc++.h>
using namespace std;
int cmp(int a,int b){return a>b;}//比较函数，使价格贵的排在前面
int a[1000001],sum=0;
int main()
{
	int n;
    cin>>n;
    for(int i=1;i<=n;i++) 
    { 
    	cin>>a[i];
    	sum+=a[i];
    } 
    sort(a+1,a+n+1,cmp);
    for(int i=1;i<=n;i+=3)
    {
    	sum-=a[i+2];
    }
    cout<<sum;
    return 0;
}

```