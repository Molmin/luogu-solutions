先计算出输出所占的大小，再根据从后往前，从左往右，从上往下的复制二维字符数组就行了。

```cpp
#include<iostream>
#include<cstdio>
using namespace std;
char s[1001][1001]={'.'};
int a[1001][1001];
int main()
{
    int i,j,k,b,c,n,m,v=0,t,l,q,w,e;
    cin>>n>>m;
    for(i=1;i<=n;i++)
    for(j=1;j<=m;j++)
    {
        cin>>a[i][j];
        if(3*a[i][j]+3+(n-i)*2>v)
        v=3*a[i][j]+3+(n-i)*2;//找大小
    }
    t=1+4*m+n*2;
    for(i=1;i<=v;i++)
    for(j=1;j<=t;j++)
    s[i][j]='.';
    for(i=1;i<=n;i++)
    for(j=1;j<=m;j++)
    {
        q=v-(2*n-2*i);
        w=2*n-2*i+4*(j-1)+1;
        for(k=1;k<=a[i][j];k++)
        {
            s[q][w]='+';
            s[q][w+1]='-';
            s[q][w+2]='-';
            s[q][w+3]='-';
            s[q][w+4]='+';
            s[q-1][w]='|';
            s[q-1][w+1]=' ';
            s[q-1][w+2]=' ';
            s[q-1][w+3]=' ';
            s[q-1][w+4]='|';
            s[q-1][w+5]='/';
            s[q-2][w]='|';
            s[q-2][w+1]=' ';
            s[q-2][w+2]=' ';
            s[q-2][w+3]=' ';
            s[q-2][w+4]='|';
            s[q-2][w+5]=' ';
            s[q-2][w+6]='+';
            s[q-3][w]='+';
            s[q-3][w+1]='-';
            s[q-3][w+2]='-';
            s[q-3][w+3]='-';
            s[q-3][w+4]='+';
            s[q-3][w+5]=' ';
            s[q-3][w+6]='|';
            s[q-4][w+1]='/';
            s[q-4][w+2]=' ';
            s[q-4][w+3]=' ';
            s[q-4][w+4]=' ';
            s[q-4][w+5]='/';
            s[q-4][w+6]='|';
            s[q-5][w+2]='+';
            s[q-5][w+3]='-';
            s[q-5][w+4]='-';
            s[q-5][w+5]='-';
            s[q-5][w+6]='+';
            q-=3;
        }
    }
    for(i=1;i<=v;i++)
    for(j=1;j<=t;j++)
    {
        cout<<s[i][j];
        if(j==t)
        cout<<endl;
    }
}
```