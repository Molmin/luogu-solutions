## 思路：

折半搜索（meet in the middle）。

这个公式好长！怎么办啊！

我看懂题以后直接考虑暴力，没想到暴力能对一半，也就是 $O(10^6)$，那么 $6 \times 2=12$，那么也就是我们需要在暴力搜索之上进行一种二分的思想，那么也就不难想到了折半搜索了。

我们接着来检验一下题目：

1. 搜索图中的节点状态都是可逆的
2. 额外的数据结构存储找过的节点

我们用 $i$ 表示下标，$a_i$ 表示值，接下来我们就来考虑下标和下标之间字典序排名相近的这个数值即可。

折半，折半，我们也要将整个数字“折半”，分成前一个部分和后一个部分。我们将 $12$ 位的数字分成前部分 $6$ 位，后部分也为 $6$ 位。

然后我们可以分类讨论了：

1. 左半边

比较繁杂，我们需要考虑到字典序问题，同时我们需要预处理+枚举前缀。然后这些的所有还是要基于最原始的深搜算法。

2. 右半边

这半边不用像上一个一样考虑过多的问题，一共也就$10^6$ 个数，直接暴力进行深搜即可。

**注意**：
1. 不要忘记去 $\bmod 998244353$
2. 前导 $0$

时间复杂度：$O(10^{\frac{2}{L}}\ poly(L))$ 或 $O(\sqrt{N}\ poly(log\  n))$。

