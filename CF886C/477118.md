大佬的树链剖分，统计叶子节点我都看不懂，只好自己写了个代码。
### 思路：
神鱼写下的数字有两种，一种是第一次来到该位置乱写的随机数，一种是上一次来到该位置的时间。

想要让这张图的点最少,就得让随机数最少，时间更多。

我们用 $vis$ 数组记录神鱼写下的数字是否可能为上一次来到该位置的时间。

假如神鱼在时间点 $t$ 写下了数字 $i$，但 $vis(i)$ 等于 $0$，那么这张图的点数加一，同时 $vis(t)$ 改为 $1$，因为 $t$ 未来可能为上一次来到该位置的时间。

那 $vis(i)$ 如果等于 $1$ 呢？这张图的点数就不增加，但 $vis(i)$ 改为 $0$，因为上一次来到该位置的时间变成 $t$ 了。

还有一个要注意的地方是，一开始 $vis(0)$ 是等于 $1$ 的，因为神鱼一开始就在点上。
### 代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
int n,ans=1,vis[200010],p;
int main(){
	scanf("%d",&n);
	vis[0]=1;
	for(int i=1;i<=n;i++){
		scanf("%d",&p);
		if(vis[p]==0) ans++;
		else vis[p]=0;
		vis[i]=1;
	}
	cout<<ans;
	return 0;
}
```
