这里只介绍 $100\%$ 的解决方案。

介绍一种比较好想的方法。

本题就是求最小的 $x$ 使得 $f(x)>n$，最后输出 $x-1$。

实际上，我们观察一下所有有可能作为答案的 $x$ 必然其 $f$ 值比前数都要大。经过观察，可以发现 $x$ 前面几个是：

- 一位数：$0,1,2,3,4,5,6,7,8,9$.
- 二位数：$11,12,13,14,15,16,17,18,19,29,39,49,59,69,79,89,99$.
- 三位数：$101,102\dots 109,119\dots 199,299\dots 999$.

所以很容易就能找到规律，并且发现这样特殊的 $x$ 并不多，最多只有 $9(\lg w)^2$ 个（$w$ 为值域），结合 $f(x)$ 对特殊的 $x$ 的单调性二分即可。

时间复杂度：$O(T\log(\lg^2 w))$。完结撒花。