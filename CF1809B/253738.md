考虑转化，因为点都是整点，欧几里得距离大于 $1$ 也就是每对点最近都要是在单位正方形的斜对顶点上。$|x|+|y|\leq d$ 的点即为曼哈顿距离不大于 $d$ 点。

因为要问这个 $d$ 的最小值为多少才能填上 $n$ 个点，可以求出每个 $d$ 最多能填多少。

每对点的欧几里得距离大于 $1$，也就是说，我们要尽可能多的放置单位正方形的斜对顶点才最优，而且要从最外围开始放，否则一定会产生浪费。

这是 $d=3$ 的最优填法。

![](https://cdn.luogu.com.cn/upload/image_hosting/xnpztlk0.png)

观察发现，这是边长为 $4$ 的正方形，是否对于 $d$ 最多就能填 $(d+1)^2$ 个呢？

考虑这样一种方案，对 $|x|+|y|$ 的奇偶性分类，只选奇偶性相同的点一定满足欧几里得距离限制，最多能填的数量即为奇个数和偶个数的最大值。因为与 $d$ 奇偶性相同的点在最外面有一圈，所以答案即为与 $d$ 奇偶性相同的点的个数。这些点构成一个边长为 $d+1$ 的正方形，答案即为 $(d+1)^2$。

然后只需要求最小的 $d$ 使得 $n\leq(d+1)^2$，答案是$\lceil \sqrt n \rceil -1$ 可以直接用 `sqrtl`，但我当时用的二分。

代码很简单就不放了。
