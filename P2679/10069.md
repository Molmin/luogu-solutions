看到这道题，”求方案数“。看到这句话，稍微有些经验的人都知道这题不是爆搜或枚举的水题（放在这个位置的题肯定不是水题），那么一定是动态规划（直觉！）。好了，接下来推动态转移方程。


博主我的动规学得不错，但方程还是推了半个多小时，可见题目的难度（要知道这题的考点不只是动态转移方程！！！）。


先分析动态转移方程，设f[i][j][l]表示A串取i个（但a[i]并一定能取到）,B串取j个（b[j]一定能取到）,此时用了l个串的方案数。


第一种情况：a[i]==b[j]



f[i][j][l]=f[i-1][j-1][l]+f[x][j-1][l-1](1<=x<=i-1)

第二种情况：a[i]!=b[j]



f[i][j][l]=0

到这里，已经拿到60分了。


很明显，f[x][j-1][l-1]的处理比较耗时间，那么就应该对这段时间进行优化。方法很简单，和数组？！


令s[i][j][l]=sum(f[x][j][l])(1<=x<=i)


这样可以将时间效率从o(n^2mk)降为o(nmk)现在时间满足了，但还只有90分，为什么？


因为空间超了，由于每次的转移只跟这次和上次状态有关，我们不禁想到滚动数组（，对）。


通过滚订数组优化空间，满分了。


当然，初始化也是必需的。


不过限于博主的能力有限，初始化没有想出优化的方法，如果您有好的方法，或想与博主交流，欢迎加qq讨论（QQ号：2389047486）


附上标称及数据：http://pan.baidu.com/s/1gec4MQn
