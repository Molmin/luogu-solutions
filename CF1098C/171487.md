紫题吓人的，显然没到这个难度。

容易发现子树大小的和是每个点深度之和。

考虑二分答案，设当前答案是 $k$，我们先放一条链，然后每次将链深度最大的点接到其他地方去。

贪心的想，直接往深度最小的度数没超 $k$ 的地方接上去。

一步一步让深度的和逼近题目给出的数就行了。

这样得出了一组深度，构造就比较简单了。

[Code](https://paste.ubuntu.com/p/jHhFRsvmm8/)