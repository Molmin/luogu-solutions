本题第一个题解

这应该算是一道很套路的题吧。。。

显然要求的子串的长度肯定等于给的序列p长度一样。。

然后发现合法的序列的各个元素顺序一定。。

于是应该要想到kmp。。但是普通的kmp无法维护。。发现排名可以转化为小于等于该元素的个数，就可以用树状数组搞了。。

然后就是kmp+树状数组的套路题了。。。

代码就不上了。。只是给个思路。。