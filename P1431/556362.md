### 思路
本题更倾向于一道数学题（详情请见五年级下册人教版“数学广角”），从书上，我们可以得到结论。此处我们可以这样想：利用分治的思想，本题共有 $3$ 种状态，一种是左天平，一种是右天平，还有一种是不放。然后我们想到贪心，即要次数尽量少，我们就要尽量平均分。如果知道轻重，那么答案为 $\log_3 n$ 向上取整；否则需要再来一轮判断轻重，为 $\log_3 n$ 向上取整在加 $1$。注意 $n\leq 10^{10001}$，要用高精除低精，答案 $ans$ 也需要高精度加法（因为高精难打，我此处直接 Python 套公式）。

不过还要注意一点，我们无论是 Python 还是 C++。都没有 $\log_3$，所以我们还需要精心如下操作：如果 $p=0$，直接 $\log n$ 除以 $\log 3$；反之，则需要在答案上加 $1$，当然也可以乘 $2$ 再加 $3$，取对数。
## AC Code:
```python
import math #格式，打开math库
T=int(input())
for i in range (T): #多组数据
   k=int(input())
   p=int(input())
   n=int(input()) #输入
   if p!=0:
      a=math.ceil(math.log(n)/math.log(3)) 
   else:
      a=math.ceil(math.log(n*2+3)/math.log(3)) #上面的公式，分情况讨论
   print(a)
```