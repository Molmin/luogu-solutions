# P1431  找出伪币


## 题目描述

给你一个装有 $n$ 枚硬币的袋子。$n$ 枚硬币中有一个是伪造的，并且那个伪造的硬币和真的硬币重量不一样。你的任务是找出这枚伪造的硬币。

为了帮助你完成这一任务，将提供一台可用来比较两组硬币重量的仪器，比如天平。利用这台仪器，可以知道两组硬币的重量是否相同。

## 题目大意

$n$ 个硬币，其中有一个伪币，伪币质量可能大，可能小，可能不知道重量，求你要称几次才能找出伪币，其中天平可以比较质量。

## 解法

对 $p$ 分类讨论。

+ $p=-1$ 或 $p=1$

  对这种情况：
  
  首先，我们要知道**天平两边测得一定是数量一样多的**（不然有啥用）
  
  我们设两边天平各放 $l$ 个最优：设共有 $n$ 个：
  
  则称完之后可以得到伪币位置的范围最不利时是 $\max(l,n-2l)$。
  
  既要让 $\max(l,n-2l)$ 最小，容易发现：
  $l=\frac{n}{3}$  时  $\max(l,n-2l)$ 最小，值为 $\frac{n}{3}$ 。
  
  那么每一次我们都三分，最后就能找到，次数很明显是 
   $\log_{3}{n}$ 。
  
  此时直接输出即可。
  
  
+ $p=0$

  对这种情况：
  
  我似乎也没法解释清楚，解法请见        [这里](https://blog.csdn.net/qq_38418700/article/details/100160355)
  
  总之答案就是 $\log_{3}{(2 \times n+3) }$ 啦
  
  
## 其他细节
  这题要用高精度哦
  
  高精请使用 Python
  
  
## 代码
```
import math
import itertools
T=input()
T=int(T)
for kkksc03 in range (T):
    k,p,n=input().split()
    k=int(k)
    p=int(p)
    n=int(n)
    if p!=0:
        ans=math.ceil(math.log(n)/math.log(3))
    else:
        ans=math.ceil(math.log(2*n+3)/math.log(3))
    print(ans)
    
```
  
  拜拜