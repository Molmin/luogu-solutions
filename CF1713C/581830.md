这一道题一开始看起来有点令人无从下手，不妨先手算，从小的 $n$ 出发找规律。

| $n$ | $a_0$ | $a_1$ | $a_2$ | $a_3$ | $a_4$ | $a_5$ | $a_6$ | $a_7$ | $a_8$ | $a_9$ |
| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |
| $1$ | $0$ |  |  |  |  |  |  |  |  |
| $2$ | $1$ | $0$ |  |  |  |  |  |  |  |
| $3$ | $1$ | $0$ | $2$ |  |  |  |  |  |  |
| $4$ | $0$ | $3$ | $2$ | $1$ |  |  |  |  |  |
| $5$ | $4$ | $3$ | $2$ | $1$ | $0$|  |  |  |  |
| $6$ | $0$ | $3$ | $2$ | $1$ | $5$ | $4$ |  |  |  |
| $7$ | $1$ | $0$ | $2$ | $6$ | $5$ | $4$ | $3$ |  |  |
| $8$ | $1$ | $0$ | $7$ | $6$ | $5$ | $4$ | $3$ | $2$ |  |
| $9$ | $0$ | $8$ | $7$ | $6$ | $5$ | $4$ | $3$ | $2$ | $1$ |
| $10$| $9$ | $8$ | $7$ | $6$ | $5$ | $4$ | $3$ | $2$ | $1$ | $0$ |

发现什么了吗？

最显然地，若 $n$ 为完全平方数 $+1$，那么 $a$ 为一个降序序列，从 $n-1$ 一直到 $0$。

再观察一下，可以发现当 $n=6$ 时前 $4$ 项和 $n=4$ 的情况一样，接下来为从 $5$ 开始的降序序列； $n=7$ 时前 $3$ 项和 $n=3$ 的情况一样，接下来为从 $6$ 开始的降序序列，以此类推……直到 $n=9$ 时前 $1$ 项和 $n=1$ 时相同。

那么我们就可以用递归的方法来解决这道题了。对于 $n$，首先找到其降序序列的起始点应该为 $\left \lceil \sqrt{n} \right \rceil^2-n+1$；对于前面的部分递归处理即可。

代码：

```cpp
#include <iostream>
#include <cstdio>
#include <cmath>
#include <algorithm>
#include <cstring>

using namespace std;

const int N = 1e5+10;

int ans[N];

void solve(int n) {
	if (n == 1) {ans[0] = 0; return ;}
	if (n == (int)sqrt(n)*(int)sqrt(n)) {ans[0] = 0; for (int i = 1; i < n; ++i) ans[i] = n-i; return ;}
	if (n == (int)sqrt(n)*(int)sqrt(n)+1) {for (int i = 0; i < n; ++i) ans[i] = n-i-1; return ;}
	 
	int begin = ((int)sqrt(n)+1)*((int)sqrt(n)+1) - n + 1;
	for (int i = begin; i < n; ++i) ans[i] = n-1-(i-begin);
	solve(begin);
}

int main() {
	int t;
	scanf("%d", &t);
	while (t -- ) {
		int n;
		scanf("%d", &n);
		solve(n);
		for (int i = 0; i < n; ++i) printf("%d ", ans[i]);
		puts("");
	}
	return 0;
}

```