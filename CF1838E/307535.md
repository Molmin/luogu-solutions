诈骗题。

**首先 $a$ 是什么是无关的。**

因为这个是用所有的串减去不包含 $a$ 这个子序列的串，后者和 $a$ 的形态无关。

后面那个可以考虑一个 dp 的填数的过程，然后发现这个其实和 $a$ 没有任何关系。

因为 $m$ 很大，考虑正难则反，用所有的方案数减去不合法的方案。

$k^m$ 显然是所有的方案数。

由于上面那个结论，考虑将所有的 $a_i$ 看成一个东西，那不合法的就钦定其填了 $i$ 位，然后剩下的乱填，让其填不到 $i + 1$ 这一位即可。

所以答案的式子为 ：

$$k^m - \sum_{i = 1} ^ {n - 1} \tbinom{m}{i} (k - 1) ^{m - i}$$

因为 $m$ 很大，所以考虑递推算组合数即可。


