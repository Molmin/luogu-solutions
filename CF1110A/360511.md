# 结论题

题目网址：[$\mathcal{Link}$](https://www.luogu.com.cn/problem/CF1110A)

看到楼下的题解讲得过于简略，这里给予更详细的解析。

**题目大意：**

问 $\sum_{i=1}^k a_i\times b^{k-i}$ 的奇偶性。

**题目解析：**

很显然，既然问奇偶性，那么就是问该式**最后一位**的奇偶性。

第一种想法就是暴力 $+$ 高精，将 $i$ 从 $1$ 至 $k$ 循环，算出答案，时间复杂度：$\mathcal{O}(k^2)$，在 $k\le 10^5$ 的数据下难以承受。

~~接着，$\sout{python}$ 顺势而生。~~

----

考虑正解，先说几件非常显然的事情：

- 偶数的 $i$ 次方还是偶数，奇数的奇次方还是奇数。

  于是，题目变为求：$\sum_{i=1}^k a_i\times b$ 的奇偶性。
  
- 只有奇数 $\times$ 奇数才等于奇数。

  很显然，其它的情况都不是。
  
对于为什么要说第二个结论，那是因为：**原式的值的奇偶性取决于每一项的奇偶性！**

方便理解，设原式每一项答案的奇偶性为奇数的项数的个数为 $x$，那么显然:

- 如果 $x$ 为偶数，那么两两可以配对相加，得到 $\dfrac{x}{2}$ 个偶数，因为奇数 $+$ 奇数是偶数，所以最后答案就是偶数。

- 如果 $x$ 为奇数，两两相加，还会多出来一个奇数，所以最后答案就是奇数。

不难发现，只要知道每一项的奇偶性，统计共有几个答案为奇数的项，如果总数为偶数，那么答案就是偶数；否则，答案就是奇数的。

**注意：** 本题有个大坑，当原式中 $i=k$ 时，$b^{k-i}$ 次方等于 $1$！所以在循环当中，应该特判 $i$ 是否等于 $k$，若等于，那么这一项的奇偶性必定为 $a_k$ 的奇偶性，因为任何非 $0$ 的数的 $0$ 次幂等于 $1$，任何数 $\times1$ 都等于原来的数 。

~~恰恰是最重要的一个坑点，而其它的题解都没有写。~~

时间复杂度：$\mathcal{O}(k)$；空间复杂度：$\mathcal{O}(1)$。

$AC$ 记录：[$\mathcal{Link}$](https://www.luogu.com.cn/record/37907871)

~~这么多 $\sout{AC}$ 真好看。~~

$Code:$ ~~此为我第一篇放代码的题解~~

```cpp
#include<cstdio>
using namespace std;
int b,k,cnt;
//b和k都为题面中的b,k，cnt为统计答案为奇数的项数的个数。
bool s2;
//判断b的奇偶性，若为奇数则为false，否则为true。
inline bool iseven(int x){return x%2==0;}
//判断一个数是否为偶数的函数，若是返回true，否则返回false。
inline int read()
{
	int s=0,w=1;
	char ch=getchar();
	while(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=getchar();}
	while(ch>='0'&&ch<='9')s=s*10+(ch-'0'),ch=getchar();
	return s*w;
}
//快读，由于k=1e5，所以用快读。 
int main()
{
	b=read(),k=read();
	s2=iseven(b);
	//事先判断一下b的奇偶性，毕竟是个常量。 
	for(register int i=1;i<=k;i++)
	{
		bool s1=iseven(read());
		//边读边判断奇偶性 
		if(i==k&&!s1) cnt++;
		//如果i=k，那么b^{k-i}的值肯定为1，所以只要判断一下s1的奇偶性就好了
		//奇数*1还是奇数 
		else if(!s1&&!s2) cnt++;
		//否则就看看a_i和b是否都为奇数，只有都是奇数答案才是奇数。 
	} 
	if(iseven(cnt)) puts("even");
	else puts("odd");
	//判断答案为奇数的项的个数，
	//若为偶数则答案肯定是偶数，因为奇数两两可以配对。
	//否则如果是奇数，那么答案就是奇数，因为多出一个奇数不能配对成偶数。 
	return 0;
} 
```
貌似我的代码是最优解，这里纪念一下，~~或许以后就不是了。~~









