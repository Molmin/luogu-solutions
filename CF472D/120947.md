## Solution

题解背景 : 期中考完了 , 期中考完了 .

题目给了一个类似邻接矩阵的东西 , 那么可以建图 ( 当然没必要真就搞出来 ) .

考虑从小往大枚举边 . 新加入一条边的时候 , 如果这两个点已经联通 , 这时不能加 , 因为这样就会出现环 , 不是树了 ; 如果未联通 , **那么这条边一定要加** , 不然肯定要走边权比他大的边 , 但又不给搞负的边权 , 那不就寄了吗 .

这不就是 $\text{Kruscal}$ 的过程吗  ? 

所求的树一定得是这个图的 MST 欸 ! 那么把 MST 跑出来 .

跑出 MST 之后 , 依次检验两两间的距离是否合法 .

复杂度 : $\text{O(n} ^ \text{2} \text{log n})$ . 能过 .

似乎 CF 的爬虫挂了 ?

[code](https://codeforces.com/contest/472/submission/156166703) .