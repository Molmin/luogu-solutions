[题目传送门](https://www.luogu.com.cn/problem/P8378)

**题意**

给定一个并查集的 $fa$ 数组的大小 $n$ ，求有几种 $fa$ 序列可以恰好还原 $2$ 种操作序列。

**分析**

很容易可以分析出，原序列必然只进行两次操作，且父亲被修改的两个节点不同。

让我们先排除一些不可能的情况：
   
  	
$1.$ 每个节点的子节点数小于 $3$ ：若至少有一个节点有至少 $3$ 个子节点，这样的子节点可以至少贡献 $s!$ 种情况，其中 $s$ 为该节点的子节点数，易知总情况数会大于等于 $6$ 。
   
   
 $2.$ 由 $1$ ，子节点数为 $2$ 的节点数至多有 $1$ 个:共两种原序列，因此至多有 $2\div2!=1$ 个这样的节点。
   
   
$3.$ 根节点子节点数为 $2$ 的子树的深度小于等于 $2$ ：若深度大于等于 $3$ ，此棵树至少贡献 $3$ 种顺序（此时树的形态为根节点的儿子只有一个有一个儿子）。
   
   综上所述，该序列应满足仅有两节点的父节点发生变化，且改变成的父节点可以相同。

因此，先选出两个节点 $x$ 和 $y$ ，再任意选出两个节点即可。

由上述分析，共有 $C_n^2$ $\times$ $(n-2)^2$ $=$ $\dfrac{n(n-1)(n-2)^2}{2}$ 种序列。

**代码**

```cpp
#include<bits/stdc++.h>
using namespace std;
const int mod=998244353;
long long n,t;
long long ksm(long long a,long long  b){
	long long ans=1;
	while(b){
		if(b&1)
		ans=ans*a%mod;
		a=a*a%mod;
		b>>=1;
	}
	return ans%mod;
}//赛时用了快速幂
int main()
{
	scanf("%d",&t);
	while(t--)
	{
		scanf("%d",&n);
		printf("%lld\n",(long long)(n*(n-1)/2%mod*((n-2)*(n-2)%mod))%mod);
	}
	return 0;
}
```

感谢阅读！