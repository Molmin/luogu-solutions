**这是本蒟蒻第二十九次写的题解，如有错误点请好心指出！**

## 问题简述

有 $n$ 个高度为 $h_i$ 的石头，小跳蛙目前所处的高度为 $h_0=0$，它从高度为 $h_i$ 的位置跳到高度为 $h_j$ 的位置要消耗 $(h_i-h_j)^2$ 的体力。小跳蛙现在要跳完所有石头，每个石头只能被跳一次，问它最多要消耗多少体力。

## 解法综述

根据题意，很容易就想到贪心，小跳蛙要想消耗的体力最多，就一定要选当前还没跳完的石头中离小跳蛙的高度差最大的那一个。

根据上述贪心策略，将读入的 $n$ 块石头按高度 $h$ 从小到大排序，发现从整体上看小跳蛙一直在左右横跳，不妨设 $l$ 为小跳蛙应往左边跳的位置，设 $r$ 为小跳蛙应往右边跳的位置，用 $l≤r$ 判断小跳蛙是否跳完所有石头，然后用 $l$ 和 $r$ 来模拟它跳的顺序并求出答案即可。

## 代码描述
```cpp
#include<cstdio>
#include<algorithm>
using namespace std;
typedef long long ll;
ll n,h[305],ans;//不开long long见祖宗
int main()
{
	scanf("%lld",&n);
	for(int i=1;i<=n;i++) scanf("%lld",&h[i]);
	stable_sort(h+1,h+n+1);//将读入的n块石头按高度h从小到大排序
	for(int l=0,r=n;l<=r;)//l为小跳蛙应往左边跳的位置，r为小跳蛙应往右边跳的位置，用l≤r判断小跳蛙是否跳完所有石头
	{
		//以下是用l和r来模拟小跳蛙跳的顺序 
		ans+=(h[l]-h[r])*(h[l++]-h[r]);//累加小跳蛙从l跳到r消耗的体力，并让l位置右移
		if(l<=r) ans+=(h[l]-h[r])*(h[l]-h[r--]);//先用l≤r判断小跳蛙是否跳完所有石头，再累加小跳蛙从r跳到l消耗的体力，并让r位置左移
	}
	printf("%lld",ans);//输出答案
	return 0;
}
```