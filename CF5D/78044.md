这是一道物理题
---

题目给出了最大速度和在`d`点的限速，求所花费最小时间，只需要分类讨论并使用适合的公式及其变式即可。

## 主要公式

速度公式$v=\frac{s}{t}$(匀速)

速度公式$v=v_0+at$(匀变速)

位移公式$x=v_0t+\frac{at^2}{2}$(匀变速)

位移速度关系式$v^2-v_0^2=2ax$(匀变速)

```cpp
#include<cstdio>
#include<cmath>
int main() {
	double a,v,l,d,w,t,t1,t2,t3,x1,x2,x3;
    				//t为答案
                    //1代表初速度为0，末速度为v的匀变速运动，t1是其所花时间，x1是其位移大小
                    //2代表初速度为0，末速度为w的匀变速运动，t2是其所花时间，x2是其位移大小
                    //3代表初速度为w，末速度为v的匀变速运动，t3是其所花时间，x3是其位移大小
                    //以下皆用数字表示是那种运动
	scanf("%lf%lf%lf%lf%lf",&a,&v,&l,&d,&w);
	t1=v/a;
	x1=a*t1*t1/2;	//求出t1与x1
	if(w<v) {		//如果w<v，代表需要考虑d点限速，反之则不需要
		t2=w/a;
		x2=a*t2*t2/2;	//求出t2与x2
		if(x2<d) {		//如果x2<d，代表需要考虑d点限速，反之相当于w>=v的情况
			t3=(v-w)/a;
			x3=w*t3+a*t3*t3/2;			//求出t3与x3
            							//由于只有d点限速，所以x2至d这段需要先加速到v2（v2大于w，不超过v），之后有一段可能的匀速运动，再减速直到刚好减速到w时到达d点
			if(x1+x3<d)					//考虑d点前的部分，如果x1+x3<d，代表需要考虑在1（相当于2+3）后的匀速运动，反之则不需要考虑匀速运动
				t=t1+t3+(d-x1-x3)/v;
			else
				t=t2+2*(sqrt(a*(d-x2)+w*w)-w)/a;
			if(x3<l-d)					//考虑d点后的部分，如果x3<l-d，代表需要考虑在3后的匀速运动，反之则不需要考虑匀速运动
				t+=t3+(l-d-x3)/v;
			else
				t+=(sqrt(2*a*(l-d)+w*w)-w)/a;
		}
		else
			goto I;
	}
	else {
		I:
		if(x1<l)			//如果x1<l，代表需要考虑在1后的匀速运动，反之则不需要考虑匀速运动
			t=t1+(l-x1)/v;
		else
			t=sqrt(2*l/a);
	}
	printf("%.12lf",t);
	return 0;
}
```

---
