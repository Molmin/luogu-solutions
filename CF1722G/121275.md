两句话题解，不需要任何 if 语句

奇数和偶数位置异或和相等是全局异或和为 $0$ 的充要条件，那么你考虑构造出前 $n-1$ 个数，第 $n$ 个数就可以直接推出来。

第一思路是 $1,2,...,n-1,a_n$，但是这样可能会重复，所以我们可以做点手脚，具体的，别的不变，令 $a_{n-2}=2^{23},a_{n-1}=2^{24}$，就可以了。

还是加一个证明吧: 前 $n-3$ 个数显然不会重复。$a_{n-2}$ 是 $2^{23}$ 级别的。$a_{n-1}$ 是 $2^{24}$ 级别的。$a_n$ 是 $2^{23}+2^{24}$ 级别的。

```cpp
int w=0;
for(int i=1;i<=n-3;i++)cout<<i<<" ",w^=i;
cout<<(1<<23)<<" "<<(1<<24)<<" "<<(w^(1<<23)^(1<<24));
```