设 $f_i$ 表示当前节点答案的最小值，$res_i=f_i-w_i$ 。

考虑对当前某个点，有两个子节点 $i$，$j$ 。

那么先选择 $i$ 再选择$j$的花费是 $f_1+f_2-res_1$ ，反之花费是 $f_1+f_2-res_2$ 。

所以肯定要先选 $res$ 大的。

这个地方其实不够准确，需要考虑 $f_2-(f_1-w_1)<0$ 的情况，这时前者的花费变成了 $f_1$ ，此时后者的花费仍然是 $f_1+f_2-res_1$ 。前者仍然小于后者。还需要考虑 $f_1-(f_2-w_2)<0$ 的情况，这种情况不会成立因为还需要满足 $f_1-f_2>w_1-w_2$ ，这个不等式是不成立的。

对于对于每一个结点，将子节点按照 $f_i-w_i$ 的顺序排序之后再按照题意模拟即可。

