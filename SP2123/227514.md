## 题面正确描述：

> ### 题目描述
>
> &emsp;&emsp;詹妮弗是小学一年级的老师。她今天和同学们去旅游了，并为每一位同学带了一包糖果。不幸的是，每个糖果包里的糖果数目是不相同的。 詹妮弗很害怕每个孩子都想得到最大的糖果包，导致孩子们争吵甚至打架。
>
> &emsp;&emsp;她想避免这种情况发生。因此，她打算打开所有的糖果包，数出每个糖果包里的糖果数，并把一些糖果从较大的糖果包移动到较小的糖果包里。问题是：她最少需要移动多少颗糖果，才能使使糖果包内糖果数相等呢？
>
> ### 输入格式
>
> 首先一个整数 $n$，表示糖果包数量。
>
> 然后每行一个整数 $a_i$，代表第 $i$ 个糖果包内糖果数。
>
> **注意，多组测试数据，$n$读到`-1`结束**
>
> ### 输出格式
>
> 一行一个整数，表示答案，如果不能使糖果包内糖果数相等，输出`-1`。
>
> ### 输入输出样例
>
> #### 输入样例
>```
>5
>1
>1
>1
>1
>6
>2
>3
>4
>-1
>```
> #### 输出样例
>```
>4
>-1
>```
> ### 数据范围
>
> $0 \le n\le 10^5$

----------------

首先设 $s=\sum\limits_{i=1}^na_i$。

要使所有糖果数相等，显然要求 $s\mid n$。

然后，要使糖果数相等，显然是把他们都汇集为$\overline{a}$（$\overline{a}$ 指 $a$ 序列中平均值），因为移动必然使一数增加一数减少，所以取
$\overline{a}$ 与每数之差的绝对值就是每个糖果变动的个数。但是移动影响的是两个数，一数增加一数减少，所以最后结果还要乘上个 $\frac{1}{2}$。

综上所述，答案为 $\dfrac{\sum\limits_{i=1}^n| \overline{a}-a_i|}{2}$。

代码也不难写：

```cpp
#include<iostream>
#include<algorithm>
#include<cmath>
using namespace std;
int a[50001];
int main()
{
	int n=0;
	while (cin>>n&&n&&n!=-1)     //输入n
	{
		int sum=0,q=0;
		for (int i=0;i<n;i++) cin>>a[i],sum+=a[i]; //求和&输入
		if (sum%n) {cout<<-1<<'\n';continue;}  //判断无解
		sum/=n;                  //平均值
		for (int i=0;i<n;i++)
			q+=abs(a[i]-sum);    //求答案分子
		cout<<q/2<<'\n';         //输出
	}
	return 0;
}
```