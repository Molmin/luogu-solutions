这一题是对点调递增增数列的操作，这一题中，我们对于一个数列，有以下三种可能：

1. 只有一个单调递增数列，也就是整个数列都是递增排序的，所以直接输出0就可以了
2. 有两个单调递增数列，我们要做的就是把第二个数列的数都转移到前面去，所以输出第二个数列的长度
3. 有三个或三个以上，则不可能排序成功，那么输出-1

我们需要做的就是模拟上述三种情况，首先，我们用 $O(n)$ 的算法获得有多少个单调递增数列和第二个数列的长度（如果有的话），如果是第一种情况，直接输出0，如果是第二种输出我们已经获得的第二个数列的长度，如果是第三种情况，则输出-1，其他细节我会在代码的注释中详细写出，这里就不多讲了。

代码如下：

```cpp
#include<bits/stdc++.h>
#include <iostream>
using namespace std;
int a[10001];//储存输入 
int s=1,ans=0,n;
int main() {
	ios::sync_with_stdio(0);
	cin>>n;
	for(int i=0; i<n; i++) {
		cin>>a[i];
	}//输入 
	bool q=0;
	int l=0;
	for(int i=0; i<n-1; i++) {
		if(a[i]<=a[i+1]) {//查找单调递增数列 
			q=1;
			l++;
			ans=l;//储存长度 
		} else if(q==1) {
			q=0;//
			s++;
		}
	}
	if(s==1) {//三种情况 
		cout<<0<<endl;
	} else if(s==2) {
		cout<<ans<<endl;
	} else {
		cout<<"-1"<<endl;
	}
	return 0;
}




```
