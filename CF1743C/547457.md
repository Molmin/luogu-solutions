[题目传送门](https://www.luogu.com.cn/problem/CF1743C)

# 考虑 DP

那么我们不妨用 $f_{i,0/1}$ 来表示前 $i$ 个箱子有盖子 / 没盖子所能剩下的最大杂志数量。

假设第 $i$ 个箱子原本有盖子，容易得出:

$f_{i,0}=\max(f_{i-1,1} , f_{i-1,0}+a_{i-1})$

$f_{i,1}=\max(f_{i-1,1} , f_{i-1,0}+a_{i-1})$。

反之，如果第 $i$ 个箱子原本没有盖子，那么

$f_{i,0}=f_{i,1}=\max(f_{i-1,1}f_{i-1,0})$。

综上，我们可以写出[代码](https://www.luogu.com.cn/paste/cz0ho0tp)。

