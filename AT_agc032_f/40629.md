这篇题解的目的是在于纠正和补充 @关怀他人 题解的一些内容

首先不加证明的给出以下引理:

在 $[0,1]$ 上随机撒 $n-1$ 点将区间划分为 $n$ 个段，其中的第 $k$ 小距离是
$$\boxed {E(L_{\min_k})=\frac{1}{n}\left(\sum_{i=0}^{k-1}\frac{1}{n-i}\right)}$$

证明就基于 $\displaystyle E(L_{\min})=\int_{0}^{x}E([L_{\min}\geqslant x])\mathrm dx$ 然后运用类似抽板的思想得到递推式即可

详细过程可以见 @关怀他人 题解

我们将第一条线的极角设为$0$ ,对极角 $[0,\frac{2}{3}\pi),[\frac{2}{3}\pi,\frac{4}{3}\pi),[\frac{4}{3}\pi,0)$ 的区域染上不同的颜色不妨设为RBG

设刚才的图为第一张图，然后造一张新图，让线染上**第一张图中所处区域颜色**并将其极角对 $\frac{2}{3}\pi$ 取模，也就是放到同一个 $1/3$ 圆周的相应位置

![](https://cdn.luogu.com.cn/upload/image_hosting/edhwbcju.png)

下面的讨论均只包含 $[0,\frac{2}{3}\pi\color{red}]$ 区域内的**含 $\frac{2}{3}\pi$ 处分界线**的 $n+1$ 条线段(分界线染 $[\frac{2}{3}\pi,\frac{4}{3}\pi)$ 的颜色)

(这里是我手误上下的染色不一样，下面 $[0,\frac{2}{3}\pi),[\frac{2}{3}\pi,\frac{4}{3}\pi),[\frac{4}{3}\pi,0)$ 的颜色分别是红,蓝，绿)

紧接着我们就可以说明所求转化为了该区域内异色线段的最小距离

分2类情况来证明

- 原本异色：很显然，本来该减掉的 $\frac{1}{3}\pi$ 就体现在转到同一个圆弧的转角差量中
- 原本同色
	- 是 $[0,\frac{2}{3}\pi),[\frac{2}{3}\pi,\frac{4}{3}\pi)$ 的颜色,也即与两个边界其中一个同
    ![](https://cdn.luogu.com.cn/upload/image_hosting/dawaz7z2.png)
    则会发现紫色即应有的贡献$<$橙色即靠近异色分界线造成的贡献
   - 是 $[\frac{4}{3}\pi,0)$
   ![](https://cdn.luogu.com.cn/upload/image_hosting/0hmpvc4z.png)
   与上文类似
   
因此这样我们即可完整的转化所求

>在 $\color{red}{[0,\frac{1}{3}]}$ 中随机撒 $\color{red}{n-1}$ 点(即真正的 $2\to n$ 号刀的"相对"位置)，再随机定色，钦定 $0,\frac{2}{3}\pi$ 处各额外有两个点(1号点和强制的边界)，颜色也随机但必须相异，求其中异色点对距离最小值


首先考虑至少 $i$ 个**指定的**(在本题中这个指定即对距离排序的前 $i$ 小)点对同色的概率为 $[i<n]\frac{1}{3^{{i}}}$ 因为我们钦定了两个边界异色

那么最小异色对由全局的第 $k$ 小对距离取到的概率为 $\frac{1}{3^{{k-1}}}-[k<n]\frac{1}{3^{{k}}}$

因此答案为

$$
ans=\frac{1}{3}\sum_{i=1}^{n}(\frac{1}{3^{{i-1}}}-[i<n]\frac{1}{3^{{i}}})E(L_{\min_i})=\sum_{i=1}^n\frac{1}{3^i(n-i+1)}
$$

(这一步中仿佛许多题解都神奇的列错了(多了个 $-\frac{1}{3^n}$ 这个不存在的项)依然得到了正确答案~~)

