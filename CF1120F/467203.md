校内模拟赛做到的题。学长非常良心的给了很多档部分分：

对于所有测试数据，保证 $1\leq n \leq 10^6$，$1 \leq c \leq 10^2$，$1 \leq d \leq 10^8$，$t_i<t_{i+1}$。

| 测试点编号       | $n\le$  | 特殊性质                    |
|:-------------:|:-------:|:-----------------------:|
| $1,2,3$       | $1000$  |                         |
| $4,5,6$       |         | $\forall p_i,p_i = p_1$ |
| $7,8$         |         | $d<c$                   |
| $9,10,11,12$  | $20000$ |                         |
| $13,14,15,16$ | $10^5$  |                         |
| $17,18,19,20$ |         |                         |

由于我很菜，所以先考虑特殊性质。$d<c$ 的档很好想，直接输出 $ d \times n $ 即可。这也给了我们提示，$ ans $ 的最大值不超过 $ d \times n $。

重点是这条性质 $\forall p_i,p_i = p_1$。
我们想到，如果全部由同一人送信，必然存在一个 $i$，使得第 $i$ 次往后全部寄存，往前直接送出。

于是，我们可以想到，对于 $\left \{ p_i \mid  p_i = p_l , i \in  \left [ l , r \right ]  \right \} $，我们对这段进行扫描，得到分割点即可。


还有一个需要注意的是，每当换一个人送信时，他必须先去寄存信，以便他取回上一个人寄存的信件。很明显这不会使答案更劣。

从后往前扫更新答案，做完了。时间复杂度 $  O\left ( n \right ) $。

