题解区都讲的好乱啊。。。

首先我们观察发现，只有位置奇偶性相同并且颜色相同的数会产生贡献。

这样我们将原序列分成$2n$组，考虑用$vector$维护。

那么每一组的贡献怎么求呢，考虑将原式展开得到

$x* numx+x* numz+z* numx+z* numz$

发现只有形如$x* numx+x* numz$的式子。

考虑分开统计：

每一个$x$的$x* numx$这类式子总贡献就是$siz-1$次。

而$x* numz$的贡献考虑求一个$num$的总和，每一个的贡献就是$x*(sum-numx)$。

分开统计即可，总复杂度$O(n)$