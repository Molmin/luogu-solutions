思路：

尽管 $\Theta(n^2m)$ 也能通过该题，但是我们应该思考正解。

仔细思考，可以发现：涂了一个格子只会影响相邻的 $8$ 个格子，所以我们只要判断涂了的格子周围的 $8$ 个格子有没有形成 $3\times3$ 的矩阵即可。如果形成，输出操作次数即可。否则在 $m$ 次循环后输出 $-1$。

代码：

和其他题解的很像，就不贴了。