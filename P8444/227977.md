仔细看了眼题目，初步猜想是贪心，接下来就进行了一些简单的证明。

证明过程：第一次买东西肯定挑贵的买，这点不难看出，一件商品越贵，换来其它的商品就越多，一开始还不知道究竟该怎么换，可以设一下，我们令换商品的操作为把当前手头所有的商品都交换为最多价值更低的商品，即把手头所有的商品能换就换，$n_{i}$ 为当前手头商品的总价值，则有 $n_{1}\ge{n_{2}}\ge{n_{3}}\ge...\ge{n_{i-1}}\ge{n_{i}}$，最后换来的商品总价值一定不会超过第一次买的商品，而且随着不断的交换，你商品的总价值只会下降而不会升高，不论如何，你第一次买的商品价值一定是最高的，价值越高，换来的商品就越多，只需第一次买的商品就能得到最终答案。

代码实现：考虑先用 ```sort``` 将输入的数组排序，找到最大的价值不超过 $w$ 的商品，这就是要购买的商品，然后从小到大依次累加商品，因为换的商品越便宜，数量越多，加到超过最大价值时，直接 ```break``` 就好了，最后输出累加的次数。

### AC code：
```cpp
#include<bits/stdc++.h>
using namespace std;
int n,a[1000005],w;
int main(){
	cin>>n;
	for(int i=1;i<=n;i++){
		cin>>a[i];
	}
	cin>>w;
	sort(a+1,a+1+n);
	int tot=0;
	int wx;
	for(int i=1;i<=n;i++){
		if(a[i]<=w){
			wx=a[i];
		}
		else{
			break;//由于排过序，这是一个不降序列，a[i]比w大直接退出就好了
		}
	}
	int ans=0;
	for(int i=1;i<=n;i++){
		tot+=a[i];
		if(tot>wx){
			break;
		}
		ans++;//判完再加，防止多加
	}
	cout<<ans;
	return 0;
}

```
