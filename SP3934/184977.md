这道递推好题成为了我们模拟赛的T1

---

首先看一下递推条件：

$i=0$则$a_i=0$

$otherwise$

$a_{i-1}-i>0$且$a_{i-1}-i$在$a_{0,1,...,i-1}$未出现过，则$a_i=a_{i-1}-i$

否则$a_i=a_{i-1}+i$

---

保证$k<=500000$，$n^2$是会超时的，所以我们考虑空间换时间，用桶进行判重。如果出现过，记为$true$，否则记为$false$，其余按照正常递归。

代码如下

```cpp
#include<regex>
using namespace std;
bool b[3000000];//我们设置的桶。注意有可能a[i-1]-i超过500000，为了保险设为3000000
int a[500005];
int main(){
	b[0]=1;//这句话可以不加，因为后面递推不需要
	for(int i=1;i<=1000000;++i)
	{
		if(a[i-1]-i>0)//先判断这个，防止数组越界
		{
			if(!b[a[i-1]-i])	a[i]=a[i-1]-i;//判重
			else	a[i]=a[i-1]+i;
		}
		else	a[i]=a[i-1]+i;
		b[a[i]]=true;//将这个数装在“桶”里
	}
	int k;
	while(scanf("%d",&k) && k+1)	printf("%d\n",a[k]);//边输入边输出
	return 0;
}
```