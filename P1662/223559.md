
### 解题思路：

直接暴力能处理的范围大概也就是 $10^8$ 这个样子，看起来有点危险，放小一些 $t=5\times 10^7$。发现最大的数据范围也就是这个数的几十倍的样子，考虑用隔断打表法直接暴力求解。

思路是直接就是记录下每一个 $kt$ 位置时的状态，包括当前报数的方向和报数者的编号，在提交代码中直接接着这个状态往后计算一段即可。

这样就在保证了复杂度的同时避免了通常打表代码太大的问题。

---
### 代码：

```cpp
#include<cstdio>
using namespace std;
int x,p[50]={1,157,547,346,867,892,893,1212,63,893,1302,1055,98,957,1279,1279,1279,143,959,934};
int dir[50]={-1,-1, 1,  -1, -1, 1,  -1, -1  ,1 ,-1, -1,  1,  -1, 1,  -1  ,-1 ,-1  ,1,  1,-1};
void work(int now,int x,int p,int dir){
	for(int i=now;i<=x;i++){
		p+=dir;
		if(i%7==0)dir=-dir;
		else{
			int i_=i;
			while(i_){
				if(i_%10==7){
					dir=-dir;
					break;
				}
				i_/=10;
			}
		}
		if(p==1338)p=1;
		if(p==0)p=1337;
	}
	printf("%d\n",p);
}
int main(){
	scanf("%d",&x);
	work(50000000*(x/50000000),x,p[x/50000000],dir[x/50000000]);
	return 0;
}
```
