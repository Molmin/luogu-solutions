很有意思的题呢！~~虽然是看了题解~~

首先题意其实是有点奇怪的，翻译一下就变成了哪些 $k$ 可以构造出来一个长度不限的圆环，要求每个位置上填一个 $k$ 元集的子集（同一个子集可以被填多次），使得所有 $\left||A_i|-|A_j|\right|=1$ 与 $A_i,A_j$ 在环上相邻构成了一个一一对应。

那我们考虑建模一下。如果把 **相邻** 这一个关系看成走过一条边的话，那么这个图的形态大概就是所有 $||A_i|-|A_j||=1$ 的 $i,j$ 之间都有一条边。题目呢，就是问你 $\forall k\in[1,n]$，哪些图存在一个欧拉回路（因为要构成一一对应嘛）。

这个东西呢，我们用一下经典结论：一个无向连通图存在欧拉回路当且仅当所有点的度数都为偶数。那我们看一下，$\emptyset$ 的度数是 $k$，$k$ 元集合本身的度数也是 $k$；对于其余的 $|A_i|\in(0,n)$，其度数就是 

$$
\binom {k}{|A_i|-1}+\binom {k}{|A_i|+1}
$$

这咋做呢？其实用一下 lucas 定理就不困难啦。考虑 lucas 定理的经典推论：$\binom n m\bmod 2=[(n\And m)=n]$。但是这种按位与不够直观，我们不妨把它换一个方式描述：$\binom n m$ 为偶当且仅当二进制下 $n$ 有一位是 $0$，$m$ 有一位是 $1$。于是我们就可以愉快地对 $k$ 的二进制作讨论啦 qwq（以下的讨论都是默认二进制）

首先的话，由于 $\emptyset$ 的度数是 $k$，所以 $k$ 的最后一位是 $0$。如果 $k$ 是长成这样的：

$$
(\texttt{\small不全为}\ 0)…0111…110
$$

那么只要构造 $|A_i|=$

$$
000…0111…111
$$

也就是把最后一位改成 $0$，前面的乱七八糟也全改成 $0$ 即可。这个时候你发现 $\binom {k}{|A_i|-1},\binom {k}{|A_i|+1}$ 是一奇一偶，刚好寄了！

所以我们的 $k$ 除了一开头和最后一位不能有任何额外的 $0$。换句话说，它得长这样：

$$
111…110
$$

那我们只需证明这个时候对于任意的 $A_i$ 均有 $\binom {k}{|A_i|-1},\binom {k}{|A_i|+1}$ 奇偶性相同即可。其实很简单啦，就是你考虑 $|A_i|-1,|A_i|+1$ 最后一位是一样的，而前面的位置由于 $k$ 都是 $1$ 所以不会对奇偶性产生任何的影响。这就意味着这俩二项式系数的奇偶性是一模一样的！！！所以我们就仅仅借助数学就发现了 $k$ 的规律！！！

最后呢，实现的时候显然是把 $k$ 表示成 $2^s-2$ 比较好啦。复杂度 $O(\log n)$。