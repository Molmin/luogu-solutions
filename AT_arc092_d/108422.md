**题目大意**：给一个 $n$ 个点 $m$ 条边的有向图，对每一条边，求反向这条边后，图上的强连通分量个数是否改变。

让我们首先从一个例子出发思考这个问题，为此考虑下面这个图

![](https://s1.ax1x.com/2022/07/22/jOm2Sx.png)

这个图本身拥有两个强联通分量（SCC）：

![](https://s1.ax1x.com/2022/07/22/jOmO6f.png)

我们不妨首先考虑不属于任何SCC的边。当我们将下图中橙色边反向时，它与蓝色边配合，使得两个SCC合并为一个，因此答案为 `diff`：

![](https://s1.ax1x.com/2022/07/22/jOne74.png)

于是我们得到下面结论：

- 在原来的图上，存在一种不经过橙色边的方案，使得浅黄色点能够到达青色点，但是不存在一种从青色到达浅黄色的路径时，SCC数量减少。

另一方面，没有蓝色边的配合，这种“合二为一”是不可能做到的，即

- 在原来的图上，如果我们去掉蓝色边，此时存在一种不经过橙色边的方案，使得浅黄色点能够到达青色点，也不存在一种从青色到达浅黄色的路径，SCC数量不变。

让我们再来考虑另一种情况，反转原来的SCC中的一条边（下图中橙色边）。这种情况原有的SCC的结构被破坏，使得左边的三个节点不再构成一个SCC，因此答案为 `diff`：

![](https://s1.ax1x.com/2022/07/22/jOnh3q.png)

于是我们得到下面结论：

- 在原来的图上，存在一种不经过橙色边的方案，使得青色点能够到达浅黄色点，但是不存在一种从浅黄色到达青色的路径时，SCC数量增加。

但是SCC内部还（可能）拥有一种不那么重要的边，把下图中的橙色边反转后，右边SCC的结构没有变化，因此答案为 `same`：

![](https://s1.ax1x.com/2022/07/22/jOuZxP.png)
于是我们得到下面结论：

- 在原来的图上，存在一种不经过橙色边的方案，使得青色点能够到达浅黄色点，也存在一种从浅黄色到达青色的路径时，SCC数量不变。

好了，我们已经充分分析了这个图的结构。事实上，这个例子是就有指导性意义的：我们得到了几个基本结论，对于一条选定的边 $u\to v$

1. 如果在去掉选定边的图上，如果 $u\rightsquigarrow v$，但是 $v\not\rightsquigarrow u$ 时，SCC数量减少。
2. 如果在去掉选定边的图上，如果 $u\not\rightsquigarrow v$，同时 $v\not\rightsquigarrow u$ 时，SCC数量不变。
3. 如果在去掉选定边的图上，如果 $u\not\rightsquigarrow v$，但是 $v\rightsquigarrow u$ 时，SCC数量增加。
4. 如果在去掉选定边的图上，如果 $u\rightsquigarrow v$，同时 $v\rightsquigarrow u$ 时，SCC数量不变。

枚举每条边暴力DFS即可，时间复杂度 $\mathcal{O}(nm)$，足以通过此题。
