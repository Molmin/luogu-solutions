### Description 

$n$ 个数的序列，每次询问一个区间，求最小的一个数使得不能用这个区间中的数之和表示。

$n \leq 10^5, \sum a_i \leq 10^9$

### Solution

~~第一次用数组写数据结构真短啊~~

考虑只有一次询问怎么做

把给定的区间内的数排序，从小到大扫一遍。

如果一个数比他之前的数之和至少大了 $1$ ，那么答案就是和 + 1

否则就可以把$[1,\text{前缀和}]$ 都表示出来（感性理解很容易）

这道题怎么做也就显然了起来。只需要用主席树维护区间中小于等于某个数的数之和即可。流程如下

当前答案是 $a$，令 $S$ 是区间中 $\leq a$ 的数之和  

1. 如果 $S < a$ 则 $a$ 就是最后的答案
2. 否则 让 $a = S+1$ 然后重复此操作

最开始的时候 $a=1$

这样做的话 $a$ 每次都会翻一倍，所以最后的总复杂度是  $O(m \log n \log \sum a_i)$

### Code

[看代码戳这里](https://www.cnblogs.com/acfunction/p/10283022.html)


