本题的关键在于找到能够使得 `AB` 出现次数最大化的连接顺序。显然，如果一个字符串以 `A` 结尾，另外一个字符串以 `B` 开始，那么将它们连接起来可以贡献一次 `AB` 的出现。

因此，我们可以枚举每一对字符串并判断它们能否拼接，如果可以则将它们拼接起来，直至不能继续拼接。这个过程可以通过构建一个无向图来实现：设字符串 $s_i$ 与 $s_j$ 可以拼接起来，则在以字符串 $s_i$ 和 $s_j$ 为点的无向图中，连一条边 $(i, j)$。

构建完无向图后，问题就转化成了寻找最大匹配数问题。一个最大匹配可以用 Hopcroft-Karp 算法在 $O((V+E)\sqrt{V})$ 的时间复杂度内解决，其中 $V$ 表示节点数，也即 $N$。因此总时间复杂度为 $O(N^2\sqrt{N})$，可以通过本题。

值得注意的是，当存在多个共同的可拼接字符串时，需要将它们全部相互连接才能使得 `AB` 出现次数最大化，所以建立的无向图必须是多重边的。这里可以使用邻接矩阵来存储无向图。同时，因为字符串长度不超过 $20$，可以使用哈希比较字符串是否能够拼接。