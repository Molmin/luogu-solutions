光题意就理了很久，什么叫**存在一次喂的变色龙不同的两个方案可能是相同的方案**，我是这么理解的， 那就是把颜色序列建出来后， 具体操作方式由你自己来决定。判断其是否能满足要求。 

那么这该如何操作呢?

可以发现：一个变色龙被染成红色只会有两种情况

1 . $cntR > cntB$  2 $cntR = cntB$ 且 $last$为$B$

通过这个我们可以知道应该尽量使得每一个变色龙的$cntR = cntB$才好， 那应该如何做呢， 我们不妨把第一只变色龙先拿出来对于剩下$n-1$只，先填一个红球， 再填一个蓝球， 然后把剩下所有的球全部给$1$号。

现在考虑一下在什么情况下这样子会填不出来。

令$x = cntR - (n - 1)$ ，一个红球的贡献为1， 一个蓝球的贡献为$-1$。那么在任何情况下， 前缀值都不能小于$-x$, 因为这样会使得第一个球无法满足要求。 对于这个东西应该如何求呢， 自然而然可以想到组合数， 也就是0到$(cntR, cntB)$ 的路径不能经过某条直线， 这个容斥一下就好了。

有一点要注意，在$cntB = cntR$的时候， 必须要强制最后一个元素为$-1$.

然后这道题就写完了。