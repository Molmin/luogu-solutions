[题目传送门](https://www.luogu.com.cn/problem/P3590)

看了[这个帖子](https://www.luogu.com.cn/discuss/549145)觉得很神奇，尝试证明一下原贴结论。

原帖给出了一个结论是：答案串必然有左端点在 $[1,3]$ 中或右端点在 $[n-2,n]$ 中。

正难则反，显然考虑反证法，假设答案串 $s$ 不满足上述性质，那么答案左右两边必然都至少有三个字母。

如果 $|s|=1$ 那显然随便选一个字母都满足上述性质，下证 $|s|>1$ 的情况。

如果 $s$ 中只有一个字母那显然旁边随便加一个都比 $s$ 大，矛盾；

如果 $s$ 中有多个字母，为了方便不妨设三个字母分别为 $a,b,c$，出现次数为 $t_a,t_b,t_c$，且 $t_a>t_b>t_c$。

那么 $s$ 周围的两个字母只可能是 $b$ 和 $c$，且至少有一个 $c$，否则显然矛盾。

考虑分类讨论，如果有一个 $b$ 和一个 $c$，那么必然满足 $t_a-t_b=t_b-t_c=1$，不妨设 $s$ 左边是 $b$ 右边是 $c$，那么只需向 $b$ 那一侧扩展可知 $b$ 左边必然是 $c$，而 $c$ 左边还会是 $c$。然后尝试向右扩展，发现 $s$ 右边无法构造出合法解，矛盾。

如果两边都是 $c$，依然需要满足 $t_a-t_b=t_b-t_c=1$，同上构造方案可知不存在合法的构造方案，矛盾。

因此不存在不满足上述性质的答案串，原命题成立。