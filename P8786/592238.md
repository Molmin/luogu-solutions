[传送门](https://www.luogu.com.cn/problem/P8786)        
水记忆化搜索。        
这题题解为什么清一色都是 dp，只有一个人写了没加记忆化的暴搜（但是之后又介绍了 dp）。       
我们设 $f(n,m,k)$ 为此时还有 $n$ 个店，$m$ 朵花，$k$ 斗酒的方案数。            
那么我们先考虑边界情况：     
如果 $k<0$、$k>m$、$k=m$ 且 $n≠0$ 这三种情况出现，那么 $f(n,m,k)$ 为 $0$。       
我们设 $ans$ 为这次用于计算答案的量。      
那么如果 $n≠0$，$ans$ 需要加 $f(n-1,m,k\times 2)$。           
如果 $m≠0$ 且 $k≠0$，还有两种情况：       
1. 如果 $n=0,m=1,k=1$，那么 $ans$ 需加 $1$。
2. 否则 $ans$ 加 $f(n,m-1,k-1)$。       

最后结果为 $ans$。       
那么我们根据以上内容，写出记忆化即可。       
[CODE](https://www.luogu.com.cn/paste/jx4redgk)