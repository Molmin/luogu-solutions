感觉其他题解都没有说为什么要用 $floyd$，在这里补充一下。

要想把所有数变成 $1$，那有两种选择，一是直接变成 $1$，二是将这个数先变成其他某个数，再有那个数继续迭代下去。

到这里，我们应该感觉到了，这与 $floyd$ 求最短路的过程一致，所以我们可以跑 $floyd$ 求解。

代码就不贴了，也就是一个 $floyd$ 的板子。