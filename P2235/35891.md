[题意](https://www.luogu.com.cn/problem/P2235)

---

发个奇怪的找规律题解（

因为比赛时候推出规律其实很困难，所以对于经过一些大数据验证的性质万不得已时可以不用证明直接使用。这是在比赛时的补救（骗分）方法。

首先玩几个小样例找一下规律，这里首先观察到因为递推式子大概是四个一遍循环，于是我们每四个数排列一次：

```
1 1 3 1
5 3 7 1
9 5 13 3
11 7 15 1
17 9 25 5
21 13 29 3
19 11 27 7
23 15 31 1
33 17 49 9
41 25 57 55
37 21 53 13
45 29 61 3
35 19 51 11
43 27 59 7
39 23 55 15
47 31 63 1
...

```

如果有数感的同学可能已经看出来了：首先奇数列以 $2^x$ 次幂为一个规律，把所有的奇数从小到大的行数依次排列起来就是：

```
1 | 1 | 2 2 | 3 4 3 4 | 5 7 6 8 5 7 6 8 | ...
```

把同一个块里面的最小数变成以 $1$ 开始：

```
1 | 1 | 1 1 | 1 2 1 2 | 1 3 2 4 1 3 2 4 | ...
```

那么随便设点什么（比如数的大小，行数，块的编号）（大概）都可以写出一个和 $2^x$ 有关的递推式，这时我们发现答案可能和 $2$ 进制有关。

打出前几个答案的二进制的表，可以得到：

```
1

11

101
111

1001
1111

10001
10101
11011
11111

100001
101101
110011
111111
...
```

可以发现都是回文数，而且包括了所有的回文二进制数。

所以答案就是 —— 小于等于 $m$ 的二进制数中，回文数的个数。