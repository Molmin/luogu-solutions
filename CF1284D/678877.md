[题目传送门](https://www.luogu.com.cn/problem/CF1284D)

发现直接找会比较麻烦，考虑转化。

发现对于第 $i$ 号区间，令 $S_a$ 表示在 $a$ 中与其无交的区间的集合，$S_b$ 表示在 $b$ 中与其无交的区间的集合。如果 $S_a$ 中的所有区间都与 $S_b$ 中所包含的区间不是一一对应的话，就肯定是输出 NO。

这时候就可以使用异或哈希了，如果对于区间 $i$，异或后为 $0$，则可近似的认为 $S_a$ 与 $S_b$ 相等，反之，就不相等。

时间复杂度：$\mathcal{O}(n \log n)$

说句闲话，这个人一开始 cmp 写挂了。

[评测记录](https://codeforces.com/contest/1284/submission/212910575)