**争做最简洁最好懂题解！全部代码18行。
**

总体思路是先攒经验值，再升级，分成两步操作，容易跟踪变量变化，便于查错。

注意有3个坑：

1.耗用生命值x有负数，这会导致生命值突破上限，因此要加特判；

2.生命值耗尽后，当前及之后所有操作无效，因此要退出循环。可以直接在输入循环中中断。

3.既然有极品数据，就要检查端点值、0、1、-1。

```cpp
#include <cstdio>
int n, t, i, rk, pt;
int main()
{
    double x, v = 10;
    scanf("%d", &n);
    while (n--)
    {
        scanf("%lf%d", &x, &t);//生命值为浮点数
        if (v - x > 0) v -= x, pt += t;//生命值内可以操作
        else break;//不能省
        if (v > 10) v = 10;//注意生命值有上限!
    }
    for (i = 1; pt - i >= 0; i *= 2)//能减就连续减
        rk++, pt -= i;//计算等级和经验
    printf("%d %d\n", rk, pt);
    return 0;
}
```
