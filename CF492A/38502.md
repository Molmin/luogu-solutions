# 思路

## 猜想

显然，要搭建$m$层的金字塔，所需立方体个数为:

$\sum_{i=1}^{m}\frac{i(i+1)}{2}$

经过计算我们得出：

$m=1,n=1;$

$m=2,n=4;$

$m=3,n=10;$

$m=4,n=20.$

根据数据，提出猜想：$\sum_{i=1}^m\frac{i(i+1)}{2}=\frac{m(m+1)(m+2)}{6}$

## 证明

我们采用**数学归纳法**证明。

- 经过计算，当$m=1$时，猜想成立。

- 假设$\sum_{i=1}^{m}\frac{i(i+1)}{2}=\frac{m(m+1)(m+2)}{6}$成立，试证明$\sum_{i=1}^{m+1}\frac{i(i+1)}{2}=\frac{(m+1)[(m+1)+1][(m+1)+2]}{6}$

$\sum_{i=1}^{m+1}\frac{i(i+1)}{2}$

$=1+3+...+\frac{m(m+1)}{2}+\frac{(m+1)(m+2)}{2}$

$=\frac{m(m+1)(m+2)}{6}+\frac{(m+1)(m+2)}{2}$

$=\frac{m(m+1)(m+2)}{6}+\frac{3(m+1)(m+2)}{6}$

$=\frac{(m+1)(m+2)(m+3)}{6}$

$=\frac{(m+1)[(m+1)+1][(m+1)+2]}{6}$

所以猜想成立。

# 代码

根据上面的结论，我们很容易写出代码，只需要枚举$m$使得层数最多且$\frac{m(m+1)(m+2)}{6}≤n$即可，代码如下

```cpp
#include<stdio.h>//头文件

int n;

int main(void){
	register int i;//用寄存器更快些
	scanf("%d",&n);//读入
	for(i=1;i<=40;i++)//进行枚举
		if(i*(i+1)*(i+2)/6>n)
			break;//退出循环
	printf("%d\n",i-1);//输出
	return 0;//结束
}
```

## [我的测评记录](https://www.luogu.org/record/show?rid=9188711)