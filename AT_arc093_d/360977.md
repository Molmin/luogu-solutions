#ARC093F

首先你可以发现你在哪个位置并不重要，我们钦定你处于 $1$ 号位置，最后的答案乘上 $2^N$ 即可。

然后，我们可以注意到，对于一个没有你的集合，其胜者一定是这个集合中最小的那个数，我们还知道，你只会与除你以外的 $N$ 个集合的胜者进行对决。直接考虑在与这些集合对决全胜的排列数是困难的，正难则反，设这 $N$ 个集合为 $s_1,s_2,s_3... s_n$，状压并容斥一下，设 $f(S)$ 表示你在与集合 $S \subset \left\{s_1,s_2,s_3...s_n \right\} $ 中的集合对决时全部失败的排列数。则答案等于 $\sum (-1)^{|S|} f(S)$。考虑如何求 $f$，发现我们其实可以以这样一个顺序来做，即从大往小枚举 $A_i$，再 $S$ 中加入一个集合时钦定 $A_i$ 是这个集合中的最小值直接算方案数。具体地，我们将 $A_i$ 从大到小排序，设 $dp_{i,S}$ 表示到了 $a_i$，你在面对 $S$ 中的集合时是必败的方案数。转移时你可以考虑将 $a_i$ 填入 $S$ 以外的集合但没成为最小值和 $S$ 以外的集合并成为了最小值来考虑。

当其没成为最小值

$$dp_{i,S}=dp_{i-1,S}$$

当其成为了最小值，设其是 $j$ 集合的最小值，则

$$dp_{i,S|2^j}=dp_{i-1,S}\times C_{2^N-S-a_i}^{2^j-1}\times 2^j!$$

那么 $f(S)=dp_{m,S}\times(2^N-S-1)!$，因为除去 $S$ 集合中的数和 $1$，其他数可以任意排列。

[Code](https://atcoder.jp/contests/arc093/submissions/44203304)