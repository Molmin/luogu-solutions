[$\tt Link$](/problem/CF786A)，$\tt^{\ast}2000$。

博弈论基本常识：

+ 状态能且仅能分为（先手）必胜和必败两类。
+ 经过状态变化，必败 $\iff$ 一定只能变成必胜，必胜 $\iff$ 存在方案变成必败。

这个博弈对两个人而言并不对称，所以必胜和必败是针对一个人而言的。

$n$ 小，考虑暴力记忆化搜索，计算每个点对于两个人分别是必胜还是必败，记为 $f_i,g_i\in\{0,1\}$。

考虑转移，记当前的状态为 $cur$ 代表当前位置。

+ 我们只会从下一步走的人的集合 $S$ 里取出 $x\in S$，然后 $cur\to cur-x$，当然这个 $cur-x$ 需要对 $n$ 取模。
+ 如果 $cur$ 是必败，因为能到必败的就是必胜，所以 $cur-x$ 一定必胜。
+ 如果 $cur$ 是必胜，需要记 $cnt$ 代表有几个必胜能到这个状态，如果这个 $cnt$ 已经等于可能的状态总数，那么 $cur-x$ 必败。

[$\tt code$](https://codeforces.com/problemset/submission/786/168971556)。