这题其实有点像[联合省选 2023D2T1 过河卒](https://www.luogu.com.cn/problem/P9169)，都是给可以接受的数量个状态，以及它们之间的转移，然后有一些已知的必败必胜态，求每个状态是必败态，必胜态，还是循环态。

我们知道如果一个状态是可以转移到必胜态，那么它就是必胜态，只能转移到必败态就是必败态，否则是循环态，所以照着这个 $\text{bfs}$ 即可，听谷群的说这个叫 $\text{min-max}$ 对抗搜索。

具体的说，如果一个状态被必胜态访问到那么直接设为必胜态加入队列，如果被必败态访问到那么计数器自增，如果计数器等于出度（反图上的入度），就设为必败态加入队列。操作结束后没设置的就是循环态。

ps：必败必胜态取决与当前的先手是谁。

复杂度 $O(n^2)$，代码不放了。