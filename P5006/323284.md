# 题解 P5006 【[yLOI2018] 大美江湖】
[传送门](https://www.luogu.com.cn/problem/P5006)

### 此题坑点
- ```请注意，如果多次进入同一个格子，那么格子上的药水会被重复拾取，小怪也会再次出现。即你可以认为离开一个格子以后该格子会恢复原状。```

- 吃生命药水并不能使你扣的血变成 __负数__

浮点数那什么的就不算做坑点了吧。
### 进入正题
- __题目叫你干什么__

先给出一个大小为 $n*m$ 的地图。

然后再给你怪物的属性 $HP_0$，$ST_0$，$DE_0$;你一开始在的坐标$(y,x)$（注意这里不是$(x,y)$！！！~~不过没有什么关系~~）；你的属性。

最后进行 $q$ 次操作（移动和输出）。
- __地图里面的东西__
1. `.`：走到上面什么都不会发生。
2. `R`：会使你丢失的血量$-10$，即```HP=max(0,hp-10)```。
3. `Q`：会使你的攻击力$+5$，即```ST+=5```。
4. `Y`：会使你的防御力$+5$，即```DE+=5```。
5. `M`：会使你的血量（丢失的）增加，按以下公式计算：
$\max(\left\lceil\dfrac{HP_0}{\max(1,ST-DE_0)}\right\rceil×\max(1,ST_0-DE))$

C++ 代码实现就是：
```cpp
//这里的数据均为double类型。
HP+=max(1.0,ceil(HP0/max(1.0,ST-DE0))*max(1.0,ST0-DE));
```
- __移动__

输入的 $op$ 是$2$了之后，再输入一个 $d$，应该这么处理：

$1$：```y--;```

$2$：```y++;```

$3$：```x--;```

$4$：```x++;```
____
那么完整代码就不放了~~还不是因为我的码风这么丑~~。