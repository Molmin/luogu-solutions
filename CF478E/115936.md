*2900 不知道是什么水平，但是能独立做出这题还是很有成就感的。

数据范围上 $10^{14}$ 就很像根号，考虑对于 $n\ge 10^7$ ，直接暴力枚举然后判断即可，复杂度 $O(\frac{10^{14}}{n})$ 。

考虑对于 $n\le 10^7$ 怎么做，因为是整除所以考虑从余数入手，因为 $n$ 较小所以余数也只有 $10^7$ 种。

考虑按照余数对所有的数分类，但是不可能去枚举这 $10^{14}$ 个数，还是考虑从根号 $10^7$ 入手。

考虑对于一个数，十进制下有 14 位，我们将它拆开成两部分，每一部分有 7 位。

对于后 7 位，我们暴力枚举每个数，依据三个东西去给这些数分类。注意这里的数如果不满 7 位，因为要和前 7 位拼接的原因，所以要自动补前导 0 。

1. 首位的数字

2. 首位的数字是否大于第二位的数字

3. $\bmod\ n$ 的余数。

所以我们可以开一个三维的 vector ，把每个数存到对应的类里面。

然后我们暴力枚举前 7 位是什么，显然对于每种可能，与它可拼接的后 7 位最多只有 9 类，暴力枚举即可。

总的时间复杂度为 $O(\sqrt{10^{14}}\times chk)$ ， chk 是判断一个数是否为波浪数的复杂度。

理论上的空间复杂度为 $O(10^7)$ ，但是会发现这个 vector 会爆空间（因为空 vector 实际上也是占空间的），所以分治的边界可以调一下，太小会 TLE ，大了又会 MLE ，最后我的程序是将边界定为 1005000 能在 1.4s 内通过本题。

https://codeforces.ml/contest/478/submission/157365547