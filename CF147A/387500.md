## CF147A Punctuation
[原题链接](https://www.luogu.com.cn/problem/CF147A)
码量最少。时间空间最优解。
## 分析
模拟。

让字符串最终满足三个条件：

1. 两个单词间只有一个空格。

2. 标点的前面没有空格，后面有一个空格。

3. 字符串末无空格。

整行读入，从头扫一遍字符串，边判断边输出。

如果该位为空格，第一种情况：下一位是标点，标点前面不需要输出空格，跳过。第二种情况：下一位是空格或字母，两个单词间只需要一个空格，当下一位不为空格时，输出一个空格。

如果该位为字母，且上一位是标点，标点后面需要一个空格，输出一个空格和该位字母。

否则该位为上一位不为标点的字母或标点，直接输出即可。

## Code
```cpp
#include<iostream>
#define F(n) (s[n]=='.'||s[n]==','||s[n]=='!'||s[n]=='?')
//判断标点
using namespace std;
int main(){
	string s;getline(cin,s); //整行读入
	for(int i=0;i<s.length();i++){
		if(s[i]==' '){
			if(F(i+1)) continue; //空格下一位是标点
			if(s[i+1]!=' ') cout<<" "; //空格下一位是字母
		}
		else if(F(i-1)&&s[i]!=' ') cout<<" "<<s[i]; //上一位是标点 该位为字母 
		else cout<<s[i]; //字母、标点直接输出 
	}
	return 0;
}
```
没有刻意压行，不需要任何多余变量和操作，可能是最简单的解法了。