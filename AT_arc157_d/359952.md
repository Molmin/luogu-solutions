我们发现题目的限制看起来非常强，先考虑一些必要条件。

首先设 `Y` 的个数为 $k_1$，容易得到 $2AB=k_1$，$A$ 表示行割了几刀，$B$ 同理。

第二个必要条件是只考虑行的刀，分成的每一块 `Y` 的个数都是 $2B$，列同理。

然后我们会对每一刀确定一个范围，但我们还有一个条件是每一块恰好 $2$ 个 `Y`。

不过我们又发现无论刀在哪里割，每一小块 `Y` 的个数都是固定的。

判断，然后乘法原理计数即可。