这是一道动态开点线段树的~~好题~~裸题

设 _f[i][j]_ 表示走到 _(i,j)_ 这个点的方案数，先考虑没有每次从 _A->B_ 两点权值不同这一限制，那么方程就十分显然，就是 _f[i][j]_ = _Σf[a][b]_ (其中 _1<=a<i,1<=b<j_ )，而这个，暴力计算是**O(n^4)** ，毫无疑问会TLE，这时候可以用一维前缀和优化到**O(n^3)**,二维前缀和优化到**O(n^2)**，两种均可以通过

但我们的目标远远不止这些。看看本题，暴力搜到每个点，判断左上权值不同的加上，那么这样也是O(n^4),这是最朴素的暴力。然后二维前缀和优化，这样只需要记录左上角权值等于 _a[i][j]_ 的f[x][y]之和。这样，~~由于权值<=n*m~~ 其实可以离散化的，对每个权值开一棵线段树。由于i是从上往下搜索的，那么每次插入时，可以在该权值线段树的j位置插入 _f[i][j]_ 就可以了。操作还是log级别的

时间复杂度O(n^2log)，空间复杂度O(n^2log)