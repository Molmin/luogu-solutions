很简单，这题就是最大字段和（前缀和）。

这题为什么是最大字段和呢？很简单，为使能喝的水的数量最大，最终到过的所有水是汇聚在一处的，怎样汇聚在一处呢？很简单，从任意点开始，一直往右（或往左倒）倒即可，所有倒过的水的原来位置连起来就是一个子串了。

那么，最大子串和怎么写呢？这要用到前缀和，那么前缀和又是什么呢？即计算l至r这一段区间的和。先计算从头到每一个数的之间的数的总和，最后输出时，把$a[r]-a[l-1]$即可（为什么呢，$a[r]$是前$r$个数的和，$a[l-1]$是前$l-1$个数的和，两者相减，前$l-1$个数的和被抵消，就是剩下第$l$个数至第$r$个数的和了）。代码：

	for(i=1;i<=n;i++){
    	f[i]+=f[i-1];//计算代码f[r]-f[l-1]
	}
    
好了，只要把每一段的和求出来，剩下的只要判最大就可以了，代码：

	#include<stdio.h>
	using namespace std;
	int a[1000005];
	int main(){
		int n,m,i;
		scanf("%d%d",&n,&m);
		for(i=1;i<=n;i++){
			scanf("%d",&a[i]);
			a[i]+=a[i-1];//前缀和
		}
		int max=0;
		for(i=1;i+m<=n;i++){
			int k=a[i+m]-a[i-1];//前缀和计算，注意，水壶倒的次数比子段长度小1（自己想想为什么）
			if(k>max)max=k;//判断大小
		}
		printf("%d",max);//输出
		return 0;
	} 
    
好了拜拜~~~