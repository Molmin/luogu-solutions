- 普及水平的作者误点了提交题解键，感到十分抱歉，希望不要 ban 掉我的博客 QwQ。

**[题意](https://www.luogu.com.cn/problem/AT1218)**
- IOI 草（？？原文确实如此）排成一列长了很多（$n$ 个）。
- IOI 草只要满足以下任一条件就不会枯萎。
- - 在那草的左侧，不存在比那草高的草。
- - 在（那）草的右侧，不存在比（那）草高的草。
- （要求）很好地排列 IOI 草，使所有的 IOI 草不枯萎。
- 请计算最少要进行多少次排序。

**分析**
- 你发现你需要排成一个非严格单峰序列。
- 你尝试发现一些结论，比如从寻找分割点在两边排序之类的，却无果。
- 为什么？因为中间的具体位置没有确定，但是两边却是确定的，应该先从两边开始寻找。
- 我们可以想到一个简单的贪心，（从外到里）枚举最小的数，判断它往哪里移动更优。
- 因为它对后面的结果没有影响，所以这个贪心是正确的。
- 因此你发现我们需要计算的不过是每个点左边或者右边大于它的数的个数（这是移动的步数），因此用树状数组即可完成。
- 实现细节：离散化，文末回车，[代码](https://www.luogu.com.cn/paste/kfaf8ryw)。