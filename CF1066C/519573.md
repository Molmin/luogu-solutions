## 题目大意

需要维护一个数据结构，支持以下三种操作：

- $L$ $id$：在现在序列的左边插一个编号为 $id$ 的物品；
- $R$ $id$：在现在序列的右边插一个编号为 $id$ 的物品；
- $?$ $id$：查询该点左面有几个元素，右面有几个元素，并取 min 输出；

### 具体思路

废话：一开始我想到了双端队列，天真的我准备切掉这一道题，但没想到 $O(N)$ 竟然过不了，我就“愉快的” TLE 了；

慢慢的，我发现可以用数组模拟双端队列这回事。

思路：定义左端点 $L$ 和右端点 $R$, 当想要在数组里存放物品时，只需要移动左右端点即可。

### 实现

当它想要在队列右边存储数值时，只需要移动右指针，再把数值放入指针所指的地址里，并保存指针即可，左边也是同样的道理。当需要询问最小值时，把当前数值的下标分别去减左右端点再取最小值即可。

不废话，上代码：

## 代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
const int N = 1000005;
int L = 500001;
int R = 500000;
int a[N], s[N];
int main(){
  int t;
  cin >> t;
  while(t--){//t组数据
    char v;
    int nam;
    cin >> v >> nam;
    if(v == 'L'){//如果是左端点，L--，数组存放物品nam；
      a[--L] = nam;
      s[nam] = L;
    }
    if(v == 'R'){//如果是左端点，R++，数组存放物品nam；
      a[++R] = nam;
      s[nam] = R;
    }
    if(v == '?'){//询问位置；
      cout << min(s[nam]-L, R-s[nam]) << endl;//取最小值输出；
    }
  }
  return 0;
}

```
有任何疑问，可以私信本蒟蒻。

直接切掉！