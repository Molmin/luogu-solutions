本题一眼看起来似乎直接 min25 了事，实则存在更优的解法。（因此建议降紫）

定义 $h(x)=(-1)^{f(x)}$，那么 $h(x)$ 是完全积性函数，进一步考虑 $h*1$，他是积性函数，而且 $(h*1)(p^k)=[2|k]$，那么 $(h*1)(n)=[n\text{ is square}]$，两者都方便求和，那么直接杜教筛即可。复杂度 $O(n^{2/3})$。