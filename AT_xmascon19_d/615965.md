# AT_xmascon19_d Sum of (-1)^f(n)

## 前言

一眼看出应该用 Min_25 筛 ~~尽管我不会~~，

然而细推之后发现似乎杜教筛就可以处理掉？

所以这里给出杜教筛解法 ~~尽管题解里已经有了~~。

## 思路

题里都告诉你了 $f(n)$ 和性，那么显然设 $g(n)=(-1)^{f(n)}$ 为积性函数，
接下来考虑找到另一个函数 $h(n)$ 来让 $(h*g)(n)$ 的前缀和和 $h(n)$ 的前缀和都很好算。

## 喜闻乐道的推式子环节

显然有：

$$f(p^k)=k$$

$$g(p^k)=(-1)^{k}$$

为了~~施法~~让

$$\sum_{d|p^k} g(d)h \left( \dfrac{p^k}{d} \right)$$

好算，可以构造出 $h(n)=1$ 来消掉一部分 $g(p^t)(0\le t\le k)$。

此时显然有：

$$(g*h)(p^k)=[2|k]$$

也就是说

$$(g*h)(n)=[\exists k\in N,k^2=n]$$

所以

$$\sum_{i=1}^n (g*h)(i)=\left\lfloor\sqrt n\right\rfloor$$

然后就可以快乐的杜教筛辣！！！

## Code

呃，我的评价是：代码比杜教筛板子还好写~~所以不放了~~

什么？没打过杜教筛？

参见[这里](https://www.luogu.com.cn/problem/P4213)。

只要预处理时筛到 $10^7$ 就可以过啦！
