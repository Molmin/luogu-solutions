注：思路源于博客https://www.cnblogs.com/st1vdy/p/11284357.html 内容不同但思路相似。
## 【思路】
这是一道典型的构造题，没有什么思路，主要是构造方法。

我们这么去想：

由于我们要让总的“马”数大于一个值，因此我们要让马尽可能多，因此，我们原有“马”的利用率要尽可能大。

由于我们要使“马”的数量变为$\lfloor{\frac{n^2}{10}}\rfloor$，我们先考虑一般的构造。

我们先从行开始考虑。。。

## 【构造】
（红格子是老马，绿格子是新马）
我们先考虑马全在1行的情况。
![](https://cdn.luogu.com.cn/upload/pic/68930.png)

明显这样一个马都构造不出来（自行理解一下），那我们换一种：
![](https://cdn.luogu.com.cn/upload/pic/68931.png)

这样一来，我们就可以构造出新的马

如果$n$再大一点呢？

先是这样：
![](https://cdn.luogu.com.cn/upload/pic/68932.png)

然后是这样
![](https://cdn.luogu.com.cn/upload/pic/68935.png)

后面就没得构造了。

可以发现，每次新出现的个数每一行会少$4$，而每一行一开始有$\frac{n}{2}$个。

因此，我们等差数列求和，得这种方式的总马个数
$$2\sum (\frac{n}{2} - 4i) = 2\cdot \frac{\frac{n}{2}(\frac{n}{2}\cdot \frac{1}{4})}{2} = 
\frac{n^2}{16}$$

个数不够，我们继续想。。。
![](https://cdn.luogu.com.cn/upload/pic/68936.png)

我们分成$3$行，发现有一些马是浪费的，因为它们可以被构造出来，我们只需要上图中的部分马。

于是，我们只需要下图标红的马，就可以得到与上图同样的效果。
![](https://cdn.luogu.com.cn/upload/pic/68938.png)

而此时，一行大约是$\frac{n}{3}$的马，但可以构造后一行得到$\frac{2n}{3}$的马。

用它代替上文中的$\frac{n}{2}$，明显更加优秀，加上常数最后大约有
$$\frac{n^2}{8}$$
的马。

然后就这么构造就好了。
代码懒得放了