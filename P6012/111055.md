## 前言
怎么没人做这题啊（
## 思路
显然这是一个背包问题，我们考虑构造答案的 $\text{OGF}$。

考虑记已经有一些物品时，装 $n$ 个物品的所有方法的价值和为 $F_n$。

然后这些物品对应答案的 $\text{OGF}$ 即为 $F(x)=\sum\limits_{i=0}^\infty F_ix^i$。

然后我们考虑合并两个物品集 $A,B$ 到 $C$，注意到选 $n$ 个物品的方案只能是在第一个物品集选 $i$ 个，再在第二个物品集选 $n-i$ 个，因此 $C_n=\sum\limits_{i=0}^nA_iB_{n-i}$。

诶，这不就是卷积形式吗？

于是这题只差最后一步了，考虑只有一个物品时答案的生成函数。这显然很简单，就是 $a_ix+1$，其中 $a_i$ 是权值。

然后直接分治 $\text{MTT}$ 就行啦！出题人要我们写 $\text{MTT}$，爬（