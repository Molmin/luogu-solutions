分类讨论。

1. $m>1$，那么任意一个数与其上（下）的数的差至少为 $2$，不满足 domino 的条件，只有同一行相邻两数（相差为 $1$）才是 domino，因此只要算出同一行相邻的两数组成的数对的数量，就是答案。这显然是 $(m-1)\times n$。
2. $m=1$，此时一行只有一个数，并且任意一个数与其上（下）的数的差为 $1$，那么我们只要算出这一列相邻的两数组成的数对的数量，就是答案。这显然是 $n-1$。

还有，**十年 OI 一场空，不开 `long long` 见祖宗**。

代码就不放了，自己打吧。

最后，提前祝大家 CSP RP++！