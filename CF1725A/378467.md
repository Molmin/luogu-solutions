分类讨论。

容易发现，当 $m=1$，也就是只有一列的时候，上下两个格子是相邻而且差为 $1$ 的。

否则，也就是不只一列的情况，上下两个格子虽然相邻，但是他们的差为 $m\neq 1$，不符合条件。但是左右的两个格子相邻，并且差为 $1$。对于每一行而言，有 $m$ 个格子，就有 $m-1$ 对相邻的左右的格子，有 $n$ 行，所以答案就是 $n(m-1)$。时间复杂度 $O(1)$。

```cpp
void solve()
{
  int n, m;
  cin >> n >> m;
  if (m == 1)
    cout << n - 1 << '\n';
  else
    cout << n * (m - 1) << '\n';
}
```