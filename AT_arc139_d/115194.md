首先我们考虑对每个 $x\in[1,m]$，计算最终期望有多少个数 $\le x$，显然求出这个之后就能算出答案。

我们设 $c$ 表示当前状态下 $\le x$ 的数的个数，考虑下一步 $c$ 会怎么变，那么显然是我们以 $\dfrac{x}{m}$ 的概率将 $c$ 加 $1$，如果 $c>X$，那么令 $c$ 减 $1$。

注意到 $|c-X|$ 是不会增的，也就是说如果一开始 $c\le X$，那么 $c$ 最多增加到 $X$，如果一开始 $c>X$，那么 $c$ 也最少减少到 $X+1$，也就是说如果一开始 $c\le X$，并且我们进行了 $t$ 次加一操作，那么最终 $c=\min(c+t,X)$。一开始 $c>X$ 的情况也是同理，使用一个简单的组合数计算答案即可。

时间复杂度 $O(nm)$。