记 $s$ 的长度为 $n$，记 $x$ 的长度为 $m$。

考虑到答案只有以下三种情况：

* 第一个串长度为 $m$。
* 第二个串长度为 $m$。
* 两个串的长度均为 $m-1$。

对于前两种情况，我们可以枚举对应的串，然后和 $x$ 求一个 LCP，就可以算出另外一种情况了。

LCP 可以使用 Z 函数或者一些后缀数据结构，也可以哈希。

于是我们得到了 $O(n)$ 个可能的答案。

对于每个答案，如果我们暴力加的复杂度是 $O(\frac{n^2}{C})$，$C$ 是压位高精的常数，约等于 $18$，加上一些优化我也不知道过不过的去。

所以我们考虑一个非完美的算法：随机选一个模数 $p$，把三个数模 $p$ 的值求出来，先进行一轮判断。

容易发现在模数范围很大时，hash 的准确率很高（因为输入的字符串不能含 $0$），因此时间复杂度近似与 $O(n)$。

代码没写，因为太恶心了。