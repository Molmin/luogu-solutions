考虑从集合里面抽出来两个元素，则他们两个差有一定概率是这个 $M$ ，这取决于这两个数是不是在这个模意义下相同的集合，很明显，如果 $M$ 满足条件，则 $M$ 的因数也满足，那么就用这个差值和这两个数去掉余数之后的值做差就可以了。   
如果全部枚举则检验复杂度是 $\Theta(n^3)$ 的，因为这个东西性质很强，我们每次抽取两个元素，都在满足要求的集合里面的概率最小是 $\frac{1}{4}$ ，那么多随几次就行了。