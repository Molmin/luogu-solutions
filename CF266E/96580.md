$(i - l + 1) = (i + (1 - l))$

$(i + (1 - l))^k = \sum_{j = 0}^{k} \binom{j}{k} i^j (1-l)^{k-j}$

二项式定理展开成这样，然后在线段树上维护 $a_i \times i^{j}$ 就好了。

注意到这个 $k$ 只有 $5$ 所以直接搞就好了.jpg。
