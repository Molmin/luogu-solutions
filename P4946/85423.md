考察知识：图论，数学，推导，搜索

算法难度：XXXX 实现难度：XXXX

---

分析：

这道题需要大家有一定的电学知识和数学推导能力。

先推导几个电学结论：

结论一：对于串联电路，我们可以将所有电阻$R_1,R_2,...,R_n$看作一个等效电阻：$R_{\sum}=\sum_{i=1}^n R_i$

证明：易得，略

结论二：对于一个（等效）并联电路，电阻分别为等效电阻为：$R_{\sum}=\frac{1}{\sum_{i=1}^n \frac{1}{R_i}}$

证明：设电压为 U，由欧姆定律，总电流为：$I_{\sum}=\sum_{i=1}^n \frac{U}{R_i}$，故等效电阻为：$R_{\sum}=\frac{U}{I_{\sum}}=\frac{1}{\sum_{i=1}^n \frac{1}{R_i}}$

结论三：对于一个（等效）并联电路，电阻分别为，我们可以采取下面的算法计算等效电阻：

```cpp
double R_=R[1];
for(int i=2;i<=n;i++) R_=R_*R[i]/(R_+R[i]);
ans=R_;
```

证明：结论二的二维形式：$R_{1,2}=\frac{R_1R_2}{R_1+R_2}$，每次将两个电阻合并为一个等效电阻，最后的值即为总等效电阻

结论四：对于一个（等效）并联电路，电阻分别为$R_1,R_2,...,R_n$，其支路最小电流为：$\frac{R_{\sum}I_{\sum}}{max\{R_i\}}$

证明：我们知道，最小电流在电阻最大的支路上，即$max\{R_i\}$，而电压为$R_{\sum}I_{\sum}$，由$I=\frac{U}{R}$，就得到结论

有了这几个结论，我们就可以开始动手了：

1.先用结论三处理重边

2.然后bfs求出由电源正极到负极的一条路径

3.以这条路径为主线开始处理，遇到分叉边就表明此处有并联嵌套串联，用结论一+dfs计算嵌套串联的等效电阻，并记下$k=min\{k,\frac{R_{\sum}}{max\{R_i\}}\}$，然后利用结论三进行并联电阻的合并

4.将所有等效电阻求和，即为整个电路的总等效电阻，如果主线电流为$I$则最小电流$I_{min}=kI$

---

原文地址：[【洛谷】NOIP2018原创模拟赛DAY2题解](https://blog.csdn.net/hi_ker/article/details/82820861)


------------
原文地址已经修改

$2019.2.23\,\,\,\ --AFO$_$OIer$