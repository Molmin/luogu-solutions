写一发考场思路

比较显然的一件事就是**每架飞机最终停在哪个廊桥** 与 **分配的廊桥个数**无关，因为题目要求遵循先到先得。

所以可以求出每个飞机将会在哪个廊桥停下，从而得出每个廊桥能停靠的飞机数量，即对答案的贡献。

最终答案则可以表示为

$$Ans=max\{\sum_{x=1}^{i}g(x)+\sum_{x=1}^{n-i}u(n-x)\}$$

其中 $g(x)$ 表示在国内第 $x$ 号廊桥加入后承载的飞机数量， $u(x)$ 同理

然后这个东西可以用一个前缀和做到 $O(N)$ 求

问题是如何求每个飞机在哪个廊桥停靠

根据题意，我们可以知道每个飞机都会选择当前空闲的编号最小的廊桥

这个可以用堆来维护，建立一个堆里面放当前空闲的廊桥的编号，每次有飞机落地就`pop()`有起飞就`push()`

按起飞时间从小到大分别给两种航班排序，建立另一个堆，存放当前仍然停在机场的飞机

每次有新飞机落地时把所有起飞时间小于它落地时间的飞机`pop()`出去，把他们占用的廊桥重新加回第一个堆里

然后分配给新飞机一个最小空闲廊桥，记录这个廊桥编号并且`pop()`出第一个堆，给这个廊桥的贡献++。

上面的过程国内航班做一遍，国际航班再做一遍，求前缀和，就可以按上面的式子求得答案了

时间复杂度 $O(NlogN)$

~~人称`priority_queue`练习题~~

~~希望自己不要写挂分~~