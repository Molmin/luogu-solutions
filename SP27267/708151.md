[题面传送门](https://www.luogu.com.cn/problem/SP27267)

# 题意简述

试构造一个正整数数列 $a_1 , a_2 , ... , a_m$，使得这个数列满足以下条件：

* $a_1 = a_m = 1$。

* $a_i = a_{i-1} - 1\ \text{or}\ a_{i-1}\ \text{or}\ a_{i-1} + 1$。

* $\sum_{i=1}^ma_i = n$。

求这个数列最短的长度。

# Solution

由于 $n$ 的范围很大 ($1 \le n \le 10^{18}$)，所以暴力是不可能暴力的，我们不妨先从 $n$ 比较小的时候看，摸索出 $n$ 与输出的结果之间的规律。

先~~打表~~列举几种 $n$ 的情况看看。

| $n$ 的取值 | 答案的对应的值 |
| :----------: | :----------: |
| $1$ | $1$ |
| $2$ | $2$ |
| $3$ | $3$ |
| $4$ | $3$ |
| $5$ | $4$ |
| $6$ | $4$ |
| $7$ | $5$ |
| $8$ | $5$ |
| $9$ | $5$ |
| $10$| $6$ |

规律显而易见，$1$ 和 $2$ 出现了 $1$ 次，$3$ 和 $4$ 出现了 $2$ 次，依此类推，易得出 $2x - 1$ 和 $2x$ 出现 $x$ 次。

继续列举，验证猜想：

| $n$ 的取值 | 答案的对应的值 |
| :----------: | :----------: |
| $11$ | $6$ |
| $12$ | $6$ |
| $13$ | $7$ |
| $14$ | $7$ |
| $15$ | $7$ |
| $16$ | $7$ |
| $17$ | $8$ |
| $18$ | $8$ |
| $19$ | $8$ |
| $20$ | $8$ |

接上表可以看出，$6$ 出现了 $3$ 次，$7$ 和 $8$ 出现了 $4$ 次，与我们刚才得出的规律刚好吻合。

所以，我们便可以得出解题方法了。

1. 定义、输入好相关变量；

2. 按照刚才推出的规律计算出输入的 $n$ 值对应的答案值；

3. 输出计算结果。

# AC _Code_

```cpp
#include<bits/stdc++.h>
using namespace std;
inline void output(int x){//快写 
    if(x>9) output(x/10);
    putchar(x%10+'0');
}
int main(){
	long long n,ans,i=1;//不开 long long 见祖宗 ，此时把 i 赋值为 1 重要。 
	scanf("%lld",&n);
	while(n>=0){
		if(n>=i+1){
			n=n-i-1;//此时 i 是奇数，则 i 与 i+1（即 i 后面的偶数）出现的总次数为 i+1 次。 
			i+=2;//将 i 赋为 i 的下一个奇数。 
		}
		else{
			if(n>(i+1)/2){//如果 n 能把 i 出现的次数减完 
				output(i+1);//那么答案即为 i+1。 
				printf("\n");//细节 
			}
			else{//否则 
				output(i);//答案为 i。 
				printf("\n");
			}
		}
	}
	return 0;
} 
```