，，这种一般都要倒推才行。
设$f[i][j]$表示还有$i$行,$j$列未满足的情况下的期望次数。
因为每次选择都是完全随机，不受其他东西的影响。
所以对于题中给出的$m$,实际上就是告诉了我们要求什么东西，假设在已经有那$m$个涂色方块的情况下,我们还有$t1$行，$t2$列未满足，那么我们要求的就是$f[t1][t2]$.
那么我们可以列出转移方程：(一行写不下，分2行写)
$$f[i][j] = 1 + \frac{ij}{n ^ 2} f[i - 1][j - 1] + \frac{(n - i)j}{n ^ 2} f[i][j - 1] $$
$$f[i][j] += \frac{i(n - j)}{n ^ 2} f[i - 1][j] + \frac{(n - i)(n - j)}{n^2} f[i][j]$$
$1$是每次选择的代价，后面的就是进入每一种状态的概率，对于任意后继状态，它对当前状态的贡献就是它的期望 * 进入这个状态的概率(全期望公式)

然后移项化简，对于后面这一堆东西提出一个$\frac{1}{n ^ 2}$，然后把$f[i][j]$放到等式左边，这样就只需要在最后面除一次，可以降低一点精度误差？
$$f[i][j] = \frac{n ^ 2 + ijf[i - 1][j - 1] + (n - i)jf[i][j - 1] + i(n - j)f[i - 1][j]}{[n ^ 2 - (n - i) (n - j)]}$$
然后因为计算的时候，可能会出现为满足行或列的数量为0的情况，这种时候还放在一起计算就不太方便了(需要特判)，因此考虑把这些情况单独拿出来看。
那么因为$f[i][0]$这个状态只受行的影响，所以可以看做一个优惠券收集问题，即:
$$f[i][0] = \sum_{j = 1}^{i} \frac{n}{j}$$
那么由于$$f[i - 1][0] = \sum_{j = 1}^{i - 1} \frac{n}{j}$$
可以得到关于$f[i][0]$和$f[i - 1][0]$的一个递推式，即：
$$f[i][0] = f[i - 1][0] + \frac{n}{i}$$
解释一下那个和式：如果我们现在还有$i$行未满足，共$n$行，那么选一次可以导致一行新的被满足的概率就是$\frac{i}{n}$,那么期望就为$\frac{n}{i}$.
这个东西的感性理解大概是：如果一个事件发生的概率是$\frac{1}{5}$，那么显然期望$5$天这个事件就会发生，所以期望是概率的倒数。。。

不过这个也是可以证明的，只需要将计算式列出，做一个错位相减，利用一下极限的思想，最后可以算出期望确实是概率的倒数。