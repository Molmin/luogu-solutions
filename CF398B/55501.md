~~今天刚接触期望，借发题解来加深一下期望dp学习~~

这是一道期望dp经典例题

首先所谓期望？
~~不是hope~~这里指的是数学期望

## 数学期望

		在概率论和统计学中，数学期望(mean)（或均值，亦简称期望）是试验中每次可能结果的概率乘以其结果的总和，是最基本的数学特征之一。它反映随机变量平均取值的大小。
        需要注意的是，期望值并不一定等同于常识中的“期望”——“期望值”也许与每一个结果都不相等。期望值是该变量输出值的平均数。期望值并不一定包含于变量的输出值集合里。
        大数定律规定，随着重复次数接近无穷大，数值的算术平均值几乎肯定地收敛于期望值
        
        解释来自百科，总之就是
        某事件期望值=(sigma)所有情况出现的概率*这种情况的结果
        
### 举个栗子

		某城市有10万个家庭，没有孩子的家庭有1000个，有一个孩子的家庭有9万个，有两个孩子的家庭有6000个，有3个孩子的家庭有3000个。
        
        则此城市中任一个家庭中孩子的数目是一个随机变量，记为X。它可取值0，1，2，3
        
        其中，X取0的概率为0.01，取1的概率为0.9，取2的概率为0.06，取3的概率为0.03。
        
        则，它的数学期望
        即此城市一个家庭平均有小孩1.11个。
        大概就是这样
  
## 题解

		这题显然是期望dp，于是考虑设计状态。

		dp[i][j]表示还剩i行j列需要填色，期望达到目标状态的步数
        可以推出转移方程
        dp[i][j]=(1(无论怎样都要一步)
        +dp[i-1][j-1]*i*j+(若填充后使需填充的行列个少一个，有i*j种填色方案)
        dp[i][j-1]*j*(n-i)+ (同理只少了一列，有j*(n-i)种选择)
        dp[i-1][j]*i*(n-j)+(同理只少了一行，有i*(n-j)种选择)
        dp[i][j]*(n-i)*(n-j)(并没有少任何一行一列，于是只有(n-i)*(n-j)种选择）
        最后统一除n*n表示每种概率
        移向后得到

        dp[i][j]=(n*n +dp[i-1][j-1]*i*j+dp[i][j-1]*j*(n-i)+dp[i-1][j]*i*(n-j))/(n*n-(n-i)*(n-j))
        完毕
        
## 代码

```
scanf("%lf%d",&n,&m);
    hang=lie=n;//行列两个变量记录目前还剩多少行列需要填充
    for(int i=1;i<=m;i++)
    {
        int x,y;
        scanf("%d%d",&x,&y);
        if(!row[x])row[x]=1,hang--;
        if(!col[y])col[y]=1,lie--;
    }
    dp[0][0]=0;
    for(int i=1;i<=n;i++)//初始化
    {
        dp[i][0]=dp[i-1][0]+double(n/i);
        dp[0][i]=dp[0][i-1]+double(n/i);
    }
    for(int i=1;i<=hang;i++)
        for(int j=1;j<=lie;j++)
    {
        dp[i][j]=n*n+dp[i-1][j-1]*i*j+
                dp[i][j-1]*j*(n-i)+
                dp[i-1][j]*i*(n-j);
        dp[i][j]/=n*n-(n-i)*(n-j);
    }
    printf("%.10lf",dp[hang][lie]);
```