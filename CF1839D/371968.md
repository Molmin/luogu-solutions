考虑这样一种策略：保留一个原序列的上升子序列。称子序列中的点为选定点。

那么所有非选定点都要借助 $0$ 被移动到相应的位置上。

容易发现这种策略 $0$ 的最小个数为：极长非选定点连续段的个数。

不难发现这样可以涵盖所有可能的最优策略。

所有记 $dp_{i,k}$ 表示 $i$ 是一个选定点，$[1,i]$ 内有（至多） $k$ 个极长非选定点连续段，最小的代价。

枚举上一个选定点即可 $O(n)$ 转移。

$k$ 的答案即为 $dp_{n,k}$ 或 $dp_{i,k-1}+n-i$。

复杂度 $O(n^3)$。

https://codeforces.com/contest/1839/submission/208388024