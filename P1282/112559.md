## 这题~~显然是~~贪心
题解里清一色的DP不想写？没关系我们可以发挥人类智慧，使用伟大的贪心QwQ。

题目是求最小旋转次数，那么我们可以让自己每次都选择收益最大的决策。

读入时分别记录上下两行的和，求它们的差值(记为$s$)。再记录每个牌的上下点数之差(存入数组$a$)。然后把$a$数组$sort$一遍。**每次选择让$s$的绝对值减小最多的**　就好啦。

$code:$
```cpp
#include<iostream>
#include<algorithm>
#include<cmath>
using namespace std;
int up,down;  //分别记录上下两行之和
int ans,n;
int a[1100];　　//记录单个牌的上下点数差
int d[1100];
int main()
{
	cin>>n;
    int p,q;
	for(int o=1;o<=n;o++)
	{
		scanf("%d%d",&p,&q);
		a[o]=p-q;
		up+=p,down+=q;
	}　　　　　　　　　　　　//读入时统计
	int s=down-up;
	if(s==0)
	{cout<<0;return 0;}//特判一下不需要改的
	sort(a+1,a+1+n);   //伟大的贪心QwQ
	if(s<0)　　　　　//如果上点数大于下点数
	{
		for(int i=n;i>=1;i--)　　//从　上-下　较大的开始枚举
		{
			if(a[i]>0 && s+a[i]*2<=0)//翻转有贡献且不能翻过头
				s+=(a[i]*2),ans++;//更新，记录答案
			else continue;
		}
	}
	if(s>0)//下面同理
	{
		for(int i=1;i<=n;i++)
		{
			if(a[i]<0 && s+a[i]*2>=0)
				s+=(a[i]*2),ans++;
			else continue;
		}
	}
    	cout<<ans<<endl;
	return 0;
```



------------

如果您交上这份代码，您就会获得82分的好成绩(逃


难道是贪心本身不可解？(~~还是去打DP吧~~)

等，等一下！$QAQ$ .本蒟蒻总不可能浪费您的时间您说是吧，既然来了就不如看完呗。

我们的贪心策略之所以不成功，是因为没达到题目的要求：**在上下差值最小的前提下**，使翻转次数最少。
而**贪心只能保证翻转次数最少，不一定能使差值最小哦**。


举个简单的例子：

假设经过一系列操作后，我们的$s$(在代码中是$down-up$) 为$6$。

对于下图中左边的牌，显然不能单独翻转，因为它会产生$(1-6)×2=-10$的贡献，这样就修改了$s$的符号，不符合我们的贪心策略。

但是，将下图两张牌同时翻转呢？贡献总值为$-10+4=-6$，正好使$s=0$ 了！
![](https://cdn.luogu.com.cn/upload/pic/42528.png )

因此我们总结出一条新规律：**可以同时翻转两张差值符号相反的牌来让$s$的绝对值减少**。

贪心过后,$O(n^2)$ 暴力扫出对于每个单独的牌是否有牌与它配对产生新的贡献，如果能就保存。**然后再次贪心，选取贡献最大的牌对**。

$code:$
```cpp
    int maxn=0;     //每个单独的牌也要选和它配对贡献最大的，说白了还是贪心
    int k=1;
    for(int i=1;i<=n;i++)
    {
        maxn=0;
        for(int j=i+1;j<=n;j++)
        {
            int c=a[i]+a[j];  //配对
            if(abs(s)>abs(s+(c*2)) && abs(c)>abs(maxn))    //合法，且贡献最大
            {
                d[k]=c;	
                maxn=c;
            }
        }
        k++;
    }
    sort(d+1,d+k+1);
    for(int i=k;i>=1;i--)//从贡献大的开始扫
    {
        if(abs(s)>abs(s+d[i]*2))
        {
            ans+=2;//注意这里是＋２！因为是翻转两个单独的牌产生的贡献
            s+=d[i]*2;
        }
    }
```
把**两份代码合并起来**就能 $AC$ 啦QwQ.

很久以前写的，码风略稚嫩~~(说的好像现在不是一样)~~。而且毕竟官方正解是DP，不知道贪心对不对，
如果有问题欢迎各位dalao来指出来$hack$啦。

### 贪心不仅能过样例，也能$AC$的QwQ.

