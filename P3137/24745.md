一道超级锻炼思维的好题。三节课就奉献给它了。。。。。。

首先， 我们把它抽象成图， 每一个节点就当成图中的一个节点。每一次奶牛移动都是顶点之间的一条连边， 对应着起点的奶牛数减一， 终点的奶牛数加一， 边的权为花费。

性质一:每个节点的入度恒为一。实际上每个节点度入度可以不是一， 但是既然题目中的能量耗费定义的是d^2, 那么强制规定每一个点的入度为一不但会方便计算， 而且也不会影响算法的正确性。

性质二:每个点的出度等于这个节点的奶牛数。

性质三:图中没有环。如果图中有环， 那么对应着图的定义， 我们可以直接把环去掉， 然后整个图的作用还是和先前一样。


算法流程:

首先， 选定一个点作为起点， 由性质三， 我们可以放心的断环为链。对于每一个出边 ，我们都贪心的找到离它最近的还没有被填起来的入边， 然后填起来。至于这样做为什么是对的， 如图:

可以证明红色的永远是比蓝色优秀的。


PS:还有一点很烦人， 就是没有办法找出起点。如果暴力枚举的话， 会带来\*N的复杂度， 很显然， 这是无法承受的。但是如果求一下最大连续字段和， 那么最大连续字段和中间一定是没有负数的， 要是有的话， 那一段就可以被切掉了， 然后求出最大连续字段和之后我们是不是就已经找到了最优顶点中的一个?
