## 题目

[Link](/problem/P7813)。

## 解法

注意数据范围：（题目已经标红）

> $1\leq \color{red}{\dfrac{K+1}{2}\leq N}\color{black}{\leq10^9}$。

这说明行走的范围在第 $n$ 与第 $n-1$ 行中。

于是行走方案就出来了：**从右下角开始走，不停以右上，左下交替的方式行走，直到走到 $K$ 步。**（即样例说明的走法**逆过来**）

根据 $K$ 的奇偶性讨论答案：

在这里设 $a=(n,n)=\dfrac{n(n+1)}{2},b=a-n$。

### $K$ 为偶数

即从 $(n,n)$ 走到 $(n-1,n-\dfrac{k}{2})$。

答案即为：

$$\sum_{i=n-\frac{k}{2}}^{n-1}(n,i)\ +\ \sum_{i=n-\frac{k}{2}+1}^{n}(n-1,j).$$

利用等差数列求和可优化为：

$$\dfrac{k(2a+2b-k+2)}{4}.$$

设此答案为 $v$。

### $K$ 为奇数

在 $v$ 的基础上多了 $(n,n-\dfrac{k}{2})$

答案即为：

$$v+n-\dfrac{k}{2}.$$