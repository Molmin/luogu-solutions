CF342A 【Xenia and Divisors】

### 题意

给你$n$个数字，分成$n/3$个三元组（$n$保证为$3$的倍数），每组形为($a,b,c$)，要求$a$整除$b$，$b$整除$c$。输出方案，顺序不限。如果无解，输出$-1$。

$n$小于$1e5$，所有数字不大于$7$。

### $SOLUTION$

首先我们开一个大小为$10$的桶来存储数字。

我们一个数字一个数字来分析。

$1$：不能 被任何数整除，可以整除任何数，显然只能放在三元组$a$的位置才行。

$2$:只能被一整除，可以整除$4,6$，只能放在第二位，因为放在第三位前面两个位子只能放一。放在第一位不管第二位放$4$还是$6$第三位都放不了。

$3$:只能被一整除，可以整除$6$，只能放在第二位。原因的话可以用上面的思路分析。

$4$:可以被$1,2$整除，不能整除其他数，只可以放在第三位。

$5$：只可以被$1$整除，不能整除其他数，是个素数，无法放入三元组。

$6$:可以被$1,2,3$整除，不能整除其他数，放在第三位。

$7$:也不能放入三元组。

那么：

| 第一位 | $1$ |
| -----------: | -----------: |
| 第二位 | $2,3$ |
| 第三位 | $4,6$ |

根据乘法原理，我们组成的三元组只可能是$(1,2,4)$或$(1,2,6)$或$(1,3,4)$或$(1,3,6)$。其中$(1,3,4)$不符题意，舍去。

那问题就变成了求如何把所有数分为上述三元组的了。

首先输入中如果含$5,7$，那肯定无解，然后一边计算，一边判断即可。

### 思路

先凑$(1,3,6)$，因为$3$的数量是固定的，只能在这个三元组里面。

然后$6$的数量也固定了，我们求$(1,2,6)$。

最后来求$(1,2,4)$。

如果第一步里面$3$的数量多于$1$或$6$的数量，无解。有解就把计数器里$1,6$的数量分别减去$3$的数量。

第二步判断$6$的数量，第三步只要看$1,2,6$的数量是否相等即可，同理。

这题就解决了。

### $CODE$

```cpp
#include<bits/stdc++.h>
#define F(i,j,r) for(int i=j;i<=r;++i)

using namespace std;
const int N=1e5+5;

#define ll long long
#define ri register int 

int cnt[10],n,x,a,b,c;

void init(){
	memset(cnt,0,sizeof(cnt));
}
void end(){
	puts("-1");
	exit(0);
}
int main(){
	scanf("%d",&n);
	init();
	F(i,1,n){
		scanf("%d",&x);
		++cnt[x];
	}
	if(cnt[5]||cnt[7])end();
	if(cnt[1]<cnt[3]||cnt[6]<cnt[3])end();
	a=cnt[3],cnt[1]-=cnt[3],cnt[6]-=cnt[3];
	if(cnt[1]<cnt[6]||cnt[2]<cnt[6])end();
	b=cnt[6],cnt[1]-=cnt[6],cnt[2]-=cnt[6];
	if(cnt[1]!=cnt[2]||cnt[2]!=cnt[4])end();
	c=cnt[1];
	F(i,1,a)puts("1 3 6");
	F(i,1,b)puts("1 2 6");
	F(i,1,c)puts("1 2 4");
    return 0;
}
```

码风丑陋，望见谅。有错误欢迎指出，谢谢！

$wtrl$。
