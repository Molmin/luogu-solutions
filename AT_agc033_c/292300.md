每次操作能让直径减 $1$ 或者减 $2$。

对应选的是否是直径的端点。

发现当直径为 $1$ 时，即只剩下两个点，那么此时操作的人必定会输。

那么先给出结论：如果直径长度减一为 $3$ 的倍数，那么后手必胜，否则先手必胜。

这是一个经典的小学奥数，就是说设先手为 $A$，后手为 $B$。

如果满足后手必胜，那么过程如下：

若 $A$ 让直径长度减 $2$，那么 $B$ 的应对就是让直径长度减 $1$。

反之若 $A$ 让直径长度减 $1$，那么 $B$ 的应对就是让直径长度减 $2$。

最后必定是 $A$ 操作的时候直径为 $1$。

否则过程如下：

若直径长度为 $3$ 的倍数，$A$ 先令直径长度减 $2$，否则令直径长度减 $1$。

这样就转化成了上面的过程。

[Code](https://atcoder.jp/contests/agc033/submissions/31279765)。