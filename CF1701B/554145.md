大家好，本蒟蒻又来写题解了~~~

[题目](https://www.luogu.com.cn/problem/CF1701B)

主要知识点是贪心。

---

### 题目大意：

#### 题目描述

对于一个数 $n$ 以及这个数的的全排列 $p$ 和一个正整数常量 $d$，定义这个全排列的价值为 $p_i\times d=p_{i+1}$ 的个数 $(1≤i<n)$。

现给定 $n$，求出价值最大的 $p$ 以及该情况下的 $d$。

#### 输入格式

第一行，一个正整数 $t$，表示数据组数。

对于每组测试数据，输入一个正整数 $n$。

#### 输出格式

对于每组测试数据，第一行输出正整数 $d$，第二行输出 $n$ 个正整数用空格隔开，表示 $p$。如果有多种答案，输出任何一个都可以。

---

### 题解

先确定 $d$。$d=2$ 情况下当然会出来更多的倍数，所以都让 $d=2$ 就可以了。

接下来全排列怎么构造呢？尽可能让后一个数都是前一个数的两倍，不难想到，我们可以选一个数，然后做这个数开头，公比为 $2$ 的等比数列，直到下一个数大于 $n$。

但是选哪个数作为开头呢？不能选偶数作为开头，因为偶数可以让一个奇数不断 $\times\text{ }2$ 得到。所以只能选奇数作为开头。而奇数是没有在之前的等比数列里出现过的，所以它 $\times\text{ }2,\times\text{ }4,\dots$ 都不会在前面的等比数列里出现过。

这样这道题就做完了，以下是 AC 代码（短的可怜）：

```cpp
#include<iostream>
using namespace std;
int main()
{
    int t;
    cin>>t;
    while(t--)
    {
        int n;
        cin>>n;
        cout<<2<<endl;
        for(int i=1;i<=n;i+=2)
            for(int j=i;j<=n;j<<=1)
                cout<<j<<" ";
        cout<<endl;
    }
    return 0;
}
```