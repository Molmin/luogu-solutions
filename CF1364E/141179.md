一种不太一样的乱搞做法：注意到限制是 $2n+173$，想象一下如果我们确定了两个位置 $i,j$ 满足 $p_i \And p_j=0$，那么我们可以在 $2n$ 的询问次数下确定每个数 $x$：$p_x=(p_x | p_i) \And (p_x | p_j)$。

那么问题是在 $173$ 次询问内找到两个位置 $i,j$ 满足 $p_i \And p_j=0$。如果随机一个数，可以以这样的方式确定这个数的值（但是可能会偏大，得到的结果是它的超集，但是这样是没关系的）：随机 $T$ 个数和他询问，然后把结果 $\And$ 起来，每次期望就能减去一半的位数，所以 $T$ 取比较小的数是没关系的。但是这样子经过程序验证正确率大概在 $99.8\%$ 左右。

然后再来个乱搞，如果直接随的话效果还是不好的话，不妨随两个数然后询问 $|$，如果 $\text{popcount}$ 比较小的话再找它，比较大的话也只会消耗一次代价，看着就比较优秀，通过调参和程序验证，大概可以得到 $99.999\%$ 左右的正确率。

[代码实现](https://codeforces.com/contest/1364/submission/193822569)。