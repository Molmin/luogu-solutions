题目描述

有 $n$ 个牛棚，每个牛棚可以容纳一头牛。现在有 $m$ 头牛需要安排，每头牛都有一个最小需求值 $a_i$ 和一个最大需求值 $b_i$。如果一头牛被安排在一个牛棚里，那么它的需求值就是这个牛棚的容量，需要满足 $a_i \leq$ 牛棚容量 $\leq b_i$。求最少需要多少个牛棚才能安排好所有的牛。

输入格式：

第一行包含两个整数 $n$ 和 $m$。

接下来 $m$ 行，每行包含两个整数 $a_i$ 和 $b_i$。

输出格式：

输出一个整数，表示最少需要多少个牛棚才能安排好所有的牛。

数据范围：

$1\leq n\leq 10^9$

$1\leq m\leq 10^5$

$1\leq a_i\leq b_i\leq n$

样例

输入样例：

10 3 

3 2 2 4 

2 1 0 1 

1 1 1 7 

输出样例：

5

解题思路

本题是一道贪心算法题目，有多种解法，这里给出两种不同的贪心思路。

思路一：基于区间贪心

我们可以将每个牛的需求范围看成一个区间 $[a_i,b_i]$，然后先将这些区间按照右端点从小到大排序，然后从前往后考虑每个区间，尽量使用已经安排好的牛棚来满足当前的需求，如果没有合适的牛棚，就新建一个牛棚。具体来说，我们可以使用一个堆来维护当前可用的牛棚，每次将右端点小于当前区间左端点的牛棚弹出，然后将当前区间安排在这些牛棚中的左端点最小的牛棚中。

时间复杂度：$O(m\log m)$

思路二：基于二分答案

我们可以将答案看成一个二分的答案 $x$，然后对于每个牛，将其需求范围 $[a_i,b_i]$ 中的所有牛棚按照容量从大到小排序，然后从前往后考虑这些牛棚，如果当前牛棚的容量 $\geq x$，就将当前牛安排在这个牛棚中，否则就考虑下一个牛棚。如果一个牛都无法安排，那么答案就一定小于等于 $x$。否则答案一定大于 $x$。

时间复杂度：$O(m\log^2 n)$