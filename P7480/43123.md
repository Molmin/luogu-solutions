### Solution 1

---

注意到每次加油的加油站的油价肯定是单调不减的。

于是我们考虑按油价给加油站排序，然后进行 DP。

令 $f_i$ 表示从 $s$ 到加油站 $i$ 的最小费用。

转移考虑枚举上一个加油站就行：
$$
f_i=\min_{j} (f_j+|x_i-x_j|\times c_j)
$$
注意到在起点左边的加油站从左边的加油站转移过来肯定不优，因为我们在达到当前加油站后就会开始加当前加油站的油，多跑的部分显然是浪费的，起点右边也是同理。

于是我们可以去掉转移中的绝对值符号，此时转移是一个关于 $x_i$ 的一次函数，可以用李超树维护。

时间复杂度 $O(n\log n)$。

&nbsp;

### Solution 2

---

每个加油站往左右第一个比油价他小的加油站连边，然后跑最短路。

时间复杂度 $O(n\log n)$。