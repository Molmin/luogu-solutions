~~本题解实属che dan，先膜一波下面的大佬为敬~~

---
这道题都说了是结论题，但有部分大佬写的有误，难为我等萌新，所以我准备来写一篇适合 ~~（你确定？）~~ 我们蒟蒻的题解。

还有：**打表是不可能的，这辈子都不可能的**

---
首先$D(x)$是个递归函数，但递归边界都是$S(x)$，其中$S(x)\in[1,9]$，所以$D(x)\in[1,9]$，我们猜想与模9一定有关系，同时在小范围内，如$[1,9]$，$[11,18]$，$D(x)$与$x$成线性关系且有$\Delta D(x)=\Delta x$，所以我们设$D$的解析式为$D(x)=(i+k)\mod 9+b$，又因为模9的同余系是$[\bar{0},\bar{8}]$，所以$b=1$，随便带一个数进去，就得到了$D$的解析式：
$$D(x)=(i-1)\mod 9+1$$

当然，如果您数感好或吊打我的，直接秒出来即可。

那我们的问题就是求$x\times\big((x-1)\mod 9-1\big)$这样的数在$[l,r]$里的出现次数。

---
设数列$a_i=i\times\big((i-1)\mod 9-1\big)$，看一眼数据范围，疯狂暗示我们找周期呀。

那好吧，我们设周期为$T$，定义如果$a$是他喜欢的数，则$a+T$也是他喜欢的数。

$a$可以表示成$x\times D(x)$

$$a+T=x\times D(x)+T$$
$$=(x+ \dfrac{T}{D(x)})\times D(x)$$
若要将$a+T$也表示$y\times D(y)$的形式，只有
$$a+T=(x+\dfrac{T}{D(x)})\times D(x+\dfrac{T}{D(x)})$$
得到
$$D(x)=D(x+\dfrac{T}{D(x)})$$
首先$\dfrac{T}{D(x)}$应该是整数吧，又因为$D(x)\in[1,9]$，所以
$$T\equiv0\pmod {lcm(1,2,...,9)}$$
$$T\equiv0\pmod {2250}$$

其次因为$D$是关于模9的函数
$$D(x)=D(x+\dfrac{T}{D(x)})$$
$$x\equiv x+\dfrac{T}{D(x)}\pmod 9$$
$$\dfrac{T}{D(x)}\equiv 0\pmod 9$$
如果$T=2250$，它仅仅只有两个3的质因子，若这时$D(x)=9$的话，$\dfrac{T}{D(x)}$将没有3的质因子，出于最坏情况的打算，$T$最小等于$2250\times 9$即$22680$

周期都有了，预处理后硬算即可。