> 给出一个字符串集合 $S_{1\sim n}$，对一个字符串 $T$，我们不断地删去一个 $S$ 中的子串然后把左右拼接直到不能操作，问是否存在某个 $T$ 使得操作方案不唯一。$n \leq 10^6, \sum |S_i| \leq 2\times 10^6, S_{i,j}\in\{A,B,C,D\}$

如果一个串可以被更小的串凑出来，我们可以把它从 $S$ 中删去。

这一步可以用 AC 自动机完成。维护一个栈表示一个前缀剩下来的部分以及每个位置对应的状态，如果某个后缀可以匹配就把这个后缀删掉（弹栈）。

然后如果存在 $S_i$ 是 $S_j$ 的子串，$S_j$ 即为所求。

假如存在两个串有公共前后缀（如 $S_1 = XY,S_2 = YZ$）且除去公共前后缀之外的部分不相同，答案是 `Yes`，如上面的例子中 $T = XYZ$ 即为所求。由于我们保证了剩下来的串没有子串关系，$X,Z$ 中较长的一个一定无法由较短的得到。

否则答案是 `No`。考虑 $S$ 内串在 $T$ 中的第一次出现的位置 $[l,r]$。假设某次操作第一次和这个区间有交，那么这次操作和删掉 $[l,r]$ 等价，所以我们总是可以把操作调整为在第一步就删掉 $[l,r]$。

复杂度 $O(\sum |S_i||\Sigma|)$。