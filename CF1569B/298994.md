# CF1569B Chess Tournamentt题解

## 题目大意

$n$ 个人进行比赛，每场比赛的结果只有输，赢，平局三种情况。

每个玩家对于比赛都有自己的期望，有以下两种类型：

1. 玩家不想输掉任何一场比赛。

2. 玩家想要赢得至少一场比赛。

判断是否存在所有比赛的结果，使得所有玩家都满足他们的期望。如果有多种可能的结果，输出任意一种即可。如果没有，输出 $\texttt{N0}$。


$2\le n \le50$

## 解题思路

第一类选手之间的比赛最好情况为平局。因为对于第一类选手来说，赢跟平局没什么区别，但不能输。若第一类选手 $A$ 赢了另一位第一类选手 $B$ ，那 $B$ 选手的期望就无法满足了。$A$ 选手若与 $B$ 选手平局，则两人的期望在这局都能实现~~可以说是皆大欢喜~~。

第一类选手与第二类选手之间的比赛最好情况为平局或第一类选手赢了第二类选手。对于第一类选手 $A$ 来说，赢了第二类选手 $B$ 跟与 $B$ 平局没什么区别（这里同上）。对于第二类选手 $B$ 来说，赢了自然好，但输了也不会立刻出局。所以 $A$ 选手不能输给 $B$ 选手，赢了 $B$ 选手跟与 $B$ 选手平局没有区别。为了方便我们当其平局。

**所以我们可以把第一类选手的所有比赛状态全部设置为平局。**

剩下的比赛就是第二类选手之间的比赛了，假设有 $m$ 个第二类选手，不难证明当 $m\le2$ 的时候无解。当 $m>3$ 的时候我们可以通过构造一个环来实现这 $m$ 个第二类选手的期望。

**所以第二类选手的数量若小于等于 2，则无解。反之可构造环来实现。**


### 例子

$S=2122$

选手 1 赢了选手 3，与选手 2 平局，输给了选手 4。

选手 2 与选手 1、3、4 都平局。

选手 3 赢了选手 4，与选手 2 平局，输给了选手 1。

选手 4 赢了选手 1，与选手 2 平局，输给了选手 3。

这便是一种合法解。