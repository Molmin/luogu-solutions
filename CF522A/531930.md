不太理解为什么题解区基本上都用的 Dijkstra/Floyd，这里写个简单点的做法。

注意题目里有一条关键性质：

对于每一条 `name1 reposted name2`，满足 `name1` 肯定是还没有转发过照片的，`name2` 这个人已经有这个照片了。

这样如果我们从 `name1` $\to$ `name2` 连边，会得到一个**内向树森林**。

这样，对于每一棵内向树，我们只需要求出其最大深度，然后对所有的内向树的最大深度取 $\max$ 就是答案。

那么怎么求内向树的最大深度？

考虑找到内向树的每个叶子，从下往上走，记录路径长度并更新答案即可。

怎么找到内向树的叶子？

根据内向树的性质，入度为 $0$ 且出度为 $1$ 的点就是叶子。

最后是字符串处理的问题：用 `map` 之类的转换一下编号即可，这里我用的 `gp_hash_table`。还有注意一下大小写的问题，可以把所有小写字母都换成大写。

然后就做完了。

时间复杂度 $O(n)$，可以通过此题。

[Code](https://codeforces.com/contest/522/submission/207563158)