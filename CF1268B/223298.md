对图黑白染色，设黑色格子数为 $s_1$，白色格子数为 $s_2$，答案为 $\min(s_1,s_2)$．

最大可能的答案显然是 $\min(s_1,s_2)$，只要证明一定存在方案能达到这个答案即可。

因为两种颜色是对称的，先假设黑色格子数大于白色个数。

如果有两个相邻的长度相同的行/列，就删去它们最右端/上端，这样可以保证每次删完仍然满足列的高度不降。

这样不断删下去，直到不能删为止的状态一定是一个阶梯状物，即每一列长度为 $m,m-1,...,1$．

然后拿走第一个黑色格子数大于白色格子数的列的最顶端的那个黑色，假装它不存在。

这样拿走之后仍然满足列的高度不降，继续删即可。

如果除去假装不存在的黑色格子，剩下的黑色格子数和白色格子数相等，那么一定能消完，因为阶梯状的矩阵黑色格子和白色格子数目不同。所以最多假装 $(s_2-s_1)$ 个黑色格子不存在，就消完了所有的格子。

所以答案为 $\min(s_1,s_2)$．