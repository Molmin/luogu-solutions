## $\text{solution}$

求原树的结构，即要求出原树上每一个点的父亲，很像一个拓扑排序的题。

考虑先找到根节点，由于每条边都是有向边，且都连上自己的后代，所以当一个点入度为零时，它一定是原树的根。

然后我们发现如果一个点 $u$ 向一个点 $v$ 连边时，$u$ 一定是 $v$ 的祖先，必定在 $v$ 之前输出，这个时候就可以进行拓扑排序了。

从根往下遍历，对于每一个点，最后一条遍历到的入边的起点为这个点的父亲，每遍历到一条边更新答案，最后输出即可。

[code](https://www.luogu.com.cn/paste/ebm48rde)