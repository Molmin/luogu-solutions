# CF1329B题解：异或性质

考虑a序列每个数**二进制下**的最高位。

可以发现每个数的最高位一定严格大于上一个数的最高位：


即大概下面这种

$d=5=(101)_2$

那么所有数可以是(下面列举了一种情况）

$$(001)_2$$
$$(010)_2$$
$$(100)_2$$


如果小于，则 $a$ 序列不递增；如果等于，则 $b$ 序列不递增。

因此可以得出，序列长度 $n$ 最多不超过 $log_2d$ ，最小为 $1$。


代码：
```cpp
#include <bits/stdc++.h>
#define ll long long
using namespace std;
ll ans;
int d,m;
int t; 
int main()
{
	scanf("%d",&t);
	while(t--)
	{
		ans=1;
		scanf("%d%d",&d,&m);
		int c=log2(d);//d最高位 
		for(int i=0;i<=30;i++)
		{
			if(i<c)
			{
				ans=(ans*((1<<i)+1))%m;
			}
			else if(i==c)
			{
				ans=ans*(d-(1<<i)+1+1)%m;//这是为了保证当前数≤d 
			}
		}
		printf("%lld\n",(ans-1+m)%m);
	}
	return 0;
	
	
} 
```

对于转移时：

1.位数小于$c=log_2(d)$的位数，对答案贡献是$2^i+1$（选的该位所有数和不选该位） 

2.这里要注意：如果$i$是$d$的最高位，则转移式里的$2^i$应改为$d−2^i+1$。这是为了保证当前数$≤d$。

3.结尾要减去$1$，因为要排除 $n=0$ 情况

4.取模$(ans-1+m) \ mod\ m $
