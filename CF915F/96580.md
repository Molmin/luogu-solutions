简单题。

$I(x,y) = \max - \min$。

然后单独计算即可。


我们考虑 $\max$ 怎么计算。

这玩意显然可以枚举当前最大值吧。

我们直接枚举一条边，定义这条边的权值是两个的较大的那个。

然后按边权排序从小到大。

从小到大加入边，然后查一下 $x,y$ 这两个连通块的大小，乘法原理即可。因为你加入这条边之后带来的贡献显然就是这俩。

$\min$ 的话就反一下，边权为两者较小，从大到小排序，从大到小加入即可。