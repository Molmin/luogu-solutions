[题目传送门](https://www.luogu.com.cn/problem/P8324)

## 题目大意：

给一个化学方程式，判断它是否配平，不需要考虑其他所有东西。

## 思路：
总体思路：分别记录记录反应物和生成物的原子个数，然后比较是否相等。

不过，本蒟蒻思路有些漏洞: 

$1$ .就是如果分子个数或者一个分子中某一个原子的个数大于等于 $10$，就会被卡掉，如果数据较强的话，大家可以用 `atoi` 这个东西来切掉。

$2$ .就是如果原子团个数大于等于 $2$ 的话，必须要加括号，然后需要依次计算。

这里给大家的是水数据的题解。


输入字符串以后，用一个 `z` 字母来记录当前分子的个数。然后，从前往后一次记录每一个原子的个数，如果一个原子后面有数字，那么这个数字就是这个原子的个数，如果没有，那么这个原子的个数就是 $1$；然后，用这个原子的个数乘本分子的个数，就是在那么多分子中这个原子的个数。当反应前反应后都按照此方法走完后，最后比较即可。

具体代码意思已经在代码中标出。

## 代码：

```cpp
#include <iostream>
#include <cstdio>
#include <cstring>
#include <stdlib.h>

using namespace std;

int x[200]/*记录反应前原子的个数*/,y[200]/*反应后的*/;
int f;//记录当前分子是反应物还是生成物，当为反应物为0，反之，为1，便于计算
string s;

int main(){
	int n;
	cin >> n;
	for(int i = 1;i <= n;i++){
		memset(x,0,sizeof(x));memset(y,0,sizeof(y));
		cin >> s;
		int z = 1;//记录当前分子的个数 
		f = 0; 
		for(int i = 0;i < s.size();i++){
			if(s[i] >= '0' and s[i] <= '9' and (!(s[i - 1] >= 'A' and s[i - 1] <= 'Z'))){
				z = int(s[i] - '0');//记录当前分子的个数
			}
			if(s[i] >= 'A' and s[i] <= 'Z'){
				if(f == 0){
					//原子个数乘分子个数为当前原子个数 
					if(s[i + 1] >= '0' and s[i + 1] <= '9'){
						x[int(s[i])] += (s[i + 1] - '0') * z;
					} 
					else x[int(s[i])] += z;
				}
				else{
					//原子个数乘分子个数为当前原子个数 
					if(s[i + 1] >= '0' and s[i + 1] <= '9'){
						y[int(s[i])] += (s[i + 1] - '0') * z;
					} 
					else y[int(s[i])] += z;
				}
			}
			if(s[i] == '+' or s[i] == '-') z = 1;
			if(s[i] == '-' and s[i + 1] == '>') f = 1,i ++;
		}
		int ooo = 1;
		for(int i = int('A');i <= int('Z');i++){
			if(x[i] != y[i]){
				cout << "NE\n";
				ooo = 0;
				break;
			}
		}
		if(ooo) cout << "DA\n";
	}
	return 0;//养成好习惯 
}
```

若有漏洞请指出，谢谢。

