这也是一个热身题（

显然建出来一棵树。我们考虑树形 DP，$dp_i$ 表示子树 $i$ 除了 $i$ 都合法的时候，$i$ 的最大储存量。转移就扫一遍儿子们，少了的就补，多了的就补上去，就这么简单。

但是这题难点不在这里，而在 DP 值可能很大很大。这时候我们要想各种解决措施。一是设一个无穷小值，超过这个值就直接判为不可能。另一个就是 `long double`，因为太大的时候不太需要精度。