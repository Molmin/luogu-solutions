## 题目描述

有 $N$ 个长度都为 $M$ 的字符串 $S_1,S_2,S_3,\dots,S_N$，保证两两不同。

问是否存在一种排列 $S_i$ 的方法使得 $\forall 1 \le i < N$，$S_i$ 和 $S_{i+1}$ 只有一个字符不同。

$2 \le N \le 8,\ 1 \le M \le 5$

## 分析

观察到 $N$ 的范围非常的小，所以考虑暴搜。

可以搜索出每一种 $1 \sim N$ 的排列，然后把这个下标 $i$ 和字符串 $S_i$ 对应起来，依次判断是否满足条件即可。

用 $f_u$ 表示当前排列中第 $u$ 位上的元素。对于每一个 $u$，首先找到一个不在排列的前面出现过的元素，以它进行下一轮的搜索。当搜索深度来到了 $n + 1$，此时所有的元素就已经全部排列完了，判断是否合法即可。

## 代码

放[这](https://www.luogu.com.cn/paste/fcq0x0r6)了。
