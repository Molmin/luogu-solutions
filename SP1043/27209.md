### 题目大意
多次查询最大字段和。

$n,m\le5\cdot10^4$

### 思路

别人都没怎么将如何合并，我来讲一下吧。

维护一颗 $sum,la,ra,ans$ 表示区间 $[l,r]$ 的和、最大前缀和、最大后缀和、最大子段和。

+ $sum$ 很好合并。

+ $la$ 可以是左区间的 $la$ ，或者左区间的 $sum$ 加右区间的 $la$。

+ $ra$ 与 $la$ 差不多

+ $ans$ 可以是左区间的 $ans$ 或右区间的 $ans$ ,或者是左区间的 $ra$ 加右区间的 $la$，就是把两个区间拼起来。

询问答案是维护一个 $Ans$ 也按照与上面差不多的规则合并，注意顺序。

时间复杂度：$\Theta(n+q\log n)$
