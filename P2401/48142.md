这道题虽然用大众方法的题解很多，但大多就是扔上去一个式子和十几行代码，没有让人真正理解。

令$dp[i][j]$表示目前加入了$i$项，数列中有$j$个$<$

容易发现，加入位置只跟前一项和后一项有关。

我们分类讨论：

当前一项$<$后一项时，不妨设前一项是$y$，后一项是$z$，插入的数是$x$。

∵$y<z,x>y,x>z$

∴当$x$插在$y$与$z$的中间时,$y<x,x>z$，故仍有一个$<$

同理，当前一项$>$后一项时，$<$会多$1$

当$x$插在最左边时$,x>y,$故$<$号不会增加

当$x$插在最右边时$,z<x,$故$<$号要加$1$

有多少种情况不要加$1?$

一共 $j$个$<$号，加上最右边的，共$j+1$个

剩下的都是要加的

$i+1-(j+1)=i-j$

所以，$dp$式子也就推出来了，

$dp[i][j]=dp[i-1][j-1]*(i-j)+dp[i-1][j]*(j+1)$



