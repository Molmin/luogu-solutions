题意：（翻译有问题，范围是 $10^8$ 而不是 $10^{18}$ ）

二维平面上有共 $n+m$ 条未知的平行于坐标轴的直线。

你每次可以询问一个平面上点，交互库将返回该点与离它最近的直线之间的距离。

你要在 $3 \times 10^5$ 次询问内确定这 $n$ 条直线。

题目保证直线 $x=a$ 或者 $y=a$ 中 $|a|<=10^{8}$，你询问的点坐标也要在  $[-10^8,10^8]$  中，其中 $n,m \leq 10^4$ 。

---

一道普通的交互题。

容易想到我们应该多询问 $(a,a)$ 这样的点，然后对于回答为 $0$ 的直接问 $(a,x)$ 和 $(x,a)$ 即可确定直线（其中 $x$ 可以为一个随机值）。

设每一次询问的点为 $(now,now)$，询问的回答为 $ans$ 。

最一开始询问 $(-10^8,-10^8)$ 然后每次都把 $pos$ 加上 $ans$ ，若加上后刚好在线上则 $pos$ 加一，易知这样不会错过任意的线，但这样的询问的最坏是 $ 2 \times 10^4  \times \sqrt{2\times 10^4} +4\times 10^4$ 左右，当数据比较均匀的时候。

考虑如何优化这个东西，在加上 $ans$ 且在直线上时，我们不直接加 $1$ 而是考虑是否能加 $k$ ，若加上 $k$ 询问的 $ans$ 还是 $k$ ，则直接加 $k$，若不是则这两条线相距的 $dis < 2\times k$，则用刚才的加 $1$ 只要差不多 $\sqrt{ 2 \times k}$ 左右询问即可。

这么算总的询问次数大约 $ 2 \times 10^4  \times \sqrt{\frac{2 \times 10^4}{2\times k}} +4\times 10^4$ 在数据随机分布下，而若每两个都相差 $2\times k -1  $ 则总次数大约是 $2 \times 10^4 \times \sqrt{ 2 \times k} +4\times 10^4 $。

经测算 $k=100$ 是最优，大概不会超过 $\rm 24w$ 次，实际最多的点大概 $\rm 22w$ 左右。但事实上许多人取的 $k=1000$ 在 cf 的数据下跑得更快，因为cf中好像没有相邻线差值为 $2000$ 左右的数据，否则理论上可以被卡掉。

---

若有错误请指正，下面是核心代码:

```cpp
while(now<=1e8){//ask表示询问
	int ans=ask(now,now);
	if (!ans){
		if (now>-1e8){//rnd是一个随机值
			if (!ask(rnd,now)) b[++m]=now;
			if (!ask(now,rnd)) a[++n]=now;
		}
		if (now+100<=1e8){
			ans=ask(now+100,now+100);
			if (ans!=100) now++;
			else now+=100;
		}
		else now++;
	}
	else now+=ans;
}
```
