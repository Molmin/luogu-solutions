```cpp

//2015-10-10 19:02
/*
洛谷1135 奇怪的电梯
本题地址： http://www.luogu.org/problem/show?pid=1135

题目描述
呵呵，有一天我做了一个梦，梦见了一种很奇怪的电梯。大楼的每一层楼都可以停电梯，而且第i层楼(1<=i<=N)上有一个数字Ki(0<=Ki<=N)。电梯只有四个按钮：开，关，上，下。上下的层数等于当前楼层上的那个数字。当然，如果不能满足要求，相应的按钮就会失灵。例如：3 3 1 2 5代表了Ki(K1=3,K2=3,……)，从一楼开始。在一楼，按“上”可以到4楼，按“下”是不起作用的，因为没有-2楼。那么，从A楼到B楼至少要按几次按钮呢？
输入输出格式
输入格式：
输入文件共有二行，第一行为三个用空格隔开的正整数，表示N,A,B(1≤N≤200, 1≤A,B≤N)，第二行为N个用空格隔开的正整数，表示Ki。

输出格式：
输出文件仅一行，即最少按键次数,若无法到达，则输出-1。

输入输出样例
输入样例#1：
LIFT.IN
5 1 5
3 3 1 2 5
输出样例#1：
LIFT.OUT
3
*/ 

/*
对我这种刚学DP的弱鸡来说还是有点难度的 
ANS[i] [j]表示从第一个人开始 传I次可以到达第j个人的方法数
因为 不管其他人怎么样 在传了i次后第j个人拿到球只有两种可能： 
1.从传了i-1次后拿到球的第i-1个人手中传递过来 2.从传了i-1次后拿到球的第i+1个人手中传递过来
这样只要把第i-1个人得到球的方法数+第i+1个人的方法数相加 就能得到i获得球的方法数
（因为i-1和i+1的每种方法都可以再花费一次传球机会（他们拿到球时原本的传球次数i-1+一次传球=i）传到第i个人手中组成新方法）
 如果还听不懂 你只需要用手在纸上模拟一下 
 对于为什么求第1个人的方法数需要把所有人的方法数都求出来啊还有DP的边界啊这类问题就懂了 
*/


#include <cstdio>
#include <iostream>
using namespace std;
int N,M,ans[50][50];
int trial(int i){ return i < 1 ? N : i > N ? 1 : i;} //将环形头尾相连 （三目运算嵌套三目运算） 
int main()
{
    scanf("%d%d",&N,&M);
    ans[1][N]=ans[1][2]=1;
    for(int i=2;i<=M;i++)//枚举传球次数 
        for(int j=1;j<=N;j++) // 更新每个人  
            ans[i][j]=ans[i-1][trial(j-1)]+ans[i-1][trial(j+1)];
    printf("%d",ans[M][1]);//ans[M][1]的含义为传从第一个人开始传球传了M次后球到第一个人手中的方案数 
    return 0;
}

//为什么这么简单的题我要写的这么详细？ 只是想给不会DP就开始接触DP的同学们一点帮助  


```