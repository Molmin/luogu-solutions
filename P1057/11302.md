本题其实挺水的。我们使用递推法，当小蛮（1号）手中持有球时，则他传一次球能够到达的同学为2号和n号；反之，当小蛮在传一次球后要拿到球时，则传给他球的也只能是第2号和第n号同学。于是我们设f(i,k)表示经过k次传到编号为i的人手中的方案数。那么可以推出下面的方程：f(i,k)=f(i-1,k-1)+f(i+1,k-1) （i=1或n时，需单独处理）初始条件：f(1,0)=1；结果就是f(1,m)。

var f:array[0..30,0..30]of longint;//低级错误-[1..30,1..30]千万不能犯

```cpp
n,m,i,k:longint;
begin
readln(n,m);
f[1,0]:=1;//初始条件
for k:=1 to m do//传球次数
    for i:=1 to n do//传到第i个人
        if i=1 then f[i,k]:=f[n,k-1]+f[i+1,k-1]
            else if i=n then f[i,k]:=f[i-1,k-1]+f[1,k-1]//超界处理
                else f[i,k]:=f[i-1,k-1]+f[i+1,k-1];
write(f[1,m]);//答案在f[1,m]里
end.
```