> 在太阳西斜的这个世界里，置身天上之森。等这场战争结束之后，不归之人与望眼欲穿的众人， 人人本着正义之名，长存不灭的过去、逐渐消逝的未来。我回来了，纵使日薄西山，即便看不到未来，此时此刻的光辉，盼君勿忘。  
——世界上最幸福的女孩  
——末日时在做什么?有没有空?可以来拯救吗?

看到了题下大雨。

---

又是一个不卡常的Ynoi题。

前置芝士：PR，莫队

记$d(n)$表示$n$的因子个数

首先，设$a_i=\prod_{j=1}^{k}p_{j}^{\alpha_{i,j}}$，则有

$$d(\prod_{i=l}^{r}a_i)=\prod_{i=1}^{k}(1+\sum_{j=l}^{r}\alpha_{j,i})$$

因此，我们可以PR预处理$\alpha$，然后算列前缀和，复杂度$O(n\sqrt[4]{10^9}+\pi(10^9)m)$，其中$\pi(n)$表示$\le n$的质数个数。

或者，我们注意到$a_i$的素因子个数其实不超过10个，因此我们也可以用PR分解，然后莫队维护区间的质因数，这样总复杂度$O(10n\sqrt n+n\sqrt[4]{10^9})$，虽然看起来没问题其实会T飞。

那正解是什么呢？我们注意到这两种做法各有优劣，于是我们可以将1000以内的质数取出来用第一种方法，别的用第二种方法。

由于对每个$a_i$，大于1000的质因数至多2个，因此常数会小不少。

复杂度$O(1000+n\sqrt[4]{10^9}+n\pi(1000)+2n\sqrt n)$。

由于一点也不卡常，所以代码就不放了。