别看题目这么复杂，其实还是很简单的。

先画几个图找规律

![](https://s3.bmp.ovh/imgs/2022/08/20/9a1b19798f35b733.png)

一个点显然不能和自己相连，相邻的两个点也是不能连的。

所以一个点会射出 $n-3$ 条线，但是情况有些复杂，射出的线会在遇到其他线时停止。

再仔细观察图，可以发现第 $1$ 个顶点射出的线（即图中的红线）是不会有阻碍的。

而其他的顶点射出的线则会被第 $1$ 个顶点射出的线全部阻碍。

并且已经被 $1$ 连接过的点（即第 $3,4,\cdots,n
-2$ 个顶点）只会射出 $n-4$ 条边。

所以答案应为这几个数的和，即

$(n-3)\times 3 + (n-4) \times (n-3)+1$

利用小学就学过的公式可以化简为

$n\times 3-9 + n^{2}-7\times n+13$

$=(n-2)^{2}$

所以代码也很好写，python如下


```python
a=int(input())
print((a-2)*(a-2))
```
C++如下
```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
    int n;
    cin>>n;
    cout<<(n-2)*(n-2)<<endl;
    return 0;
}
```


