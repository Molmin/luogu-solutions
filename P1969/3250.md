我先强烈鄙视一下楼上那位抄别人题解的 素质在哪

还有你们俩那个不再赘述是什么情况？！帮助别人得有点诚意啊···

以下题解鄙人手写 如果你搜到其他地方有 要么是鄙人博客（CSDN西家家）要么就是盗文了

[hr  ]
解这道题目是听了vijos公开课上玉凤前辈提供的思路


题目意思如果画出图来是这样：


[ pic=1414]

而我们要做的是对区间进行逐层搭建 换一种方式理解 就是对这个大厦的每一连续层进行逐层移除


首先想到的肯定是贪心 很朴素 每次去掉每个区间中最小的一个消去再统计即可


正如这张图：



[ pic=1415]

这里不再赘述 还是说一下递归的简单做法吧


我们可以这样想 第一座楼房是两层，那么至少要移除两层，接下来是第二座楼房，由于它比第一座楼层高，第一座楼的两层移除时，它的下面两层也已经被移走了，只需要再移走最上面的一层，即与前一座楼的差值即可；第三座楼也是这样；而这时出现了第四座楼，它比第三座楼矮，这就是说，在移走前面的几层后，这个地方已经是空的了。第四座楼有一层，也就是说，第一层移走后，这里就是空白，将大厦分为两个区间（如第二张图，去除最下面黄色的一层）。因此，这座楼右面的区间和左边区间从第一层（也就是这座楼的层数）开始就不在一个系统，需要单独操作，相当于一座独立的大厦。所以我们在这时候将当前楼层更新成这座矮楼，之后的操作和之前一样。


简化成递推方程就是：


开始now=ans=第一座楼高度


从左往右扫描


如果 下一座楼高于now 则ans+=下一座楼和这座楼的高度差


否则 不作处理


更新now的值为下一座楼



放代码咯~

```cpp

#include<cstdio>  
using namespace std;  
 //by 雨竹 
const int maxn=100000+10;  
int a[maxn];  
  
int main(){  
    int n;  
    scanf("%d",&n);  
    for (int i=0;i<n;i++) scanf("%d",&a[i]);  
    int now=a[0],ans=a[0];  
    for(int i=1;i<n;i++){  
        if (a[i]>now) ans+=(a[i]-now);  
        now=a[i];  
    }  
    printf("%d",ans);  
    return 0;  
}  

```

第一次用Ubb 希望能用
