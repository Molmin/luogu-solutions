考虑什么时候 $s_{l\sim r}$ 是 $T$ 的子串，统计出 $T$ 中字符的出现次数和 $s_{l\sim r}$ 中字符的出现次数和其中最小的字符 $c_1$ 和最大的字符 $c_2$，显然可以发现当且仅当 $s_{l\sim r}$ 中 $c_1,c_2$ 出现的次数小于等于 $T$ 中出现次数、$s_{l\sim r}$ 中 $c_1+1\sim c_2-1$ 出现次数等于 $T$ 中出现次数、$s_{l\sim r}$ 递增时 $s_{l\sim r}$ 是 $T$ 的子串，线段树维护即可，时间复杂度 $O(|\Sigma|n\log n)$。