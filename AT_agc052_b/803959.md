[题目链接](https://atcoder.jp/contests/agc052/tasks/agc052_b)

有趣的思维题。

考虑如何将题目所述操作转换，发现异或完后大部分点对间的距离没变，可以从这个角度考虑。

设一个点的点权为从根到该点的边权异或和，发现一次对边的操作即为交换边两端点的点权。

但当交换含有根结点的边时会出 bug，问题在于根节点没有父边，无法消去操作对部分点对的影响。

考虑建一个虚点当根，与原根结点连一条边权任意的边，由于虚边不会被操作，于是不会出现上述 bug。

为了方便，我们将虚边边权设为 $0$，

发现交换可以使任意结点的权值到任意位置，唯一难确定的为最终虚边的权值，最终每个点的权值即为从 $1$ 到该结点的 $w_{i,2}$ 异或和异或上虚边权值，前者可以预处理。

问题等价于：给定两个数组 $a,b$，求是否存在一个数 $x$ 使得 $a$ 中每个元素异或上 $x$ 后重排可以得到 $b$。

发现 $n$ 为奇数，那么 $x$ 满足条件的必要条件是 
$$(\bigoplus\limits_{i=1}^n a_i)\oplus x=\bigoplus b_i$$

这样的 $x$ 唯一，只需求出后判定是否符合条件即可。