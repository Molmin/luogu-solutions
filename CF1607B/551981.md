# 题目分析

## 1. 找到规律

如果 $x_0=0$ ，那么蟋蟀处在的位置分别为 $0,-1,1,4,0,-5,1,8,0,\dots$ 。

如果 $x_0=1$ ，那么蟋蟀处在的位置分别为 $1,2,0,-3,1,6,0,-7,1,\dots$ 。

如果 $x_0=2$ ，那么蟋蟀处在的位置分别为 $2,1,3,6,2,-3,3,10,2,\dots$ 。

我们发现，在执行完 $4$ 的倍数次操作时，蟋蟀会返回到 $x_0$ 。

## 2. 证明

设现在的坐标为 $x$ ，现在在执行完第 $a$ 且 $4|a$ 。

若 $x$ 为奇数，则四步之后，蟋蟀在位置在 $x+(a+1)-(a+2)-(a+3)+(a+4)$ （根据数的奇偶性就可推出），简化过后这一长串式子变为 $x$ 。

若 $x$ 为偶数，则四步时候，蟋蟀的位置在 $x-(a+1)+(a+2)+(a+3)-(a+4)$ （根据数的奇偶性又可推出），简化过后这一长串式子又变为 $x$ 。

$x$ 要么是奇数，要么是偶数，所以找到的规律成立。

## 3. 实现

只需要考虑第 $4\times\lfloor \frac{n}{4}\rfloor$ 步到第 $n$ 步就行了。贴一段C++的代码吧。（我写的，只供参考）

# 代码

```c++
#include <iostream>
using namespace std;
int t;
long long x0, n, res;
void solve() {
	cin >> x0 >> n;
	res = x0;
	for (long long i = n / 4LL * 4LL + 1; i <= n; i++) {
		if (res % 2) res += i;
		else res -= i;
	}
	cout << res << endl;
}
int main() {
	cin >> t;
	while (t--) solve();
	return 0;
}
```