因为是单点查询与区间修改

我们可以考虑差分，结果既是前缀和

修改的时候改 l 和 r+1 两个点。

l产生影响，r+1消除影响

用树状数组或线段树维护。

其实也可以不差分，直接分块的qwq

当然你也可以线段树，就有点像usaco的一道题，维护lazy标记

然后不断下穿即可

注意操作是异或1不是清零

代码有点丑，不给了！（放我一码吧ths）