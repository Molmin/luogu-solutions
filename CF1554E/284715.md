## Description
翻译已经给的很清楚了。。

如果题意有不清楚的，[出门左转](https://www.luogu.com.cn/problem/CF1554E)。
## solution
这题是个性质题，需要我们静下心来慢慢推。~~慢慢玩数据~~ 。
#### 性质一：所有 $a_i$ 的和为 $n-1$ 。
这挺容易理解，相当于每次删掉一个点和与其相连的边，边数即为 $a_i$ ，总共 $n-1$ 条边，所以 $a_i$ 的和为 $n-1$。

先放这儿，过会儿用。
#### 性质二：叶子节点所造成的 $a_i$ 值为0或1
叶子节点至于父节点相连，度数为1，删在父节点之前则 $a_i=1 $，删在父节点之后则 $a_i=0$ 。
然而，只要所有的 $a_i$ 里存在一个1，那么 $gcd(a_1...a_n)=1$，所有 $a_i$ 的值一定是 $gcd(a_1...a_n)$ 的倍数，这就引导我们先求 $k=2~n$ 的请况，最后总请况减去其他的答案就是 $k=1$ 的答案。
#### 性质二推广：所有点的 $a_i$ 一定只有两种情况
对于只有叶子儿子的节点，那么它的 $a_i$ 值已经确定为0，所以这个节点能决定的边只有与它父亲相连的那条边是否作为它的 $a_i$ 的贡献，所以它的两种 $a_i$ 相差1。其实，对于所有点，它儿子的情况都会被确定，所以每一个点都是有两种选择。

#### 性质二再推广：对于 $k=2...n$ ,答案只可能为0或1
对于每一个 $k$，我们要保证每一个 $a_i$ 一定是 $k$ 的倍数，那么大体的思路就出来了，枚举 $k$ ，然后深搜，从叶子节点向父亲递归，每一次保证 $a_i$ 为$k$的倍数，因为每一次 $a_i$ 的两种决策只会相差1，所以不会同时为 $k$ 的倍数。每个点的合法情况至多一种，总情况也至多一种。如果都不是 $k$ 的倍数，那么退出，$k$ 在此时肯定不成立。如果搜索结束所有的 $a_i$ 都是 $k$ 的倍数，那么这就是一种且是唯一一种合法的情况。
#### 性质三：合法的 $k$ 一定是 $n-1$ 的约数
敲黑板敲黑板，这直接影响到你是AC还是TLE 。

其实挺好证，由性质一我们得到所有 $a_i$ 的和为 $n-1$ ，而要使当前 $k$ 合法，$a_i$ 一定是 $k$ 的倍数，所以合法的 $k$ 一定是 $n-1$ 的约数。我们只要枚举 $n-1$ 的约数就可以了。

当然，机房大佬好像说只要枚举质因数就可以了，可惜本蒟蒻不会证。。但是枚举
约数当然也不会T。如果有大佬能证明的欢迎私信或留言qwq。
#### 性质四：所有情况有 $2^{n-1}$ 个
由性质一推一下，每条边可以算在它所连接的两个点的任意一个点的 $a_i$ 贡献，共 $n-1$ 条边，所以$2^{n-1}$种情况。
### 思路总结
1.枚举 $n-1$ 的约数（质因数？）$k$ ，然后dfs，从叶子节点向上递归，判是否有合法的 $a_i$ 值，如果没有，立刻退出, $ans_k=0$，如果搜完了， $ans_k=1$ 。

2.总情况 $2^{n-1}$ 个,减去$ans_2...ans_n$ 得到 $ans_1$ 。

3.呃，没了，输出吧。

## code
[出门右转](https://codeforces.com/contest/1554/submission/134049653)