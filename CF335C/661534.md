### 前言：

翻译与题解同时交的，不知道哪个先过。

这题是一个博弈问题，显然啊，```WIN```和```LOSE```。

ps：[博客](https://www.luogu.com.cn/blog/661534/)，[题目](https://www.luogu.com.cn/problem/CF335C)。

### 思路：

一个很显然的 $sg$ 博弈问题。

我们设 $f[len][x][y]$ 表示有一个长度为 $len$ 的矩形，它的 $len\times2$ 个小正方形都在，最左边的一个小正方形只能按照 $x$ 的方式剪掉，最右边的一个小正方形只能按照 $ y$ 的方式剪掉，其中：$x=1$ 或者 $y=1$ 表示剪掉的是第一排的矩形，$x=2$ 或者 $y=2$ 表示剪掉的是第二排的矩形，$x=0$ 或者 $y=0$ 表示没有限制，即：可以剪掉第一排的也可以剪掉第二排的。

那么，当 $len=0$ 的时候，必然有 $f[0][x][y]=0$，其中 $0\le x\le 2, 0\le y\le 2$。

当 $len=1$ 的时候，必然有 $f[1][1][2]=f[1][2][1]=0$， $f[1][1][1]=f[1][2][2]=f[1][0][x]=f[1][x][0]=1$，其中  $0\le x\le 2$。

根据状态的定义，当前状态的下一个子状态也很好确定，先记忆化搜索将 $f$ 函数暴力出来。

然后，根据输入的矩形，将举行分解成若干个子矩形，每个子矩形都应该尽量大，这样，每个子矩形必然属于上面提到的的一个状态之一。

现在的游戏就变成了很多个游戏的和了，求出这些子游戏的 $sg$ 值的异或和 $sum$，如果 $sum\neq	0$，先手必胜，否则先手必败。

**思路应该讲的很清楚，代码就不放了。**