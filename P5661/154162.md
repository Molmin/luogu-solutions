## 普及组T2
我现在心情很不好，比赛的时候我忘记优化了，结果自测时一堆测试点TLE了，，，

然而我刚刚重新打了一遍程序，优化了一下，然后就AC了。。。

好气哦。。。
算了，我还是含着眼泪把这篇题解写完吧。

这题只要把优惠券记录出来，然后搜索就解决啦！

#### 当然这需要一些个优化，千万不要像我一样。。。。

------------
```cpp
#include<iostream>
#include<cstdio>
#include<cmath>
#include<algorithm>
#include<cstring>
using namespace std;
int main()
{
	int n,sum=0,k=0,v=0;               //sum，k和v不要忘记初始化为0 
	cin>>n;
	const int nn=n;
	int a[nn][3],b[nn][3];            //a用来存储乘车记录，b用来存储优惠券 
	for(int i=0;i<n;i++)
	{
		cin>>a[i][0]>>a[i][1]>>a[i][2];         //输入 
	}
	for(int i=0;i<n;i++)
	{
		if(a[i][0]==0)                   //如果是地铁 
		{
			sum+=a[i][1];               //加上价格 
			b[k][0]=a[i][1];            //价格 
			b[k][1]=a[i][2];            //乘车时间 
			b[k][2]=0;                  //是否使用过（0代表没用过，1代表用过） 
			k++;                        //k用来存储 优惠券的张数 
		}
		if(a[i][0]==1)
		{
			bool pp=0;
			for(int j=v;j<k;j++)
			{
				if(a[i][2]-b[j][1]>45)         //只要已经超过时间，优惠券的搜索起始位置+1 
				{
					v++;                       //这就是我刚刚说的优化，可以减少很多次循环 
				}
				if((a[i][2]-b[j][1]<=45)&&(a[i][1]<=b[j][0])&&(b[j][2]==0))     //如果满足条件（见题干），此次乘车免费 
				{
					b[j][2]=1;                           //将此张优惠券标记为用过 
					pp=1;                                //记录符合条件 
					break;
				}
			}
			if(pp==0)                          //如不符合条件，不能免费 
			{
				sum+=a[i][1];                  //加上价格 
			} 
		}
	}
	cout<<sum;                           //输出 
	return 0;                              //不要忘记 
} 
```

------------
更多精彩题解请见[我的博客](https://www.luogu.org/blog/jvruo--0/)