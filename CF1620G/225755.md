考虑把集合用二进制数的方法表示。

设 $S[x]$ 表示现在集合在二进制表示下为 $x$，该集合中所有字符串的子序列的交集元素个数。

因为给定的字符串中字符串是排好序了的，所以这个是好求的，我们设集合 $x$ 中所有字符串某个字符 $c$ 出现次数的最小值是 $minn_c$，那么 $S[x]=\prod_{c\in[a,z]}(minn_c+1)$。

然后题目要求的 $f(x)$ 是表示在集合在二进制表示下为 $x$，该集合中所有字符串的子序列的并集元素个数。

对于这种交集转化为并集，我们可以考虑容斥原理，即
$$
f(x)=\sum_{y\subseteq x}(-1)^{size(x)-1}S[x]
$$

就是对于加上所有集合大小为奇数的 $S[x]$，同时减去所有集合大小为偶数的 $S[x]$。

我们可以分别对集合大小为奇数和偶数的 $S[x]$ 做高维前缀和，然后就可以 $O(1)$ 计算每个 $f(x)$ 了。

时间复杂度为 $O(n\cdot 2^n)$。

[参考代码](https://www.luogu.com.cn/paste/gp2ljbu0)