题意是求 $1\sim n$ 范围内存在平方因子数的个数， 由于允许 $\pm 20000$ 的误差，可以用概率来近似估计。

考虑问题的反面，即求不含平方因子数的概率（密度）。

很显然选出来的数，不能是 $2^2,3^2,5^2,\cdots,p_k^2$ 的倍数，而一个数不是 $p^2$ 的概率为 $1-\frac{1}{p^2}$，所以不含平方因子数的概率为 $\prod\limits_{p}1-p^{-2} $。

由欧拉乘积公式 $\sum\limits_n n^{-s}=\prod\limits_p\left(1-p^{-s}\right)^{-1}$，  可以得到概率为  $\frac{1}{\sum\limits_{i=1}^{\infty}\frac{1}{i^2}}$。

分母是全体自然数的平方倒数和，等于 $\frac{\pi^2}{6}$，证明这里空间太小写不下，可以参考 [【官方双语】巴塞尔问题：著名公式背后的惊人几何学](https://www.bilibili.com/video/BV1BW411x7DY)。

所以最终答案近似于 $n(1-\frac{6}{\pi^2})$ ，此处省略误差分析（~~把范围内所有数都算一遍就可以证明~~）。

补充下：$\frac{6}{\pi^2}$ 不仅是不含平方因子数的概率，也是任选两个自然数互质的概率。

再补充下：C++20 开始就可以不用`acos(-1)`来算 $\pi$ 了，直接用`std::numbers::pi`。



