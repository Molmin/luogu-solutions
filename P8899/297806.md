- [摘自此](https://www.luogu.com.cn/blog/261213wrh/usaco-2022-dec-bronze-ti-xie)

------------

首先需要发现三个性质：

- 如果一组提问能能使任意多个输入输出其正确输出，那率先完成这组提问显然不劣。

- 这样的提问一定是满足：所有当前未输出的输入这一位相同，并且它们的正确输出相同。

- 如果不存在以上提问，那接下来的提问将没有意义。

以上三点自证不难，请读者自行思考。

于是这道题思路就明确了，首先判断当前是否存在有效提问，有就一直提问下去，最后判断剩余的输入正确输出是否相同即可。考虑到每次有效提问至少减少一个输入，每次寻找有效提问时间复杂度为 $nm$，所以总时间复杂度为 $O(n^2m)$。

[代码](https://www.luogu.com.cn/paste/ncku491o)