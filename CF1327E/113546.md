对于每个 $i$ 讨论一下。

连续 $i$ 个数可能出现的位置可以分为：边界和中间。

边界即以 $1$ 开头或者以 $n$ 结尾的段。

以 $1$ 开头为例，那么 $1\ldots i$ 这些位置上的数都是一样的，有 $10$ 种方案，而 $i+1$ 位置上的数不能与 $i$ 相同（题目中说的区间有极长性），有 $9$ 种方案，$i+2\ldots n$ 位置上的数都随意填，所以有 $10\times 9\times 10^{n-i-1}$。

以 $n$ 结尾的方案是一模一样的。

再考虑中间的段，即不以 $1$ 和 $n$ 开头或结尾的连续 $i$ 个位置，不难发现有 $n-i-1$ 种位置。

对于每种位置，连续的这一段都是 $10$ 种方案，而这一段两侧的两个位置都不能与这一段相同，所以分别有 $9$ 种方案，别的位置任意，所以方案数为 $810\times 10^{n-i-2}$。

总的方案数也就是：

$$180\times 10^{n-i-1}+(n-i-1)\times 810\times 10^{n-i-2}$$

不放代码了。