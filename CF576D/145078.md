题意：

一张$n$个点，$m$条边的有向图，每条边有一个权值$d_i$，一条边只有在走过的边数不小于$d_i$时才能被经过，求从$1$到$n$的最小步数。

这个题一眼就很矩阵快速幂。

我们将边按$d_i$排序，开临接矩阵，按大小遍历每条边；

把遍历到的边加入邻接矩阵。

运用一个结论:

对邻接矩阵$X$，$X^ki,j$表示是否能从$i$经过$k$步到$j$。

直接矩阵快速幂即可。

```cpp
for(int i = 1; i < m; i++) {
	T[e[i].u][e[i].v] = 1;//加入一条边
		for(int j = 1; j < n + 2 && ans < e[i + 1].w; j++ , ans++){
			tim(x , T);
			if(x[1][n] == 1) {
				cout << ans + 1;
				return 0;
			}
		}//对前n步暴力乘
		for(int j = 1 ; j <= n; j++)
			y[j] = T[j];
		qpow(y , e[i + 1].w - ans);
		tim(x , y);
		now = e[i + 1].w;
	}
```
