显然这题只要判断是否有 $1$ 即可。

因为 $k\le n$，最优的方案应该是尽可能先取相邻两个数最小值，直到剩下 $k$ 个数时取最大值。

所以我们只要在 $a$ 中留下一个 $1$，剩下的 $1$ 或 $0$ 全消去即可。这道题就演变成了 $a$ 中有没有 $1$，$k$ 明显与答案无关。

代码过于简单，故不予显示。