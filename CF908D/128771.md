最大的坑点：
**翻译有误**

要求的是 形如 "ab" 的子序列的个数的期望，而不是串长的期望。（我就死活推不出来，也看不懂题解显然得出的式子。。。

我们发现初始状态确定，但是终止状态是很多的（ $\infty$ ），因此考虑逆序求期望。

在前缀已经有了 $i$ 个 $a$，构成了 $j$ 组 "ab" 的情况下，如果 $i,j \geq k$ ，这个状态的后继情况能是显然的：要么选了 $a$ ，然后继续抉择，要么选 $b$ ，就此停止。多选一个 $a$，就意味着最后的 "ab" 串又多了一个。
那么得出无限和式
$$
f[i][j]=\sum_{k=0}^{\infty}P_b\cdot P_a^k\cdot(i+k+j)
$$
括号里的部分可以这样理解：一直到选 $b$，前面一共有 $i+k$ 个 $a$ ，新构成 $i+k$ 组 "ab"，再加上已有的 $j$ 个。通过数学方法可以推出闭合表达式。


当 $i+j<k$ ，就有两个后继状态 选a： $f[i+1][j]$  选b：$f[i][j+i]$，那么加权平均：
$$
f[i][j] = P_af[i+1][j]+P_bf[i][j+i]
$$
倒序转移方程得到。
初始状态是$f[0][0]$。但是特殊的，我们发现状态00：
$$
f[0][0]=P_af[1][0]+P_bf[0][0]
$$
不能直接转移。移项发现 $f[1][0]=f[0][0]$。故答案转化为 $f[1][0]$。

// update 2020-10-20 感谢大佬提醒，修复了一处错误