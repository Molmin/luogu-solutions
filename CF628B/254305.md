## [题目传送门](https://www.luogu.com.cn/problem/CF628B)
## 题意简述：
给定一个只包含数字的字符串 $S$，请计算有多少个子串能够被 $4$ 整除，对于一个子串允许有前导 $0$。

## $\texttt{SOLUTION}$
首先，我们要明白什么样的数能被 $4$ 整除。

小学奥数告诉我们，末两位能被 $4$ 整除的数一定能被 $4$ 整除。

这是为什么呢？

让我来简要证明一下：

>我们设一个数为 $100a+b$ ，则 $b$ 就是这个数的末两位。

>所以 $4|b$。

>又因为 $4|100$。

>所以 $4|(100a+b)$

>即这个数能被 $4$ 整除。

有了这个结论，这道题就非常 $\texttt{naive}$ 了，如果一个字符串以一个能被 $4$ 整除的两位数结尾，那么它也一定能被 $4$ 整除。

所以我们只要看当前的最后两个字符即可。

如果当前的最后两个字符可以被 $4$ 整除，那么以它为结尾的子串都可以被 $4$ 整除（当然自己也以自己结尾）。

于是答案就可以加上这两个字符之前的字符个数$+1$。

不过还有个小细节。上面所计算的子串的长度都是 $>=2$ 的，而 $0,4,8$ 这三个长度为 $1$ 的子串也可以被 $4$ 整除。

这里需要特判。

然后就 $\texttt{AC}$ 啦

时间复杂度 $\mathcal{O}(n)$ （$n$ 为字符串长度）

$\texttt{AC CODE}$

```cpp
#include<bits/stdc++.h>
using namespace std;
char ch,pre;
long long ans,sum;
bool is[10][10];
int main()
{
	ch=pre=getchar(),ans=(ch=='0'||ch=='4'||ch=='8');
	for(int i=0;i<=96;i+=4) is[i/10][i%10]=1;
	while(ch>='0'&&ch<='9')
	{
		ch=getchar(),++sum;
		if(ch>'9'||ch<'0') break;
		if(is[pre-'0'][ch-'0']) ans+=sum;
		if((ch=='0')||(ch=='4')||(ch=='8')) ++ans;
		pre=ch;
	}
	printf("%lld",ans);
	return 0;
}
```

~~如果我的题解对您有帮助的话能不能点个赞呢qwq~~

