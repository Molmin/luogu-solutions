题目：[P7627 [COCI2011-2012#1] X3](https://www.luogu.com.cn/problem/P7627)

思路：

本题要求两两的异或和，打暴力是肯定不行的，只能得 $44$ 分。

首先，我们考虑一个数转成二进制后每个位的操作，我们知道异或的运算： $0$ 和 $1$ 异或得 $1$ ， $1$ 和 $1$ 或者 $0$ 和 $0$ 异或得 $0$ 。那么，怎么求多个 $0$ 和 $1$ 的两两异或和呢？

举个例子： $0$ ， $1$ ， $0$ 三个数，两两异或和应该是， $0$ 异或 $1$ 加上 $0$ 异或 $0$ 再加上 $1$ 异或 $0$ 。我们发现，每个 $0$ 和一个 $1$ 进行异或 $sum$ 就要加 $1$ ，也就是说每一个 $0$ 都会使 $sum$ 加上 $1$ 的个数（因为 $0$ 要和 $1$ 的个数个 $1$ 异或）。我们设有 $x$ 个 $1$ ，那么 $sum$ 就等于 $0$ 的个数乘 $1$ 的个数，也就是 $sum=(n-x) \times x$ 。

做法：

我们将原数组的每个元素都转换为二进制，并用一个数组记录二进制中每一位 $1$ 的个数。然后一个循环，将二进制每一位的两两异或和都算出来，再转成十进制加起来就行了。

代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
long long n,a[21]={0},sum=0;//记得开long long
int main() {
	scanf("%lld",&n);
	for(int i=1;i<=n;i++){
		long long x;
		int j=0;
		scanf("%lld",&x);
		while(x>0){//将x转成二进制，得到每一位
			if(x%2==1) a[j]++;//二进制中第j位的个数加一
			x/=2;
			j++;
		}
	}
	for(int i=0;i<=20;i++) sum+=a[i]*(n-a[i])*(1<<i);//总和加上每一位的两两异或和
	printf("%lld",sum);
	return 0;
}
```
