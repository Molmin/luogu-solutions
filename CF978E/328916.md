## CF978E 题解

时间限制 $ 1s $​​   |   空间限制 $ 256M $​​



#### 题目描述：

有一辆巴士，开始车上的人数未知，巴士会经过 $n$ 个站点，巴士最多能容纳的人数为 $w$，给出在每个站点的上下车人数，任何时刻车上的人数都应该在 $0$ 到 $w$ 之间，求出车上一开始人数的可能方案数。如果方案不存在，输出 $0$。



#### 输入格式：

第一行，包含两个整数 $n(1\le n\le 1000), w(1\le w\le 10^9)$​​，分别表示经过的站点数和最大载人数。

接下来一行包含 $n$ 个整数，$a_1, a_2, a_3,...,a_n(-10^6\le a_i\le 10^6)$，$a_i$​​ 表示在第 $i$​ 站的净上车人数。



#### 输出格式：

输出一个整数，表示车上一开始人数的可能方案数，若方案不存在，输出 $0$​。

#### 解题思路：

假设开始没有乘客，统计每一站巴士内的乘客数 $p_i$，在保证开始时的乘客数 $k$ 大于等于 $0$ 的前提下，使得 $0\le k + p_i\le w, 1\le i\le n$。统计满足条件的乘客数 $k$ 的数量，即 $k$ 满足 $0\le \min(p_1, p_2,..., p_n) + k$ 且 $\max(p_1, p_2,..., p_n) + k\le w$。由此可求出 $k$ 的最小值和最大值，即可求出总情况数 $cnt = \max(0, w - \max(p_1, p_2,..., p_n) + \min(p_1, p_2,..., p_n) + 1)$。

#### 参考代码：

不开 `long long` 见祖宗。

```c++
#include<iostream>
using namespace std;
long long p,maxp,minp;
int main()
{
    int n,w;
    cin>>n>>w;
    for(int i=1;i<=n;i++)
    {
        int a;
        cin>>a;
        p+=a;
        maxp=max(maxp,p);
        minp=min(minp,p);
    }
    cout<<max((long long)0,w-maxp+minp+1);
    return 0;
}
```

