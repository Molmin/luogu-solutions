P5249 加特林轮盘赌

题意：有 $n$ 个人围成一个圈，从编号为 $1$ 的人开始，每个人有 $p_0$ 的几率淘汰，问最后剩下编号为 $k$ 的人的概率是多少，数据范围：$1\leq k\leq n\leq 10^4$ 

发现谁先死谁后死实际上并没有啥用对吧

设 $f[n][k]$ 表示 $n$ 个人玩游戏编号为 $k$ 的人存活的概率，从两个人开始考虑

两个人的话如果第二个人存活，并且第一个人也没有淘汰，那第一个人就存活，写成表达式就是 $f[2][1]=f[2][2]\times (1-p_0)$，这是一个二元一次方程，还差一个方程，可以从概率的角度写出第二个方程 $f[2][1]+f[2][2]=1$，于是 $n=2$ 的情况就解决了

那 $n$ 再大一点，也可以套用上面的两个式子，剩下的式子是考虑 $f[n][i]$ 的存活概率，考虑转移，假设当前轮到第一个人了，如果他 $(1-p_0)$ 的概率没有死，那第二个人变成第一个人，之后的人往前移一格，$i$ 变成 $i-1$，如果他 $p_0$ 的概率死了，那人数少了一个，之后的人还是往前移一格，$i$ 变成 $i-1$，方程是 $f[n][i]=p_0\times f[n-1][i-1]+(1-p_0)\times f[n][i-1]$ 

这样我们就得到了 $n$ 个方程，要手动消元不能高斯消元，不然会T的很惨