#### 题目分析

这题给出了一些完美数的二进制和十进制，那二进制有什么用呢？我们可以找规律。

$6=3*2=(2^2-1)*(2^{2-1})$

这时，$k=2$。

因为 $6$ 的二进制是 $110$ ，所以我们可以发现，完美数的二进制是由 $k$ 个 $1$ 和 $k-1$ 个 $0$ 组成的。

比如：

1. 二进制数 $110$ 是 $2$ 个 $1$ 和 $1$ 个 $0$ 组成的，可以转换为十进制数 $6$。

2. 二进制数 $1111000$ 是 $4$ 个 $1$ 和 $3$ 个 $0$ 组成的，可以转换为十进制数 $120$。

虽然不能直接求出完美数，但是我们可以枚举 $k$，然后把 $k$ 个 $1$ 和 $k-1$ 个 $0$ 放进一个字符串里 ，再转换成十进制，这样就可以得到所有完美数。然后从大到小判断是不是 $n$ 的因数，如果是就输出。

#### 代码

```cpp
#include<bits/stdc++.h>
using namespace std;
long long n,a[100];
string st;
long long zh(string st)
{
	long long x=1,s=0;
	for(int i=st.size()-1; i>=0; i--)
	{
		s+=(st[i]-48)*x;
		x*=2;
	}
	return s;
}
int main()
{
	for(int i=1; i<=10; i++)
	{
		st="";
		for(int j=1; j<=i; j++)st+="1";
		for(int j=1; j<i; j++)st+="0";
		a[i]=zh(st);
	}
	cin>>n;
	for(int i=10; i>=1; i--)
	{
		if(n%a[i]==0)
		{
			cout<<a[i];
			return 0;
		}
	}
    return 0;
}
```
