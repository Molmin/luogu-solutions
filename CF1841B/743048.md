## 题目大意

定义一个数组是「漂亮的」当且仅当存在 $k\in[0,n-1]$，使得 $[a_{k+1},a_{k+2},\dots,a_n,a_1,a_2,\dots,a_k]$ 单调不降。

特殊的，如果 $a$ 的长度为 $0$ 或 $1$，它也是「漂亮的」。

初始时，数组 $a$ 为空。

给你 $q$ 次操作，每次给你一个数 $x$。如果把 $x$ 加到 $a$ 的末尾，$a$ 仍是「漂亮的」，就把 $x$ 加到 $a$ 的末尾，否则不加。

问每次操作能否把 $x$ 加进去。

## 题目思路

**结论：把 $a$ 首尾相连。如果不存在或只存在一对相邻的数，前面的数大于后面的，那么 $a$ 就是「漂亮的」。**

证明：

- 若不存在这样的相邻的数，则 $a$ 本身就是单调不降的，当然是「漂亮的」。

- 若只存在一对，则可以把这一对断开，前面那一段放到后面去，$a$ 就是「漂亮的」。

如果 $a$ 是「漂亮的」，现在要加一个数 $x$ 进去。设 $a$ 末尾的数为 $a_m$，则相邻的数少了 $(a_m,a_1)$，多了 $(a_m,x)$ 和 $(x,a_1)$。判断大小关系来维护前面的数大于后面的的相邻的数的个数就可以了。

```cpp
void solve()
{
	n=read(),cnt=0,lst=-1;
	for(int i=1;i<=n;i++)
	{
		a[i]=read();if(lst<0) {printf("1"),lst=i;continue;}
		int x=(a[lst]>a[i])+(a[i]>a[1])-(a[lst]>a[1]);
		if(cnt+x<=1) cnt+=x,lst=i,printf("1");
		else printf("0");
	}
	puts("");
}
```