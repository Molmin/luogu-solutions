### 题目链接
[MST + 1](https://www.luogu.com.cn/problem/AT_abc235_e)

### 思路
这里介绍两种思路:  

基本思路  

首先先求出原图的 MST (Minimum Spanning Tree);  
再考虑 $q$ 次询问，一条边能不能成为最小生成树上的新边。  
**要考虑到**：  
当增加询问的边时，它会与原树边形成一个环，此时就要考虑删去一条边，因为要求 MST ,所以要删去环上最大的一条边，就要判断询问的边是否是最大的，是则不能成为树边，否则可以, 询问之间是独立的,所以不用修改直接累加答案。询问路径上的最大边可以用 LCA + 倍增 ；  
这里就不细讲这一部分，可以对着代码理解。

很巧的方法  

可不可以在建树的的过程中就判断边可不可以成为新树边？  
答案肯定是可以。  
把 $M+Q$ 条边全部存下来，应为既有原图边又有询问的边，所以要存下序号以便判断。  
算法的重点就在 Kruskal 中 ，对 $M+Q$ 条边进行正常的 MST ，当在过程中有条询问的边时-----**编号大于 $M$**, 它在询问时可以成为树边，因为询问间独立，所以也是累加答案但不加入树中。  
两种方法的代码都粘一下。

### 代码

[方法一](https://www.luogu.com.cn/paste/2l6kbabh)

[方法二](https://www.luogu.com.cn/paste/62iqp0za)