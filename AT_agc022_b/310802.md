[洛谷传送门](https://www.luogu.com.cn/problem/AT3947)

[atcoder 传送门](https://atcoder.jp/contests/agc022/tasks/agc022_b)

## 构造好题

第一个条件：

只要先安排两个互质的数，那么后面不管怎么加都班组条件。

第二个条件：

先摆一个结论：$[\gcd(a,S-a)]=[\gcd(a,S)]$。

所以只需要满足 $\gcd(a,S)\not=1$ 就可以了。

如果我们把序列分成若干组，每一组和相同。

那么只要每一组内符合这个条件，就满足这个条件。

我们每个组内放两个数，为了考虑到第三个条件，我们钦定每一组的和为 $30000$。

第一组可以安排 $2,3,29995$。

这样后面若干组只需要第一个数被 $2,3,5$ 中任意一个数整除，并且这些数之间不重复就可以了。

如果 $n$ 是偶数，那么再补一个 $30000$ 就可以了。

可以证明能凑出的数是远远超过 $20000$ 的。

这道题构造方法很多，以上只是其中一种。

```cpp
#include<bits/stdc++.h>
using namespace std;
int n;
signed main(){
	scanf("%lld",&n);
	printf("2 3 29995 ");
	if(n%2==0)printf("30000 "),--n;
	n-=3,n/=2;
	for(int i=6;n--;){
		for(;!(i%2==0||i%3==0||i%5==0);++i);
		printf("%d %d ",i,30000-i);
		++i;
	}
}
```