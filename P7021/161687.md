简 单 题。

把问题转化成图论上的问题。

答案显然和序列顺序无关，考虑一个相邻的辅音字母点对 $a, b$，在他们中间加一条边。

考虑把这个图每个点染成两种颜色之一，那么他们的那个权值就是不同颜色之间点的边权和。

那么我们反着考虑一个边的集合怎么样可以黑白染色，显然是一个二分图。

那么问题就变成了求最大权生成二分图。

由于点数只有 $26 - 7 = 19$ 个，可以暴力枚举一组点集暴力更新答案 $O(n^2 2^n)$，也可以递推做到 $(n2^n )$。

