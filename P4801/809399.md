## P4801 饥饿的狐狸 题解

[题目传送](https://www.luogu.com.cn/problem/P4801)

看了有些题解，感觉对题目的分析和代码的解释不是很清晰，本蒟蒻详细地解释一下

~~这题是我遇到的第二道水紫~~，贪心

### **主要思路：**

题目求最大值和最小值，挨个分析就可以了。

但是要注意提前喝了一口水。

在输入的时候直接排序，方便进行比较。

然后这里有一个公式 比如说从 $1-5$ 之间 温度差就是：

$a_2-a_1+a_3-a_2+a_4-a_3+a_5-a_4$ = $a_5 - a_1$

**P1 最小值**

- 情况1：当 $w>a_n$ 时 也就是 $w$ 比所有温度都要大，这个时候从大到小吃，这里值为 $w-a_1$。

- 情况2：当 $w<a_1$ 时 也就是 $w$ 比所有温度都要小 这个时候就顺着吃就可以了，按照上面的公式这里应该求值就为 $a_n-w$。

- 情况3：$a_1<w<a_n$ 这种情况就像插入排序，把 $w$ 插入到符合它顺序的位置，这个时候值就是 $a_n-a_1$。

直接输出就可以了，记得后面带个空格。

------------

**P2 最大值**

最大值不难看出，要让差永远最大，蛇形吃。

也就是分为两种情况：

- 情况1：从 $a_1$ 开始吃，就是按照 $a_1$ - $a_n$ - $a_2$ - $a_{n-1}$ 依次类推。

- 情况2：从 $a_n$ 开始吃，就是按照上面的情况反过来吃，使绝对值最大就可以了。

最后取这两种情况的美味度的最大值。

这里为了方便每一次操作，设置一个头指针，一个尾指针。

接下来分析两种情况

- 从 $a_1$ 开始吃：这里我用 $ans1$ 变量来表示最大的绝对值。刚开始这个值肯定要设为 $w-a_1$ 的绝对值作为初始值。

  接下来使用循环遍历：如果这个**操作次数为奇数**的话，这个时候要比较**尾指针与头指针的差**和**水温度与头指针的差**。那么就是在从温度小的转入温度大的 这个时候要从温度大的转入下一个温度小的 就应该让头指针加1.
  
  如果这个**操作次数为偶数**的话，这个时候要比较**尾指针与头指针的差**和**尾指针与水温度的差**。同理，是在从温度大的转入温度小的，这个时候马上要进行的操作就是从温度小的转入温度大的，应该让尾指针减1.
  
- 从 $a_n$ 开始吃：这里我用 $ansn$ 变量来表示最大的绝对值。刚开始这个值要设为 $w-a_n$ 的绝对值。

  接下来还是循环遍历：如果这个**操作次数为奇数**的话：比较**尾指针与头指针的差**和**水温度与头指针的差**。也就是从温度大的转换成温度小的，同上面，应该让尾指针减一
  
  如果这个**操作次数为偶数的话**，比较**尾指针与头指针的差**和**尾指针与水温度的差**。这里不做说明，头指针加一。
 
   
### Code：
```cpp
#include<bits/stdc++.h>
using namespace std;

long long a[10000001];
long long n,w; 

int main(){
	cin >> n >> w;
	for(long long i=1;i<=n;i++){
		cin >> a[i];
	}
	sort(a+1,a+n+1);
	// 判断最小值 
	if(w>a[n]){
		cout << w-a[1] << " ";
	}else if(w<a[1]){
		cout << a[n]-w << " ";
	}else{
		cout << a[n]-a[1] << " ";
	}
	// 判断最大值
	// 情况1:从a1开始 
	long long max_1 = abs(a[1]-w);
	long long start=1,end=n;	 
	for(long long i=1;i<n;i++){
		if(i%2 == 1){
			max_1 += max(a[end]-a[start],abs(a[end]-w));
			start++; 
		}else{
			max_1 += max(a[end]-a[start],abs(w-a[start]));
			end--;
		}
	}
	// 情况2:从an开始
	long long max_n = abs(a[n] - w);
	start = 1;
	end = n;
	for(long long i=1;i<n;i++){
		if(i%2 == 1){
			max_n += max(a[end]-a[start],abs(w-a[start]));
			end--; 
		}else{
			max_n += max(a[end]-a[start],abs(a[end]-w));
			start++;
		}
	}
	cout << max(max_1,max_n);
	return 0;
}
```

[AC记录](https://www.luogu.com.cn/record/111789208)
