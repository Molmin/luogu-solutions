upd 2021-04-26: 更正了之前的一些笔误。

#### [原题传送门](https://www.luogu.com.cn/problem/CF399B)
### 思路
~~考试的时候打表找规律 A 的~~。

不妨把这个栈内的求得排列看成二进制下的一个数，红球代表该数位为1，蓝球则代表0。发现它的操作中类似于二进制加法中的进位：
1. 把红球取出：加1时，末尾的1全部进位，剩0；
2. 把栈顶蓝球变为红球：进位来的一个1；
3. 补蓝球：进位后的1全部变为0.

即题目所求为把原有二进制数每次加 1 ，多少次后可以得到 $(11\dots 1) _ {2}$（共 $n$ 个 1） 。


所以不妨设球数为 $n$ ，$a$ 表示栈中球原二进制下转为十进制后的数，则答案为 $(2^n-1)-a$ 。

代码就不贴了。

完结撒花~

谢谢 qwq 。