不难看出总边数为奇数时一定无解，因为一条边一定会贡献一个入度和一个出度。

一个有趣的想法是，把它扔到树上是可以做的，我们先考虑树的做法。

对于一棵树从根节点往下找，对于每个点先处理它的子树。如果儿子节点的出度为奇数则连一条儿子到父亲的边，否则连父亲到儿子的边。

这样除了根节点我们都可以处理了，而又因为总边数是偶数所以总出度为偶数，除了根节点所有点的出度也是偶数，所以保证根节点的出度是偶数。这就对应了我们开头所说的。

然后我们推广到图的情况，先随便找出一棵生成树，然后把其它边随便连上，最后按照上面方法处理即可。

证明就是往上面连边不影响处理树的方案，然后依然保证总边数为偶数。