### 思路
共三种可考虑的情况。

1. 对于 $x$ 号酒，进行一次 $1$ 操作让自己的贴上红纸，再进行一次 $2$ 操作给其它的酒贴上红纸。顺序任意，对应次数为 $2$。
    
2. 对于 $x$ 和 $y$ 号酒，若 $(x \neq y)$，则在给 $x$ 操作后给 $y$ 操作时 $x$ 号也会贴上。对应次数为 $2$。

3. 对于上述两种均不可的情况，每壶酒均进行一次 $1$ 操作，顺序任意，对应次数为 $n$。

### 代码实现
先特判（~~虽然可能没啥用~~）如果 $n=1$，则直接判断是否有对 $1$ 号酒的 $1$ 操作。

先对操作去重。统计 $2$ 操作个数，若个数 $\geq 2$，对应方案 $2$，结果为 $2$；若个数 $=1$，则判断是否符合方案 $1$，如果是，答案为 $2$，反之开个桶判断是否满足方案 $3$，若是则答案为 $n$，反之输出 $-1$。