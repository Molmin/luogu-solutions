## CF552D 题解

### 题目解法

对于这个题，需要用到有关斜率的知识。

首先拿到题目，我们发现，如果直接数三角形，会比较麻烦。但是如果判断出不合法的情况，再用总数去减去就简单了。

对于总数，很明显等于 $C_n^3$，也就是 $\frac{n(n-1)(n-2)}{6}$。

接下来，如果三个点组成不了三角形，则这三个点一定是在同一条直线上的。

判断三个点是否在同一条直线上，只需要判断它们的斜率是否相同。

不妨将点分成 $(x1,y1),(x2,y2)$ 和 $(x2,y2),(x3,y3)$ 两组分别计算斜率。如果在一条直线上，那么两组的斜率肯定相同。

根据斜率公式，可得：$\frac{y2-y1}{x2-x1}=\frac{y3-y2}{x3-x2}$。

根据小学就学过的十字相乘，得出：$(y2-y1)(x3-x2)=(y3-y2)(x2-x1)$。

然后枚举三个坐标，恭喜你，~~你又水了一道绿~~。

### AC代码


```cpp
#include<iostream>
#define int long long
using namespace std;
int x[2005],y[2005],n,ans;
signed main(){
	cin>>n;
	for(int i=1;i<=n;i++){
		cin>>x[i]>>y[i];//输入x,y坐标
	}
	ans=n*(n-1)*(n-2)/6;//理论三角形总数
	for(int i=1;i<=n-2;i++){
		for(int j=i+1;j<n;j++){
			for(int k=j+1;k<=n;k++){
				if((y[j]-y[i])*(x[k]-x[j])==(y[k]-y[j])*(x[j]-x[i])){
					ans--;//如果三点一线就减去
				}
			}
		}
	}
	cout<<ans;//输出答案
	return 0;
} 
```
时间复杂度 $O(n^3)$。

