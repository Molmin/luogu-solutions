我一年前甚至不会做/qd

发现 $a_{x_1}$ 为 $k = \min\limits_{i=1}^n a_i$ 时最优。然后开始分类讨论：

- 如果 $\min\limits_{a_i = k} a_{i+n} \le k$，答案为 $(k, \min\limits_{a_i = k} a_{i+n})$。这是因为如果再选一个 $k$ 肯定不优。
- 否则我们肯定尽可能先把 $k$ 选完。接下来讨论最后一个 $k$ 的位置直到 $n$ 还能不能再选。设 $p$ 为第一个 $a_p = k$ 的位置。
	- 每次选的数要保证 $\le a_{p+n}$ 且是当前区间内的最小值，不然不优。
   - 当当前区间内最小值 $= a_{p+n}$ 时有些特殊。如果 $a_{p+n}$ 大于它后面被选的第一个 $\ne a_{p+n}$ 的数，或者它后面不存在 $\ne a_{p+n}$ 的数，那么选了这个区间最小值也不优。

实现时使用 ST 表查询区间最小值，复杂度 $O(n \log n)$。

[code](https://atcoder.jp/contests/arc134/submissions/41155823)