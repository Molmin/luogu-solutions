### 题意

二维滑动窗口。


### Sol

严格 $O(nm)$ 做法，题解区复杂度最小，目前最优解。可以通过 $n=5000,m=5000$ 的加强数据。

因为是二维滑动窗口，所以可以拆解为两个一维滑动窗口的问题。

具体地，记每个像素点坏掉的时间是 $a_{x,y}$ （如果不会坏掉则为 $+\infty$）。

重构一个二维数组 $b$，其中 $b_{x,y}$ 表示 $\min_{i=y}^{y+k} a_{x,i}$。也即 $x,y$ 右起前 $k$ 个的最大值。

容易发现这个东西对 $a$ 的每一行做一个滑动窗口板子即可实现。

重构一个二维数组 $c$ 其中 $c_{x,y}$ 表示 $\min_{i=x}^{x+k}b_{i,y}$。

容易发现这个东西对 $b$ 的每一列做一个滑动窗口板子即可实现。

那么根据这两个数组的定义不难发现 $c_{x,y}$ 表示左上角为 $(x,y)$ 的 $k\times k$ 窗口内的最大值。

对 $c$ 数组取 min 即为所求。

### Code

显然不需要真的把 $c$ 建出来，只需要更新 $ans$ 就可以了。

代码比较简单，学过单调队列的应该都会写，就放个链接罢。

[Link](https://codeforc.es/contest/846/submission/179836876)（186ms）。

此题还有 $O(m(n\log n)+n(m\log m))$ 的优先队列解法，也放个链接。

[Link](https://codeforc.es/problemset/submission/846/179831795)（233ms）。