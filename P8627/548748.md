## P8627 题解

可以用一个 `while` 循环来维护当前可以兑换的瓶盖的数量，每次对计数器 `cal` 加上当前可以兑换的瓶盖的数量除以三的商即可。

```
#include<bits/stdc++.h>
using namespace std;
long long n,w,cal;
int main()
{
	scanf("%lld",&n);
	cal+=n;
	while(n>=3) 
		cal+=(n/3),w=n%3,n/=3,n+=w;
	return !printf("%lld",cal);
}
```

实现的时候有小细节需要注意。

定义：每做一次 `while` 循环称为一轮。

1. 不能直接将当前可以兑换的瓶盖数量除以三，需要记录当前可以兑换瓶盖数量对三的模数 $w$。因为这些瓶盖在此轮兑换当中不能用，但是可以攒到下一轮兑换中用。

2. 计数器初值为 $cal=n$，因为一开始获得的饮料数量也为一共能喝到饮料数的一部分。

3. `while` 边界条件中是 $n\geq 3$，是可以取到等的，因为当瓶盖数量为 $3$ 时还可以再兑换一瓶饮料。

4. 可以不开 `long long`，因为极大情况即 $n=9999$ 时，最后也只能喝到 $14498$ 瓶饮料。