[题目传送门](https://www.luogu.com.cn/problem/P4536)

[更好的阅读体验](https://www.luogu.com.cn/blog/t-m-j-y-h-0-9/solution-p4536)

## 分析

这是道典型的分类讨论找规律题。

第一个比较明显的规律就是：若输入的字符串的最后一个字符是 $4$，那么它一定跟同一层的 $1$、$2$、$3$ 这几个三角形接壤。

接下来分类讨论三角形的位置。

### I. 三角形在角上

![](https://cdn.luogu.com.cn/upload/pic/18501.png)

上图的 $T_{11}$、$T_{22}$、$T_{33}$ 就是在角上的三角形，可以看到它仅和同层的 $4$ 接壤。

### II. 三角形在边上

上图的 $T_{12}$ 就是在边上的三角形。

可以看出，它接壤 $2$ 个三角形，一个是同层的 $4$，还有一个是什么呢？

可以发现，在边上的三角形的编号只有 $2$ 个不同的数字，除去第一个，后面的数字是不断重复的，无论重复多少个，都**不会**影响和它接壤的 $4$，这个 $4$ 就是第一个数字编号那层的 $4$ 号三角形。

### III. 三角形在内部

及不在边上的三角形，例如 $T_{132}$。

可以看出，在内部的三角形和 $3$ 个三角形接壤，包括同层的和其他层的 $2$ 个 $4$ 号三角形。

在内部的三角形编号只有 $3$ 个不同的数字。

显然的，重复的数字是不会影响结果，所以我们可以筛掉重复的数字，然后每个数字的那层 $4$ 号三角形都会接壤。