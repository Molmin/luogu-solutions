题意：给定一个棋盘，支持下车和拿走车，以及查询一个区间是否每个格子都至少被一个车攻击到。

容易想到分行和列维护，考虑转化题意，本质上要求维护一个序列，支持单点加一减一，查询区间是否全为正整数。

简单数据结构题。直接树状数组维护区间和必然是寄的，虽然我尝试过把区间查询的加和逻辑修改再维护，但并没有调出来，我们不妨修改就直接在原先的序列上修改，树状数组维护区间正整数的个数，如果每次在序列上修改使得 $a_i\leftarrow 1$，那么树状数组该位 $+1$，如果 $a_i\leftarrow 0$，那么该位 $-1$，其他情况不需要管。

核心代码：

```
		if(opt == 1){
			gi(x);gi(y);
			fff[x][0] += 1;
			fff[y][1] += 1;
			if(fff[x][0] == 1) add(x, 1, 0);
			if(fff[y][1] == 1) add(y, 1, 1);
		}
		else if(opt == 2){
			gi(x);gi(y);
			fff[x][0] -= 1;
			fff[y][1] -= 1;
			if(fff[x][0] == 0) add(x, -1, 0);
			if(fff[y][1] == 0) add(y, -1, 1);
		}
```

查询啥的直接原来怎么查现在就怎么查。

[Submission](https://codeforces.com/contest/1679/submission/157169048)