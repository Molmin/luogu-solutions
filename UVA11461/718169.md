## UVA11461 Square Numbers（完全平方数） 题解

#### [题目传送门](https://www.luogu.com.cn/problem/UVA11461)

### 题目大意

改定两个数 $l$ 和 $r$，输出区间 $[l,r]$，中完全平方数的个数，输入以 `0 0` 结尾。

### 样例解释

#### 样例 \#1 解释

本样例共有 $2$ 组数据。

第一组数据，$l=1,r=4$，完全平方数有 `1 4`，共有 $2$ 个完全平方数。

第二组数据，$l=1,r=10$，完全平方数有 `1 4 9`，共有 $3$ 个完全平方数。

### 思路

明显不能用暴力，可以定义一个前缀和数组 $sum$，用来存储从 $1 \sim i$ 中完全平方数的个数，这样每次输出，我们只需要输出 $sum_r-sum_{l-1}$ 就行了。

$sum$ 数组应该是这样的：

| $1$ | $1$ | $1$ | $2$ | $2$ | $2$ | $2$ | $2$ | $3$ | $3$ | $3$ | $3$ | $3$| $3$ | $3$ | $4$ | $……$ |
| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |


### 代码+注释

```cpp
#include <bits/stdc++.h>
using namespace std;
int l, r;
int sum[100005];
int main(){
	ios::sync_with_stdio(false);// 关闭读写同步
	cin.tie(0);
	cout.tie(0);
	for (int i = 1, k = 1; i <= 316; i++){
		int f = i * i;
		for (int j = k; j < f; j++){
			sum[j] = i - 1;// 生成前缀和数组
		}
		k = f;
	}
	while (1){
		cin >> l >> r；
		if (l == 0 && r == 0){// 根据题意可知，当 l=0, r=0 的时候程序就可以结束了。
			return 0;
		}
		cout << sum[r] - sum[l - 1] << "\n";// 输出并换行
	}
	return 0;
}
```

### 最后
本题题解到此结束，希望大家能看懂、有思路。