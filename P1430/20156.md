题意:两个人从序列两端取数,不限制数量,问先手最多能拿到多少分

虽然是从两端取数,但是中间任意一个子区间答案是不受影响的

所以设f[i][j]为在[i,j]先手取能得到的最高分

我们可以从[i,j]中找一个点k∈[i,j],分成[i,k],[k+1,j]

A从左边取,B获得的最小值sum(i,j)-f[i][k]

A从右边取,B获得的最小值sum(i,j)-f[k+1][j]

A直接取完,A获得的最大值sum(i,j)

我们只要求出这三个的最大值就能推出f[i][j]:

f[i][j]=max{sum(i,j)-min(f[i][k],f[k+1][j])}=sum(i,j)-min{0,f[i][k],f[k+1][j]}

这个复杂度是o(n^3)的

我们发现这个决策点k是记录下最优值的

记L[i][j]=min{f[i][i],f[i][i+1],...,f[i][j-1],f[i][j]}=min{f[i][j],L[i][j-1]}

R[i][j]=min{f[i][j],f[i+1][j],...,f[j-1][j],f[j][j]}=min{f[i][j],R[i+1][j]}

然后可以得到f[i][j]=sum(i,j)-min{0,L[i][j-1],R[i+1][j]}

这样就可以o(n^2)解决这道题了,答案f[1][n]
