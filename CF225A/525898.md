这是一道考察思维的好题。

## **题目思路：**

本题问是否可能用正常的骰子摆出骰子塔，即数据中所提到的看到的骰子样子是否合法。

如果骰子有任意两个相邻的面是相同的，或任意两个相邻的面互为对面，显然，这是不合法的。

我们通过题目给出的图可以发现，最顶上的骰子给出了相邻的三个面。那么我们可以根据这个骰子推出其余的三个面。这样，最顶上的骰子就被我们全部推出来了。

同时我们也可以发现：贴在一起的两个面是相等的。由此我们可以推出：相邻的两个骰子，下面的一个的顶面和底面分别对应上面一个的底面和顶面。这样，我们就可以从上往下推出每一个骰子了。

这时，我们就可以判定已知的相邻的三个面，是否有两个面相等或互为对面。如果是，则无法用正常的骰子摆出骰子塔，直接输出 NO 并退出程序即可。

如果在判定结束后，程序没有结束，即代表骰子塔是可以用正常骰子摆出来的，输出 YES即可。

## **Code:**

```cpp
#include<cstdio>
using namespace std;
int n,dm,x,y;
int main(){
	scanf("%d%d",&n,&dm);
	for(int i=1;i<=n;i++){
		int x,y;
		scanf("%d%d",&x,&y);
		if(x==y||x+y==7||x==dm||y==dm||x==7-dm||y==7-dm){
			puts("NO");
			return 0;
		}
	}puts("YES");
	return 0;
}
```


## **反思：**

其实，通过仔细思考可以发现，判定骰子塔合法性的一行代码可以简化。比如顶面和已知的一面相等，已知的一面如果和它的相邻面相等，则它的相邻面一定与顶面相等。这样，我们的代码就可以更加简练了！