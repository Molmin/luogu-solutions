$1$ 号点自环，其它点贪心，不用多说。

讲一下为什么要从下往上贪心而从上往下是错的。

考虑这样一组数据：

```cpp
9 3
8 2
4 1 2 3 1 2 3 4
```

可以在[这里](https://csacademy.com/app/graph_editor/)生成图像查看。

从上往下贪心：
* $1$ 号点指向 $4$
* $8$ 号点距离为 $4$
* $9$ 号点距离为 $4$

答案为 $3$。

从下往上贪心：
* $1$ 号点指向 $4$
* $3$ 号点子树深度为 $2 = k - 1$

答案为 $2$。

为什么呢？

考虑一种情况，存在一条链上需要删除一条边，且删除该链上的任意一条边对于该链的答案影响都是等价的。

考虑删除一条边的贡献，可以对该边指向的（深度较低的）点子树内所有点产生影响。

那么既然这条链上必须要删除一条边，为了删除的总边数最小，应选择该边贡献最大化。

故应尽可能删除深度较低的边。