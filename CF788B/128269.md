前置：一个图中存在欧拉路，当且仅当图连通，且 n-2 个点的度数都是偶数，剩下 2 个点的度数为奇数。

图不连通直接输出 0。

每条边两边可以变为两条一样的边，原题目转化为 2m 条边删去两对边（剩 2(m-2) 条边），使得剩下的图中存在欧拉路。

所以剩下的图度数有两个点的度数为奇数。

因为删去一个自环不改变一个点的奇偶性，所以考虑以下三种情况（自环个数为 $cnt$，点 x 的度数为 $deg[x]$）：

- 两个自环（$\binom{cnt}{2}$）
- 一个自环和一条非自环边（$cnt*(m-cnt)$）
- 两条有公共点的边（$\sum_{x} {\binom{deg[x]}{2}}$）
