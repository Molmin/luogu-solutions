本题要通过将相邻的两个数加加减减，看能否将序列变为单调不降。

一般这种设计单调性以及区间加减的题目，一般可以考虑一下差分。

# 分析

我们可以构造出 $a$ 序列的差分序列 $b_1, b_2\cdots b_n, b_{n+1}$，（注意这里的 $b_{n + 1}$，是一个关键）我们发现相邻两个数同时加 $1$ 或同时减 $1$，带来的效果就是将差分序列中间隔为 $1$ 的两个数（或者可以称作下标奇偶性相同）一个加一，一个减一。

而我们的目标是要让整个差分序列 **除了 $b_1$ 和 $b_{n+1}$** 之外的数全部都不大于 $0$，因此我们可以从 $1$ 号位和 $n+1$ 号位考虑。

我个人的想法是可以把一个加 $1$ 一个减 $1$ 的操作看成一股水流，$1$ 号和 $n+1$ 号可以看成源头（可以无限从这里拿），然后向和 $1$ 奇偶性相同的位置提供数值，向和 $n+1$ 奇偶性相同的位置提供数值，直到所有数全部大于等于 $0$ 为止。

因此我们可以分析出当 $n$ 为奇数时必定有解，因为 $1$ 号位可以向所有奇数位提供数值，$n+1$ 号位可以向所有偶数位提供数值，这样全部的数就可以成为非负整数了。

当 $n$ 为偶数时，因为奇数位都可以被满足，所以只需考虑偶数位所存的数值能否使得所有偶数位都能非负。

具体考虑就是统计 $b$ 数组中所有偶数位的和，如果大于等于 $0$ 就可以满足，否则就无解。

# 样例模拟

~~我知道光看解释可能看不懂~~

$$
a: 5,4,3,2,1
$$
构造差分序列->
$$
b: 5, -1, -1, -1, -1, -1
$$
$1$ 号位减去 $15$，$3$ 号位就加上 $15$。

同理接着这样操作。
$$
b: -10, -1, 14, 8, -1, 10
$$
$$
b: -10, 3, 7, 4, 6, -10
$$

这时第 $2\sim n+1$ 位上都为非负整数，则构造单调不降序列成功。

另一个样例：
$$
a: 2, 1, 4, 3
$$
$$
b: 2, -1, 3, -1, -3
$$
$$
b: -\infty, -1, \infty, -1, -\infty
$$

可以看到第二个样例中，$b$ 序列中 $2$ 个 $-1$ 无论如何都无法变为 $2$ 个非负整数，因此无解。

# 代码

```cpp
#include <bits/stdc++.h>
using namespace std;

const int N = 1e6 + 10;
int a[N], b[N];
int T, n;

int main()
{
    scanf("%d", &T);
    while(T -- )
    {
        scanf("%d", &n);
        for(int i = 1; i <= n; i ++ )
        {
            scanf("%d", &a[i]);
            b[i] = a[i] - a[i - 1];
        }

        if(n & 1) puts("YES");
        else 
        {
            long long sum = 0;
            for(int i = 2; i <= n; i += 2 ) sum += b[i];

            if(sum >= 0) puts("YES");
            else puts("NO");
        }
    }
    return 0;
}
```