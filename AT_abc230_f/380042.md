刻画？刻画你妈刻画。

由于脑子不够用想不到题解里的刻画怎么办？我们考虑一个暴力 DP：$dp_i=\sum dp_j$。但显然这样会算重，我们考虑什么时候会算重：
```
3
-1 0 1
```
考虑这个例子，答案应该为 $3$。因为中间存在一个 $0$，把它归到前面或者后面一段得到的结果是一样的，所以我们不妨钦定将它归到前面一段，这样就不重不漏了。这里的 $0$ 实际上可以拓展到任意和为 $0$ 的段。

所以我们的 DP 转移范围即满足 $j+1\sim i-1$ 中前缀和没有与 $j$ 位置前缀和相同的 $dp_j$（即，转移区间不存在一个前缀和为 $0$）。注意需要特判从 $0$ 转移，因为 $0$ 前面没有一段，所以也要算进来。

然后上个树状数组就做完了。