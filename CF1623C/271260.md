[CF1623系列](https://www.luogu.com.cn/blog/271260/cf1623-bi-sai-ji-lu)

一眼看出是二分答案，即二分最终答案并检查在此限制条件下是否可行。但是读错题意以为可以反着来做。

对于检查函数，我们可以将一个数大于答案的部分传递给下面的数，但是因为本题要求正着传，所以说一个数传递完后还是可以接受补给，这意味着它本来还可以做贡献。于是考虑倒着枚举，看当前的数可以接受多少补给再传递。因为是先传递再补给，所以不能预支补给传递，分开讨论即可。

注意，数组很大，所以不要将整个数组清空。

时间复杂度 $\mathbin{\mathrm{O(n \log n)}}$。

[Code](https://codeforces.com/contest/1623/submission/146893519)