[题目传送门](https://www.luogu.com.cn/problem/CF1789D)

较为阴间的 $\rm Div2\ D$。

## 思路

先考虑无解的情况，只有两种：

+ $a$ 都是 $0$，$b$ 不是都是 $0$。

+ $a$ 不是都是 $0$，$b$ 都是 $0$。

发现 $a$ 在执行操作的时候会改变自身，这个比较麻烦，我们考虑能不能在操作的时候使一个前缀 $1...i$ 不改变。

这显然是可以的，我们只需要让它们都异或 $0$ 就可以了。

于是，我们先找到原串的第一个 $1$，那么我们只要每次右移的时候把这个 $1$ 移到 $i$ 之后就可以保持前缀不变。

设 $a$ 中第一个 $1$ 的位置为 $j$。

设 $b$ 中第一个 $1$ 的位置为 $k$。

当 $j \le k$ 时，我们从 $j+1$ 开始往右扫到 $n$，如果当前 $s_i \neq t_i$，那么直接把第一个 $1$ 拉到这个位置，然后异或一下，$s_i$ 就会与 $t_i$ 相等，不难发现此时的操作次数最多为 $n-j$。

发现此时只可能存在 $s_j \neq t_j$，且此时 $s_j=1,t_j=0$。现在我们需要把 $s_j$ 这个 $1$ 往左推出去，不难发现我们可以利用最后一个 $1$ 实现，此时等价于一个后缀不变，直接把那个 $1$ 往左拉到 $j$ 即可，此时操作次数最多为 $j$。


当 $j>k$ 时，我们先把 $s_k$ 设为 $1$，然后套用 $j \le k$ 的解法即可，不难发现此时操作次数最多为 $n-k+1$。

至此，这道题就被解决了，代码有一些细节。

时间复杂度 $\mathcal O(n^2)$。

## 代码

[Link](https://codeforces.com/contest/1789/submission/194968613)
