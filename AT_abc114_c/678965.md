[题目传送门。](https://www.luogu.com.cn/problem/AT4276)

## 题目思路

本题的正解楼下已经提到过了，数位 DP 或者 BFS 解决，由于没有人谈到“打表”的做法，这里就发一波。

首先确定是否为 $753$ 数，代码：

```cpp
bool cmp(int a){
    bool have_3=false,have_5=false,have_7=false,have_another=false;
    while(a){
        if(a%10==3)have_3=true;
        else if(a%10==5)have_5=true;
        else if(a%10==7)have_7=true;
        else have_another=true;
        a/=10;
    }
    return (have_3&&have_5&&have_7)&&(!have_another);
}
```

思路一，可以从 $1$ 一直枚举到 $10^9$，然后如果是 $753$ 数就把它输出。
```cpp
printf("int ans[]={");
for(int i=1;i<=1000000000;++i){
	if(cmp(i)){
        printf("%d,",i);
    }
}
```

当你欣喜若狂地复制输出的结果并提交时，肯定会出现一行字——代码过长。

所以正确的方法是分段打表。范围是 $10^9$，所以以 $10^6$ 为一段进行打表，具体地，表的第 $i$ 项表示 $1$ 到 $i\times 10^6$ 的 $753$ 数的个数，计算从 $1$ 到 $n$ 可以用表的第 $\lfloor \dfrac{n}{10^6}\rfloor$ 项与从 $\lfloor\dfrac{n}{10^6}\rfloor\times 10^6+1$ 到 $n$ 中 $753$ 数个数的和，后面的部分不超过 $10^6$，故直接暴力即可。

打表代码：

```cpp
int cnt=0;
cout<<"int ans[]={0,";
for(int i=1;i<=1000000000;++i){
     if(cmp(i))cnt++;
     if(i%1000000==0){
     	  cout<<cnt;
          if(i!=1000000000)cout<<',';
          else cout<<"};";
     }
}
```

## 代码
```cpp
#include<bits/stdc++.h>
using namespace std;
bool cmp(int a){
    bool have_3=false,have_5=false,have_7=false,have_another=false;
    while(a){
        if(a%10==3)have_3=true;
        else if(a%10==5)have_5=true;
        else if(a%10==7)have_7=true;
        else have_another=true;
        a/=10;
    }
    return (have_3&&have_5&&have_7)&&(!have_another);
}
int ans[]={0,732,732,732,1334,1334,1936,1936,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,2538,3140,3140,3805,3805,4470,4470,4470,4470,4470,4470,4470,4470,4470,4470,4470,4470,4470,4470,4470,4470,5135,5135,5737,5737,6402,6402,6402,6402,6402,6402,6402,6402,6402,6402,6402,6402,6402,6402,6402,6402,7067,7067,7732,7732,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8334,8936,8936,9601,9601,10266,10266,10266,10266,10266,10266,10266,10266,10266,10266,10266,10266,10266,10266,10266,10266,10931,10931,11596,11596,12325,12325,12325,12325,12325,12325,12325,12325,12325,12325,12325,12325,12325,12325,12325,12325,12990,12990,13719,13719,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,14384,15049,15049,15714,15714,16443,16443,16443,16443,16443,16443,16443,16443,16443,16443,16443,16443,16443,16443,16443,16443,17108,17108,17710,17710,18375,18375,18375,18375,18375,18375,18375,18375,18375,18375,18375,18375,18375,18375,18375,18375,19104,19104,19769,19769,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,20434,21099,21099,21828,21828,22493,22493,22493,22493,22493,22493,22493,22493,22493,22493,22493,22493,22493,22493,22493,22493,23222,23222,23887,23887,24552,24552,24552,24552,24552,24552,24552,24552,24552,24552,24552,24552,24552,24552,24552,24552,25217,25217,25882,25882,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484,26484};
signed main(){
    int n,cnt=0;
    cin>>n;
    cnt=ans[n/1000000];
    for(int i=n/1000000*1000000+1;i<=n;++i){
        cnt+=cmp(i);
    }
    cout<<cnt<<endl;
    return 0;
}
```

[Record.](https://www.luogu.com.cn/record/78903757)

结论：暴力出奇迹，打表拿省一。