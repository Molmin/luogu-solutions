真的后悔。

比赛时在上网课，看着 rated 就来打了。

然后发现是个 Stirling 数板子，然后从 P5395 粘了个 code。

我 naive 没时间打 $O(n)$ 的公式爆算了。

然后赛时忘记吸氧被卡常，少了 60 分。

事后吸了氧就过了。

首先我们令答案为 $f(n,k)$，看第 $n-1$ 个方格是否填数。

如果第 $n-1$ 个方格填了数，那么此时前面的方格总共填了 $k-1$ 个数，剩下有 $(n-1)-(k-1)=n-k$ 个数可以选择，贡献为 $(n-k)f(n-1,k-1)$。

否则直接前面方格填 $k$ 个数，贡献为 $f(n-1,k)$。

于是我们得到了递推式：

$$f(n,k)=(n-k) \cdot f(n-1,k-1)+f(n-1,k)$$

这样可以获得 40 分。

然后我们用 $n-k$ 代替递推式中的 $k$，得到

$$f(n,n-k)=k \cdot f(n-1,n-k)+f(n-1,n-k-1)$$

再把 $f(n,n-k)$ 改写为 $g(n,k)$，此时我们得到了

$$g(n,k)=k \cdot g(n-1,k)+g(n-1,k-1)$$

于是这是第二类 Stirling 数。

于是从 P5395 搞个公式，完了。

没了，代码不想放了，