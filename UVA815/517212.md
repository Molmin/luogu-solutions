# 题意分析

有一个 n 行 m 列的网格，每个格子是边长为 10 米的正方形，网格四周是无限高的墙壁，第 i 行第 j 列每个格子的海拔高度为 $h[i][j]$。现在网格中有 T 立方米的水，请你计算网格中的水平面的海拔高度，以及水格子数目所占的百分比。注意，在网格中，所有有水格子的水平面的海拔高度相同，所以有水格子的数量为海拔高度严格小于水平面高度的格子数目。


# 思路

看了一下题，~~首先吐槽了一下翻译~~ 首先想到了用大模拟做，~~调了半小时没调出来~~，突然发现 ~~看 了 题 解~~ 可以用二分答案做，直接开始二分水平面的海拔高度。
设 mid 为中间值，计算水的总体积（设为 Z ），Z 与 T 比较，如果 $Z \geq  T$，说明 mid 可行，下次在 $[l,mid]$ 范围二分（就是 $r = mid$ ），否则说明 mid 小了，下次在 $[mid,r]$ 范围二分（就是 $l = mid$）。

至于Z的计算，只需要扫描网格中的每个格子，若 $h[i][j]<mid$ 则该格子的水量为 $(mid-h[i][j]) \times 100$，累加所有水格子的水量即可。

# Code
做题时注意输入和输出，两组数据之间有一个换行，也就是每组数据要换两次行。
### 两个核心代码：

**理解第一**

```cpp
//二分代码
while(l <= r){
	double mid = (l+r)/2.0;
	if(find(mid)){
		l = mid+0.000001;//防误差
		ans1 = l;
	}else{
		r = mid-0.000001;
	}
}
```

```cpp
//累加的代码
bool find(double k){
	double sum=0;
	int i2=0;
	rep(i,1,n*m){
		i2 = i;
		if(a[i] < k){
			sum += (k-a[i])*100;//总体积计算
		}
		if(sum > t) break;
	}
	if(i2<n*m || sum>t) return false;
	return true;
}
```
祝君AC


