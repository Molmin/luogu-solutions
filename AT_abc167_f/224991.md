草这题不是那个 ICPC WF 的阳光普照 H 题吗，不过这种题撞了也比较正常。

考虑删掉原括号序列中的所有匹配的括号对，之后每个括号序列就都形如 `)))...))((...(((` 的形式，即前半部分全为右括号，后半部分全为左括号。某个部分可能为空，即全为左括号或全为右括号。记右括号数量为 $r$，左括号数量为 $l$。

考虑构造一个合法的方案。发现括号序列共有两种：

- $r \le l$。

按 $r$ 从小到大放置。$r$ 个右括号相当于要求放置前的数列的左括号数量 $-$ 右括号数量 $\ge r$，不难发现这个差值是单调不减的，于是这个贪心是正确的。

- $r \gt l$。

考虑将串翻转，发现本质上与上面的情况相同，于是按 $l$ 从大到小放置即可。