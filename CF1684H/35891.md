题意：

给定 $01$ 串，你需要切分成若干个串，满足每个子串和为二的幂次。

$n \leqslant 10^6$

---

巨大讨论题。

虽然我也不懂这种模拟赛风格题为什么会出现在 cf 上。

**结论：对于任意的存在 $1$ 的串都存在一种切分方案使得合法。**

设序列内有 $k$ 个 $1$，我们现在想凑出 $s_k=2^{\lceil \log_2 k \rceil}$。

对于一个比较大的 $k$，我们可以尝试把整个串匀成两半，每边约占一半的 $1$，然后分别凑一个 $2^{\lceil \log_2 k \rceil-1}$ 出来。

可能会出现的问题是：对于 $k=2^t+1$，可能匀下来就需要用 $2^k$ 个 $1$ 得到一个 $2^{k+1}$，这样就不满足我们之前的递归方案了。我们不妨先讨论这种情况。

容易发现我们能使用 $4$ 个 $1$ 凑出 $8$：

我们讨论最左侧的三个位：

- $111$：切割为 $111+1$
- $110$：切割为 $110+1+1$
- $101$：切割为 $101+11$ 或 $101+10+1$。
- $100$：切割为 $100+1+11$ 或 $100+1+10+1$。

于是我们向上递推，就能构造出使用 $2^k$ 个 $1$ 得到 $2^{k+1}$ 的方案。

此外，我们有一个可以从 $k$ 个 $1$ 得到任意 $w\in[k,1.5k]$ 的方法：

讨论最初的两个位，如果是 $11$ 则拆出 $11$，否则拆出 $10+1$，最后总有 $w=k$，拆成若干个 $1$ 即可。

接下来我们讨论所有较小的情况：

- $k=2,3,4,6,7,8,11$，采用上面的方法。
- $k=5$，拆分成 $1111+1$ 或 $101+1+1+1$ 或 $100+1+1+1+1$。
- $k=9$，类似的讨论最左的三个位：
	- $111$：切割出 $111$，接下来使用上面的方法。
   - $110$：切割出 $110$，接下来使用上面的方法。
   - $101$：切割出 $101$，然后我们使用 $4$ 个 $1$ 凑出 $8$，剩下的 $3$ 个 $1$ 分别拆开。
   - $100$：切割出 $100$，接下来使用上面的方法。
- $k=10$，我们使用 $4$ 个 $1$ 凑出 $8$，接下来使用上面的方法。

就做完了。/tuu




