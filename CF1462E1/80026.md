这题要我们找到三元组满足最大值最小值小于等于2，其实就是一个简单排列组合的问题了。

这题数据范围如此的友好$a_i<=n$，完全可以放心大胆的桶排，用cnt数组记录每个数出现多少次，然后进行枚举：

对于每一个$x$，从小到大的去遍历，我们都可以有以下几种搞法凑出这个三元组：(其实就是$x$,$x+1$,$x+2$的排列组合)。但是要注意：有些不能重，不能走回头路，要不然就有下面的数顶替上来造成重复，如选择了$1,2,3$就不能重选$2,1,3$。因此这里是顺序往上枚举

$x,x,x$

$x,x+1,x+2$

$x,x+1,x+1$

$x,x+2,x+2$

$x,x,x+2$

$x,x,x+1$

然后组合公式用起来，

$ans+=\frac{cnt[x](cnt[x]-1)(cnt[x]-2)}{6}+cnt[x]cnt[x+1]cnt[x+2]+\frac{cnt[x]cnt[x+1](cnt[x+1]-1)}{2}+\frac{cnt[x]cnt[x+2](cnt[x+2]-1)}{2}+\frac{cnt[x]cnt[x+2](cnt[x]-1)}{2}+\frac{cnt[x]cnt[x+1](cnt[x]-1)}{2}$

代码就不放了，一个模拟就是。