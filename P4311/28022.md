因为看到之前的用上下界网络流的方法都是有错的，只是因为数据较弱得以通过了。因此在这里简要地写一写用上下界网络流的正确建图方法。

> 以下描述弧的属性均用数对 $(\text{lowerbound},\text{upperbound})$ 表示

## 错误的建图

我之前错误的建图是这样的：S向每个没有障碍的方格连边 (0,2)，方格向对应的行列连边 (0, 1)，行列向T连边 $(C_i/L_i,+\infty)$.

这样建后跑最小流。但是最后算答案的时候结果是不确定的，因为一个点对于行列的贡献可能会被算一次或者两次，这取决于对于行列的流量下限。而且我们不好去控制一个点被选了之后它就会自动向行和列都流1的流量。

## 正确的建图

每个行列都建一个点，S向每行连边 $(L_i, +\infty)$，每列向T连边 $(C_i,+\infty)$，对于没有障碍的点 $(x,y)$，由行 $x$ 向列 $y$ 连边 $(0,1)$.

这时候行和列的约束是完全可以得到满足的，并且也不会出现一个点被算两次或者一次的情况，最后跑最小流出来的结果就直接是答案了。

> 网络流建图真是奇妙～