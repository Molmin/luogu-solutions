这一题其实并未有太多解法，我只是详细解释一下大众的解法。

#### 题意

给一个串，有表示优先级的括号 ``` () ```， 单个字符```a```，以及运算```|```（姑且称它max运算吧）。

------------


### max运算的定义如下：
   aa...($ \textit{n} $个a)...aa | aa...($ \textit{m} $个a)...aa
   =  aa...( $ \textit{max}(\textit{n}, \textit{m}) $ 个a)...aa
求化简后 a 的个数

### 题解：

1. 我们可以从左到右遍历，遇 a 就 ++。

2. 遇上max运算就将前半部分放一边，再开一层递归，等到后半部分处理完后（遇上另一个 ```|``` 或该串结束，即遇上```)```），比较它俩。

3. 遇上左括号就把括号内看作一个整体，再开一层递归，处理内部的内容，再将括号中内容加到当前的数量中。

4. 括号内，仍然重复1-4步。

5. 遇见```)```，说明该括号结束，结束该函数，返回当前数量。

6. 如果EOF了，说明串结束了 ~~（这还用说）~~， 结束该函数， 输出。

代码：

```cpp
#include <bits/stdc++.h>
using namespace std;
int f (){ // 返回值是从调用时开始的部分中化简后 a 的个数
	int t = 0; // t 为当前 a 的个数
	char a; // 这只是一个暂存字符的变量，和a没有关系
	while (scanf("%c", &a) != EOF){ // 重复输入字符直到文件末
		if (a == '(') t += f (); // 步骤 3
		if (a == ')') return t; // 步骤 5
		if (a == '|') return max (t, f()); // 步骤 2
		if (a == 'a') t ++; // 步骤 1，注意这里不能写else 否则会wa 我也不知道为什么
	}
	return t;
}
int main (){
	printf ("%d", f());
	return 0;
}
```

