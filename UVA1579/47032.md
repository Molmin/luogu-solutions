老师那借来的
@SPiCa
解法：


预处理i到j有无出现重复的套娃ok[i][j]， i到j的最小尺寸min[i][j]，i到j的最大尺寸max[i][j]，i到j尺寸小于k的套娃数量les[i][j][k]。
合并两个区间(i,k)与(k+1,j)时，设min[i][k]<min[k+1][j]，则合并代价为j-i+1-les[i][k][min[k+1][j]]。
最后再进行一次dp，g[i]表示将前i个套娃合并成若干完好的套娃的最小代价，转移时若max[i][j]==j-i+1且i到j没有重复的套娃，则说明i到j可以合并成一个完好的套娃。

合并两个区间(i,k)与(k+1,j)时，设min[i][k]<min[k+1][j]，则合并代价为j-i+1-les[i][k][min[k+1][j]]。

最后再进行一次dp，g[i]表示将前i个套娃合并成若干完好的套娃的最小代价，转移时若max[i][j]==j-i+1且i到j没有重复的套娃，则说明i到j可以合并成一个完好的套娃。



代码就算了