## CF1366B 题解

### 前置知识

- 区间

### 题目解法

我们可以先想一下，如果 $l_i$ 到 $r_i$ 中包含可能是 $1$ 的地方，那么通过交换以后肯定都有可能是 $1$。

这样一想就明白了，那么是不是只需要枚举就可以呢？

——不可能。

容易发现，枚举是肯定超时的。这个时候我们再想一下，可以开始想象有一个区间，这个区间就是可能有 $1$ 的区间。因为肯定 $[l_i,r_i]$ 区间和它有重复元素才能和它进行反应，所以这个区间一定是连续的。那么我们只需要两个变量，分别代表左端点和右端点，如果有重叠部分就将区间扩大至正好包括两个区间就可以了。

具体判断是否重叠方法看代码。

### AC代码

```cpp
#include<iostream>
using namespace std;
int t,n,m,x,l,r,ql,qr;
int main(){
	cin>>t;
	while(t--){
		cin>>n>>x>>m;
		ql=qr=x;//初始化区间为 [x,x]
		while(m--){
			cin>>l>>r;
			if(l<=ql&&ql<=r||l<=qr&&qr<=r){//如果左端点在区间内或右端点在区间内就扩大（不然两个区间绝对不可能重合）
				ql=min(ql,l);//扩大左端点
				qr=max(qr,r);//扩大右端点
			}
		}
		cout<<qr-ql+1<<endl;//输出区间长度
	}
	return 0;
} 
```
