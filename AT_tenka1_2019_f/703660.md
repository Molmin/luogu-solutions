#### [原题传送门](https://www.luogu.com.cn/problem/AT_tenka1_2019_f)

题目大致题意：

给定一个数字 $n$, 求有多少个由数字 $0$, $1$, $2$ 组成的序列满足它任意的子序列都不等于 $x$，请注意结果要对 $998244353$ 取模。

思路：

- 首先可以枚举 $0$ 的个数 $i$，计算 $f(n-i,x)$ 表示由 $n-i$ 个 $1$,$2$ 构成的，且不存在和为 $x$ 的子序列个数，然后将已经处理过的数组 $ dp(n,i) \times f(n-i,x) $ 计入答案，答案需对 $998244353$ 取模。

- 对于 $1$,$2$ 序列的合法方案，其实只有三种情况：

  1. 序列和 $S<x-1$。
  
  2.  $S-x$ 为奇数,且此序列仅由 $2$ 构成。
 
  3.  $S-x$ 为奇数，且任何一个 $1$ 左侧和右侧的所有数之和 $<x$。
  
- 枚举序列和 $S$，对于条件 $1$ 和 $2$，可以由组合数简单计算。

- 对于条件 $3$，首先 $S-x$ 要为奇数，其次序列的左侧和右侧都应该有至少  $\frac{S-x+1}{2}$ 个 $2$，中间可以任意摆放，由组合数简单计算即可。

- 由此可以计算出时间复杂度为 $O(n^2)$，最多 $3000 \times 3000=9000000$，不会超时。



[AC代码](https://www.luogu.com.cn/paste/9px4j2u6)

[AC记录](https://www.luogu.com.cn/record/118591106)

  
  

