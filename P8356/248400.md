官方题解

一道比较简单的题题。

## $\text{subtask 1}$

爆搜即可。

## $\text{subtask 2}$

定义 $f[i][j]$ 为 $a_i$ 模 $p$ 余 $j$ 的方案数。乱 dp 即可。

## $\text{subtask 3}$

我也不知道有没有用（）

## $\text{subtask 4}$

正解。

当 $x=y$ 时直接检验生成的 $\{a\}$ 是否合法。

当 $x\not = y$ 时，假设 $f[i][j]$ 表示 $a_{i+j}=xi+yj$ 的方案数。状态转移方程：

- $p|xi+yj,f[i][j]=0$。
- $p\nmid xi+yj,f[i][j]=f[i-1][j]+f[i][j-1]$。

时间复杂度 $O(n^2)$ 常数较小，可以通过本题。由于本题卡空间，所以需要用到滚动数组。

