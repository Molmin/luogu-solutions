# 前言：
这是一道不错的数论题，对于最大公倍数的考察比较到位，适合普及选手练习。
# 题面
找到3个不超过$n$的正整数（可以相同），使得它们的$lcm$（最小公倍数）最大。输出最大的$lcm$
# 分析
最容易想到的应该是暴力枚举这三个整数，但时间复杂度是$O(n^3)$，对于$10^6$必然会超时，所以我们需要用数论优化
# 高能分析时间
## 写在分析之前
其他题解对数学的推导比较快，有的更是直接带过，这里我争取对推导过程进行较为详细的解析，方便大家理解。
## 开始分析
### $lcm$咋么算
啥都不说了，丢公式

$lcm(n,m)=n*m/gcd(n,m)$
(gcd为最大公约数)

### 先从很简单的定理引入
如果我们有两个整数$n$和$m$($n$>$m$)，它们的最大公约数为$k$，则$k$必然$n-m$的约数

这个结论不需要太多解释，这是最大公约数的一个定理。

~~但这与我们需要解决的问题有什么关系哪~~

我们可以从中得出几个定理，相邻的两个数必定互质（差为1），当一个数$n$为奇数时$n$和$n-2$必定互质（差为2且$n$ $mod$ 2!=0）......
### 当$n$为奇数时
由之前我们得出的结论可以得到$n$,$n-1$,$n-2$三个数，$n$的$n-1$必定互质,$n-1$和$n-2$必定互质，而$n$因为是奇数，所以$n$和$n-2$也互质。

再由$lcm$的公式可得这三个数相乘必然是最大的$lcm$（最好情况就是3个数都互质且乘积最大）

公式

$lcm_{maxn}$=$n$*$(n-1)$*$(n-2)$
### 补充
讲到这里，有些同学可能会问，问什么它们的最大公约数必须是1哪？我们可以简单的通过$lcm$的公式来了解一下

很显然，当它们$gcd$不为1时，最小的$gcd$为2，而当n稍微大一点时我们可以通过调整一个乘数的大小来避免除以$gcd$的情况，而且调整需要的量是很小的，代价远远小于除以2及以上的数，所以这几个数最好互质并且最大
### 当$n$为偶数时
这时的情况就复杂了，因为我们需要讨论两种情况。
#### 想法1，将偶数化为奇数
显然，当$n$为偶数是，$n-1$必定为奇数，这样我们就可以套用我们之前得出来的公式

$lcm_{maxn}$=$(n-1)$*$(n-2)$*$(n-3)$
#### 想法2,调整并寻求互质
由于$n$为偶数，所以$n-1$与$n-3$必然互质，$n$的$n-1$必定互质，而当$n$与$n-3$互质时，得出来的必然是最大值（因为除去$n-2$外，这三个数最大）

$lcm_{maxn}$=$n$*$(n-1)$*$(n-3)$

#### 问题
如果$n$与$n-3$不互质怎么办，要不要讨论$n-5$，$n-7$之类的情况哪，其实是不需要的，我们可以证明

$(n-1)$*$(n-2)$*$(n-3)$>$n$*$(n-1)$*$(n-5)$（其他情况比这个更小，就不用讨论了）

两边同时除以$n-1$得

$(n-2)$*$(n-3)$>$(n-1)$*$(n-5)$

将括号展开

$n^2$-$5n$+$6$>$n^2$-$6n$+$5$

加减消元得

$n$>-$1$

因为$n>0$，所以式子恒成立

证毕，所以得出结论

$lcm_{maxn}$=$(n-1)$*$(n-2)$*$(n-3)$($n$与$n-3$不互质时)

$lcm_{maxn}$=$n$*$(n-1)$*$(n-3)$($n$与$n-3$互质时)

> 讨论结束了，撒花

# TIPS
注意$n<3$的情况

# AC CODE
```pascal
var
  lcm,max:int64;
  n,i,j,k:int64;//要开int64
function gcd(x,y:int64):int64;
begin
  if y=0 then exit(x);
  exit(gcd(y,x mod y));
end;//求最大公约数，其实可以用同余来简单判断，这样有点复杂
begin
  readln(n);
  if n<3 then
  begin
  writeln(n);
  halt;
  end;//特殊情况
  if n mod 2=1 then
  begin
   writeln(n*(n-1)*(n-2));
halt;
end;//奇数
  max:=(n-1)*(n-2)*(n-3);//情况1
  i:=n;
  j:=n-1;
  k:=n-3;
  lcm:=i*j div gcd(i,j);
  lcm:=lcm*k div gcd(lcm,k);
  if lcm>max then max:=lcm;//偶数情况分别讨论
  writeln(max);//输出最大值
end.
```
# 总结
此题难度不大，但要分情况讨论，需要细心一点把情况讨论全，否则很容易WA，代码实现难度不高，是一道偏重思维的题。