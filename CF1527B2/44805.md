### P.S.
来胡一下。  
只能膜拜其他人是博弈论大师  
还有这篇题解有 $\LaTeX$ 吗 ![](//xn--9zr.tk/xia)

### Solution.
首先，我们发现翻转操作一点用都没有。  
然后，我们发现每对对应位置上的字符顺序也对答案没有影响。  
同时，如果有一对数字已经变成 1-1 了，那它就完全没有作用了。  
那么我们可以考虑设计一个 `dp`。  
`dp[w=0/1][i][j][k=0/1][l=0/1]` 表示当前到第 $w$ 个人，有 $i$ 对 `0-1`，有 $j$ 对 `0-0`，最中间数字是 $k$，上一个人有没有翻转过（$l$）时的答案。  
然后直接模拟每个人可以做的事来转移即可。  
同时这个 dp 的答案每次不变，所以可以直接预处理。  
复杂度 $O(n^2)$