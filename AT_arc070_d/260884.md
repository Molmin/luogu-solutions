- 此题思路不难，我却想了很久。
- 作者连 D 题都不会做了，真是太逊了。

**[题意](https://www.luogu.com.cn/problem/AT2348)**
- 有 $A$ 个好人 $B$ 个坏人（$A+B=n$），可以向 $a$ 问 $b$ 的情况，如果 $a$ 是好人会如实回答，否则无法预测。
- 给定一个确定性算法，在 $2n$ 次交互以内得出每个人的好坏。

**分析**
- 如果 $A\le B$，可以坏人扮好人，无解。
- 如果知道一个好人，可以在 $n$ 次询问里判断所有人的好坏，采取投票的形式，$n$ 次询问可以判断一个人的好坏，复杂度上界 $O(n^2)$。
- 考虑如果一个人认为另一个人是坏人，两个人必然有一个是坏人，那么可以把两个人都丢出去，形成更小的子问题。
- 那么如果认为是好人就尝试反过来互认，如果反咬一口，那么被咬者一定是坏人，可以把信任他的人丢掉，否则两人性质一样，可以合并在一起（为了防止失衡，第一次认为是坏人的，各自丢掉一个）。
- 由于互认可以并查集维护连通块少判一个点，所以聚合复杂度可过。
- 但是为什么要这样干呢？如果一个坏人认为好人是好人，那么我们会增加好人的信任度，否则即使所有的坏人聚在一起也干不过好人。
- 因此直接这样投票即可，[代码](https://www.luogu.com.cn/paste/crnskxv9)。