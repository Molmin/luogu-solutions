## [P9205 藤原「灭罪寺院伤」](https://www.luogu.com.cn/problem/P9205)

## 题目大意

在一个二维平面上有 $n$ 个正方形，它们的边长由 $1$ 至 $n$ **递增**，在初始状态下边长为 $a (a < n)$ 的正方形都被边长为 $a + 1$ 的正方形完全包含。

借用一下原题的图：

![](https://cdn.luogu.com.cn/upload/image_hosting/w5f6nucw.png)

定义一个正方形的坐标为其**左上角**顶点的坐标 $(x_i, y_i)$。现在请用**最少**的次数，将边长 $1$ 的正方形移到 $(x_\text{end}, y_\text{end})$。在移动过程中**时刻需要满足**以下三点：

1. 每次只能移动**一个**正方形；
2. 每次只能将正方形向**上、右、下、左**四个方向**之一**移动**一个长度单位**。
3. 在移动过程中，必须满足初始的包含条件「边长为 $a (a < n)$ 的正方形都被边长为 $a + 1$ 的正方形完全包含」。

## 代码分析

按题意模拟，分别有上、右、下、左四个方向，依次判断即可。详见注释：

```cpp
for (int i = 1; i <= n; i++) {
    cin >> x >> y;
    if (xend < x) res += x - xend; // 向左移动
        ^- 就只要将 x 减去 xend 即可，但如果 xend 不比 x 小就移不了。
    else if (xend > x + i - 1) res += xend - (x + i - 1); // 向右移动
        ^- 同理，模拟右移要多考虑一个边长，减去 (x + i - 1)。
    if (yend > y) res += yend - y; // 向上移动
        ^- 同左移，只是 x 和 y 颠倒一下，还要注意 y 轴是越往上越大。
    else if (yend < y - i + 1) res += y - i + 1 - yend; // 向下移动
        ^- 同右移，稍微改动即可。
}
```

The End!