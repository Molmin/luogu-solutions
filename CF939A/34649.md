楼下已经说得很清楚了，我只是来详细解释一下为什么当$f[f[f_{i}]]=i$时构成三角恋.

我们知道，当$A$喜欢$B$，$B$喜欢$C$,$C$喜欢$A$时，构成三角恋，根据题意，则$B=f_{A}$,如此，$B$喜欢的飞机为$f_{B}=f[f_{A}]$,则$C=f[f_{A}]$，所以$C$喜欢的飞机为$f_{C}=f[f[f_{A}]]$.
所以说当$A=f[f[f_{A}]]$,也就是$i=f[f[f_{i}]]$,这是满足三角恋的关系

故$f[f[f_{i}]]=i$时构成三角恋
则改程序核心代码如下
```cpp
for(int i=1;i<=n;i++)
  if(f[f[f[i]]]==i)
  {
	cout<<"YES";
	return 0; 
  }
cout<<"NO";
```