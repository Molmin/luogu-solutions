~~来水题解了~~

发现真值表不是任意给的，应该和这方面有关，枚举可能的成为答案的对子，然后查表，可以发现真值表上只有两种操作：```A``` 与 ```o``` 是有三种初值情况可以得到 $0$ 的，因此将这两类操作拎出来做，其余暴力。

对于这两类容斥一下即可，设 A 与 o 有 $cnt$ 个，单次查询复杂度为 $\mathcal O(2^{cnt}\times 2^{w-cnt})$。

预处理上需要知道删除某些位之后某种值有多少个，朴素做可以在 $\mathcal O((n+m)2^w)$ 内完成。