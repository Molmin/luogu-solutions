# 模拟

### 前言

有一定思维的模拟，外加一些剪枝就能过。

但总体还是挺水的，考验码力（

题目链接：[$\text{Link}$](https://www.luogu.com.cn/problem/CF1474C)

### 题意简述

提交了一篇翻译但还没审（？）

给定长度为 $2n$ 的数组 $a$，要求在一开始选定一个正整数 $x$，之后通过一系列运算将 $a$ 数组清空：

1. 选择 $a$ 数组中的两个数 $m,n$，并保证 $m+n=x$。

2. 从 $a$ 数组删去 $m,n$，并将 $x$ 更改为 $\max(m,n)$。

3. 重复第一个步骤直到删去 $a$ 数组中所有的元素。


请你求出一开始选择的 $x$ 与每次删去的两个数。


### 题目分析

先有一个想法：每次肯定要删去 $a$ 数组中最大的数 $b$，因为如果删小的数，$x$ 永远不会比 $b$ 要大，那么 $b$ 也就删不掉了。


有了这个想法，再看数据范围：$1\le n\le 1000$，提示我们暴力就能直接艹过去。

$x$ 的取值便可以暴力枚举了，前提 $x>b$，$b$ 为 $a$ 数组中最大的数。

每当确定一个 $x$ 后就是模拟了，只要一旦找不到合法的数 $a_i$ 使 $a_i+b=x$，那么 $x$ 的取值也就吧不合法，换一个 $x$ 重试。

但 $x$ 的枚举也是有技巧，既然 $x=b+a_i$，那么我们可以直接枚举一个 $a_i$，从而来确定一开始的 $x$，复杂度大大下降。

要注意删数不需要真正地将元素从数组中删除，可以再开一个数组 $mp$ 来维护一个数出现了几次，一旦遇到不合法的 $x$，就可以还原回去了。方法有很多，我是记录删去了那些位置，将 $mp$ 还原即可。

别忘数组开两倍空间。

[$code$](https://paste.ubuntu.com/p/rrgyrdZsBg/)


[$AC$ 记录](https://www.luogu.com.cn/record/45680818)

$$\texttt{The End.by UF}$$

