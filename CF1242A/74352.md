#### 1 题目描述（[传送门](https://www.luogu.com.cn/problem/CF1242A)）

##### 1.1 题目大意

你要粉刷从你的房子到你的大门的小路。

小路共有 $n$ 个瓷砖，标号为 $1$ 到 $n$ ，你将用一些颜色粉刷它们。

要满足：如果两个瓷砖的序号是 $i$ 和 $j$ ，有 $|i-j|>1$ 且 $n\ mod\ |i-j|=0$ ，则这两个瓷砖要粉刷一样的颜色。

##### 1.2 输入格式

一行一个整数 $n(1\leq n \leq 10^{12})$ ，表示路的长度。

##### 1.3 输出格式

一行一个整数，表示能用到的满足题意的最多的颜色数量。

#### 2 解题思路

最开始想到了二分答案，但check过程时间复杂度是很高的（甚至可以到      $O(n)$ ），这对于本题这种 $n$ 很大的情况是不可取的。

其实这是一道数学题。我们考虑 $n\ mod\ |i-j|=0$ ，其实如果找出的 $n$ 的因子，那么问题就迎刃而解了。再进一步考虑，如果 $n=8$ ，那么因子有  $1,2,4,8$ ，但其实如果想满足 $n\ mod\ |i-j|=0$ 的话， $|i-j|$ 只能是  $2$ ，因为其包含 $|i-j|=4$ 的情况。换句话说，如果 $|i-j|=4$ 的话，我们是不能用 $4$种 颜色的，因为模 $4$ 等于 $0$ 的数模 $2$ 也一定等于    $0$ 。

因此，我们只需要找质因数。再考虑如果一个数有多个质因数的情况。假设    $n$ 有质因数 $p_1,p_2$ ，那么其实要考虑的是 $ap_1+bp_2$ 能组合出来的数字。可以证明两个质数的线性组合是可以组合出任意数的（[证明参考](https://blog.csdn.net/weixin_33871366/article/details/93725878)）。

两条重要定理：两个互质数的线性组合等于 $1$ 必定有解。两个质数一定互质。（可以组合成裴蜀定理的一部分）

回归问题，如果 $n$ 有两个质因子，那么它们可以组合使得任意两个瓷砖都要颜色相同。

总结一下：

（1）如果 $n$ 本身是质数，那么最大颜色数就是 $n$ 。

（2）如果 $n$ 是合数且 $n$ 有且仅有一个质因子，那么最大颜色数就是这个质因子。

（3）如果 $n$ 是合数但 $n$ 有两个及以上质因子，那么最大颜色数为 $1$ 。

最后我们考虑如何找质因子，一种办法是先找出所有的质数然后挨个枚举是否是 $n$ 的质因子。但是 $n$ 本身很大，而且如果 $n$ 等于 $2$ 和一个超大质数相乘的话，那筛出的别的质数就都没有用了。所以我们直接对 $n$ 进行拆分。

#### 3 解题代码

```cpp
#include <iostream>
#include <cmath>
using namespace std;
long long n;
long long p[5000010],cnt;
int main()
{
    cin>>n;
    long long ans=n;
    for(long long i=2;i<=sqrt(n);i++)//很朴素的拆质因数，i从2枚举到根号n
    {
        if(n%i==0)
        {
            p[++cnt]=i;
            while(n%i==0)n/=i;//用尽可能多的质因子拆n，比如2拆8可以拆3次
        }
        if(n<i)break;
    }
    if(n>1)p[++cnt]=n;
    if(cnt==1)printf("%lld\n",p[1]);//这里cnt==1包含n本身就是质数的情况
    else printf("1\n");
    return 0;
}
```

#### 4 解题心得

数论数论数论，冲NOIP的时候就一直搞不明白的东西。或许现在还只能搞懂gcd相关。什么中国剩余定理费马小定理等等等等，数论还是要学的。这次的裴蜀定理也只是考场上觉得是这么回事儿，要是真证明自己也还是啥都不会。数论还是要搞的。