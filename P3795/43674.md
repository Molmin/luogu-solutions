首先，可以把分类自动视为图论，才不是什么数学(先别打我...)

视N=M={1, 2, 3,..., k}

每一个元素视为一个图中的节点

每一次由原象求象的过程(或者说每一次的求f(x)),

可以认为是连一条x到f(x)的有向边(当然f(x) == x时就是x连了个自环边)

因为是映射，则每个点的出度只能为1。

那么题目就是求连边的方案数


如果一定要搜索的话，可以稍稍加个小优化(当然还是过不了)，设个vis数组表示已经被连边的点，跳过已经被标记的点。相当于使搜索时每个点的入度只能唯一。似乎有些问题，映射中可以存在多点映射到同一点，会不会错呢？

其实根据简单的反证法可以证明。假设存在两个点连边到一个点上，很容易看出矛盾


当然不是搜索啦。其实先手动暴力（当然大佬目测就行，不过大佬也不会看到这吧）就能看出要满足要求的话，其中任意一个点要么是与另一个点互连边，要么是连自环边。

那么对于g(x)(表示k == x时的答案)，对于连自环边的有g(x-1)的答案(当前点连自环边)，另一种情况则是(x - 1) \* g(x - 2)，表示当前点与另一点互联边g(x - 2)，有(x - 1)种选择。

所以有g(x) = g(x - 1) + (x - 1)  \* g(x - 2)


好吧，就是简单递推顺便有那么一点点dp的思想

说了别打我。。。
