## [ABC188F +1 -1 ×2](https://www.luogu.com.cn/problem/AT_abc188_f)

深搜好题。

> 给定两个数 $x, y (\leq 10^{18})$，每一次可以进行以下**任意一种**操作：
>
> 1. $x \gets x + 1$；
> 2. $x \gets x - 1$；
> 3. $x \gets 2x$。
>
> 求使 $x = y$ 的最小操作次数。

如果暴力打的话绝对超时，所以考虑逆推 + 记忆化 + 分类讨论。

记 dfs $v$ 的结果为 $f(v)$。

如果 $x = v$，不需要再操作。

如果 $x > v$，只有操作 $2$ 可以减少 $x$，所以 $f(v) = x - v$。

如果 $x < v$，分奇偶讨论。

当 $2 \mid v$，可以进行操作 $3$，逆推就是 $v \gets \dfrac v 2$；也可以进行操作 $1$，不断逆推 $v \gets v - 1$。

当 $2 \nmid v$，操作 $1, 2$ 皆可转为偶数考虑。因为 $v \gets v - 1$ 后变为偶数，还可以不断减少 $v$，所以与在奇数 $v$ 上不断减少是相同的。

上述分类讨论可以轻松解决 $n$ 在 $10^{18}$ 范围的 $x, y$。[代码](https://atcoder.jp/contests/abc188/submissions/43568937)。