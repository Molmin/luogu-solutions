#### Description

> 给定一个母串 $S$，并给定 $n$ 个子串 $T$，$S$ 包括若干个字符：
> - `?`：可以替换为任意一个大写字母。
> - `*`：可以替换为任意长度为 $l \in [0,\infty)$ 的字符串。
> - 其他大写字母：无说明。
>
> 将 `?` 和 `*` 替换后形成的大写字母串称为 $S$ 的配合串，求 $n$ 个子串 $T$ 中有多少个不是 $S$ 的配合串。

#### Solution

定义 bool 数组 $f_{i,j}$ 为 $S_{[1,i]}$ 与 $T_{[1,j]}$ 是否匹配，则：

- 当 $S_i=$ `?` 时，既然这个位置上的字符可以随便替换，那么 $f_{i,j}=f_{i-1,j-1}$；
- 当 $S_i=$ `*` 时，分三种情况分别讨论：
	- 替换为长度为 $0$ 的字符串，当且仅当 $f_{i-1,j}$ 为 true；
    - 替换为长度为 $1$ 的字符串，当且仅当 $f_{i-1,j-1}$ 为 true；
    - 替换为长度大于 $1$ 的字符串，当且仅当 $f_{i,j-1}$ 为 true；
- 所以 $f_{i,j}=f_{i-1,j} \lor f_{i-1,j-1} \lor f_{i,j-1}$；
- 当 $S_i=$ 任意大写字母时，需要满足前面的 $S_{[1,i-1]}$ 和 $T_{[1,j-1]}$ 是匹配的之外，还需要保证 $S_i=T_j$，因此 $f_{i,j}=f_{i-1,j-1} \land [S_i=T_j]$。

最后看 $f_{|S|,|T|}$ 的值即可，注意要求的是多少个 $T$ 不是配合串。

初始化时如果只设 $f_{0,0}$ 为 true 就会在 $S$ 开头有若干个 `*` 的数据上 WA 掉，所以初始化时设 $S_{[1,k]}$ 都为 `*`，$S_{k+1}$ 不为 `*`，那需要让 $f_{p,0}$ 全部为 true，其中 $p \in [0,k]$。当然如果 $S$ 开头没有 `*` 就直接让 $f_{0,0}$ 为 true 即可。

#### Code

```cpp
dp[0][0] = true;
for (int i = 1; s[i] == '*'; i++) dp[i][0] = true;
for (int i = 1; i <= strs; i++)
	for (int j = 1; j <= strt; j++)
		if (s[i] == '?') dp[i][j] = (dp[i - 1][j - 1]);
		else if (s[i] == '*') dp[i][j] = (dp[i - 1][j] || dp[i - 1][j - 1] || dp[i][j - 1]);
		else dp[i][j] = (dp[i - 1][j - 1] && s[i] == t[j]);
if (dp[strs][strt] == false) cnt++;
```