首先呢，
这题 应该是个状压(反正我写的是状压)

我们设
$f[i][j]$表示状态为$i$余数$j$的方案

假设我们现在的状态为$i$ 

如果我们已经确定了前$i$位的话，那么再在后方枚举下一位添加的数j,则现在产生的数即为原来的$i*10+A[k]$

那进一步考虑的话，对现在的余数产生的影响即为余数      $(j*10 + A_k) % d$

所以我们依次枚举所有$i$的状态 , 再枚举所有余数$j$产生的方案就可以得到状态转移方程：

$f[ i | (1 << k) ][((j * 10 + A[k]) \% d]+=f[i][j]$

但我们会因此漏掉一种情况：
如果某个数字 $i$ 在排列中出现了 $Cnt[i]$ 次，那么最后的答案 $Ans$ 应该 $Ans /= (Cnt[i])!$
