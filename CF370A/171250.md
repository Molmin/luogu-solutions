本题是一道模拟题，下过国际象棋的人都知道，没有阻拦时，车可以在2步之内到达任意点，只要确定目标点和出发点是否在同行或同列，就知道了车所需的步数，所以我就只讲象和王的判定。

象：象可以一步到达所处格子对角线上的任意点，或两步到达所有一步可达点的对角线上的任意点。我们可以发现，当象移动直线斜率为1时，设y=x+k，则同一直线上y-x为定值；当斜率为-1时，设y=k-x，则同一直线上x+y为定值，故只要判断两点y-x和x+y是否相同，就能确定是否一步可达。我们还能发现，白格象只能移动到白格，而黑白格是相邻的，不妨大胆猜测：象能到达的点与横纵坐标的奇偶性有关。

证明：由于象可两步到达所有一步可达点的对角线上的任意点，故该点的y-x或x+y与象所在对角线上的一个点相同，且该点y+x或x-y与象相同。又因为y-x与y+x的奇偶性必然相同，故象只能到达横纵坐标之和的奇偶性与其所在格相同的格子。

王：王可到达周围八格中的任意一格，但1次最多只能移动1行或1列，故王至少要走的步数为目标点与出发点横纵坐标之差中较大的一个。

```cpp
#include<bits/stdc++.h>
using namespace std;
int a,b,x,y;//定义目标点与出发点的横纵坐标
int main()
{cin>>a>>b>>x>>y;//读入
 if(a==x||b==y) cout<<"1 ";//判断是否同行或同列
 else cout<<"2 ";//计算车的步数
 if(x+y==a+b||x-y==a-b) cout<<"1 ";//判断是否在同条对角线上
 else if((x+y)%2!=(a+b)%2) cout<<"0 ";//奇偶性不同则不可达 
      else cout<<"2 ";//否则两步可达
 cout<<max(abs(x-a),abs(y-b));//王至少要走的步数
 return 0;
}
```