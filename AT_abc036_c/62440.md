## 1. 离散化

离散化是指将无限空间中有限的个体映射到有限的空间中去。在算法上主要是指将无限或较大值域上的数值按照相对顺序不变的方式编号，也就是把每个数与其排名建立双射。

离散化最简单的应用是下标计数。很多数据结构问题需要在值域上离线处理或在值域上建立数据结构，这时一般使用离散化。另外，查找指定值对应的离散化后值可以在 $O(\log n)$ 的时间内简单地通过二分查找实现，而查找一个离散化后值的原值是 $O(1)$ 的。

## 2. 实现

显然是需要通过排序。

这里需要进行分类，即在排序后，相同的元素一般映射到相同的单一排名而非每个都有不同的排名。但是在 OI 界确实存在相同元素分别映射的情况。

为了使相同元素映射到相同值，需要在排序后进行去重。最简单的办法是排序和去重均使用 STL 自带的函数。

```cpp
int n, num, a[100005], b[100005];
inline int read() {
    char c = getchar();
    int x = 0, f = 1;
    while (!isdigit(c)) f = (c == '-' ? -1 : f), c = getchar();
    while (isdigit(c)) x = (x << 3) + (x << 1) + c - '0', c = getchar();
    return x * f;
}
signed main() {
    n = read();
    for (int i = 1; i <= n; i++) a[i] = read(), b[++num] = a[i];
    sort(b + 1, b + 1 + num);
    //unique 函数返回去重后新的序列尾指针，可以计算出去重后的不同元素数
    num = unique(b + 1, b + 1 + num) - b - 1;
    for (int i = 1; i <= n; i++)
        printf("%d\n", lower_bound(b + 1, b + 1 + num, a[i]) - b - 1);
    return 0;
}
```