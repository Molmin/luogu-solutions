考虑到食物网的结构没法直接统计答案，我们试着转化一下。

考虑一个点如果要死的彻底，那么他就不能有任何的食物，也就是他的所有父亲节点必须全部死掉。

那么我们发现如果要让一个点集全部死掉，只要满足死掉的点在这个点集的$lca$到根的路径上即可，我们就可以将该点直接连到$lca$上。

这样我们按照拓扑序建图，然后每个点的权值就是子树大小。

[$code$](https://pastebin.com/B8LS5Xcc)