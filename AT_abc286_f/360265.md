> 构造一个排列 $\phi$（$|\phi| \le 110$）满足 $|\{\phi^x \mid x \in [0,10^9]\}| = 10^9+1$。
>
> 另外地，你需要构造映射 $f : \{\phi^x \mid x \in [0,10^9]\} \to [0,10^9]$，满足 $f(\phi^x) = x$。

题解：

不妨建有向图：$g : i \to \phi_i$。发现 $g$ 构成基环森林。显然对于每一个点都会有循环。对于基环树 $S \subseteq g$，对于每一个 $x \in S$，经过足够多（不超过 $110$）次 $\phi$，会陷入循环节为 $S$ 上环的大小的循环。而整个基环树的循环显然为这些循环节的 $\operatorname {lcm}$。于是，最优结构显然是基环森林 $g$ 全部由环组成。设所有环的大小组成的集合为 $A$，则 $A$ 需要满足如下条件：

* $\operatorname{lcm} A \geq 10^9$
* $\sum A \le 110$

，爆搜可得 $A = \{4, 5, 7, 9, 11, 13, 17, 19, 23\}$。于是得到了 $a_i$。

于是考虑 $f$ 的构造：发现 $\forall a \in A$，都可以简单地找到 $n \bmod a$，CRT 即可。