我们考虑先把初始流用上下界的形式给限定好，就必须流那么多。然后新加边进行调整。

分成两类：

1. $f\leq c$。那么如果想要减少流的话，只需要反着流上限为 $f$，费用 1；想要增加流的话，在 $c-f$ 以内都可以 1，再往上就要 2 了；
2. $f>c$。$f'<f$ 的话是 $(c-f)+f-f'$，$f\leq f'\leq c$ 的话是 $c-f$，$f'>c$ 的话是 $(c-f)+2(f'-c)$。那么可以将 $c-f$ 给费用提前计算掉（因为他是个常数，与流量无关，无法用费用流表达），然后就免费反流 $c-f$，然后往下 1，往上 2。

最后跑有源汇上下界最小费用可行流即可，非常自然。