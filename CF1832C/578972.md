### 题目大意

给定一个序列 $[a_1, a_2, ..., a_n]$ ，定义一个序列的权值为每两个相邻元素之差的绝对值之和，即 $\sum^{n-1}_{i=1}{\left|a_i-a_{i+1}\right|}$ 。找出序列 $a$ 中最小的**子序列**，使得其权值与原序列相同。

### 思路

容易发现，如果一个序列是有序的（非严格降序或升序皆可），如 $[1, 1, 3, 5]$ ，那么只保留这个序列的开头和结尾不会影响权值。如 $[1, 1, 3, 5]$ 与 $[1, 5]$ 权值相同
。

所以我们只需要判断这个序列有几个“转折”，也就是从某个数字开始由降序转为升序或由升序转为降序即可。

如序列 $[1, 2, 3, 5, 2, 1]$ ，从第四个数字，即 $5$ 开始由升转降，故取子序列 $[1, 5, 1]$ 即可。 

### 核心参考代码

```cpp
int contrast_value(vector<int>& input)
{
	int state = -1; // 0 for inc, 1 for dec
	int a, b = input.front();
	int ans = 1;
	for (int i = 1; i < input.size(); i++)
	{
		a = b;
		b = input[i];
		if (b > a && state != 1)
		{
			state = 1;
			ans++;
		}
		else if (b < a && state != 0)
		{
			state = 0;
			ans++;
		}
	}
	return ans;
}
```