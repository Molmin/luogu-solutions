### Description 

给你一颗满足编号 = dfs 序的带边权的有根树。$m$ 次询问，每次给出 $v,l,r$ 求编号在 $[l,r]$ 中的叶子到 $v$ 节点的最短距离

$n,m \leq 5\times10^5,w \leq 10^9$ 


### Solution 

如果我们知道 $u$ 节点到所有叶子的最短路，如何求出他的某一个儿子 $v$ 到所有叶子的最短路呢？

不妨设 $(u,v)$ 的边权是 $w$ 。那么在 $v$ 这颗子树内的叶子到 $v$ 的距离较 $u$ 要减少 $w$ ； $v$ 这颗子树外的叶子到 $v$ 的距离较 $u$ 要增加 $w$ 。

又良心出题人给的树是满足那个性质的，所以子树内的编号是连续的。

所以最开始 dfs 一遍。求出每个点到根的距离。把询问离线，进行一次先序遍历。

每次进入到一颗子树，就用线段树把该子树内的叶子减少 w 外面的增加 w

当回溯的父亲的时候，就用线段树把该子树内的叶子增加 w 外面的减少 w

然后遍历到一个节点就把和他有关的询问全都用线段树里的信息处理掉就行了

### Code

[看代码戳这里](https://acfunction.github.io/2019/02/09/CF1110F/)