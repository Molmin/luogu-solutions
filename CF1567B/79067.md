预处理 $0\sim i$ 的异或和为 $f_i$。对于每次询问，令 $x={\rm MEX},y={\rm XOR}$。首先 $0\sim x-1$ 都要选，这就 $x$ 个了，然后你考虑加入若干个数调整异或值,但注意不能加入 $x$。
1. 若 $f_{x-1}=y$，那么不必加；
2. 若 $f_{x-1}\oplus y\ne x$，那么只需要加入 $f_{x-1}\oplus y$ 这一个数；
3. 否则，你必须要加入两个数，使得他们的异或值为 $x$，这样的数显然是可以找到的。

上述三种情况的答案分别为 $x,x+1,x+2$。