[题目传送门](/problem/CF141B)

## Part.1 题目

~~自己看翻译~~

就是有很多堆积着的 $a\times a$ 的方块，这些方块有一个规律，就是如果最底下的方块算作第 $0$ 层的话，那么除了第 $0$ 层之外，奇数层都堆一个，偶数层都堆两个。然后给你一个点，让你判断这个点在不在某一个方块里，如果在，还要求出是第几个方块。

方块堆积图：

![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF141B/3cab0cfd180f2a7ceceec93813314c6b7ddd8ea0.png)

## Part.2 思路

首先我们发现所有的正方形覆盖的区域都满足 $y\ge 0$，所以如果 $y<0$，那就肯定不在。

其次是如果 $|x|\ge a$，那就说明这个点太靠旁边了，也不行。

然后是如果这个点在横着的某条边上，即 $y\bmod a=0$，那么肯定也不行。

剩下的，基本上都是可以的了。

之所以没有把竖的边也先拿出来排除，是因为每一层的竖着的边位置不一样，需要分类讨论。

那么就开始分类讨论吧。

先根据 $y$ 来算出层数（设层数为 $c$，则 $c=\dfrac{y}{a}$），然后再判断一下，如果是第 $0$ 层或者奇数层的话就只有一个方块，所以必须满足 $|2\times x|<a$，才在一个方块里。

那么是第几个方块呢？不难发现，奇数层时，方块编号为 $\dfrac{3(c+1)}{2}$，第 $0$ 层时，方块编号就是 $1$。所以方块的编号为 $\max(1,\dfrac{3(c+1)}{2})$。

另外一种情况，就是非零的偶数层时，有两个方块，如果 $x=0$，这个点就在方块的边线上，要去掉。方块的编号的算法在这里就不赘述，为 $\dfrac{3c}{2}+\dfrac{x+a}{a}$。

## Part.3 代码

```cpp
#include<iostream>
using namespace std;
int a,x,y;//定义三个正整数，一个叫a……
int _main(){
	if(y%a==0)return-1;
	if(y<0)return-1;
	if(abs(x)>=a)return-1;
	//以上为一开始讨论的三种不可能情况
	int c=y/a;
	if(c==0||c%2){
		if(abs(2*x)>=a)return-1;
		else return max(1,(c+1)/2*3-1);
	}
	//以上为第0层或者奇数层的情况
	if(c&&c%2==0){
		if(x==0)return-1;
		else return c/2*3+(x+a)/a;
	}
	//以上为非零偶数层的情况
}
int main(){
	cin>>a>>x>>y;
	cout<<_main();
}
```