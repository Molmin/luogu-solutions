fdf的思路很清晰，但是我认为还可以继续优化一下他的算法。

$$\frac{min(a[i],a[i-1])}{a[i]×a[i-1]}$$

我们发现，其实这个式子是可以约分的

$$\frac{min(a[i],a[i-1])}{a[i]×a[i-1]}$$
$$=\frac{1}{max(a[i],a[i-1])}$$

这个想一想就能出来。


当a[i]更小时，原式= $\frac{1}{a[i-1]}$
;当a[i-1]更小时，原式=$\frac{1}{a[i]}$


所以原式就可以如此化简。


另外，我在这里提供一种新的思路：


我们分类讨论一下。当a[i]<a[i-1]时：我们有$\frac{a[i]}{a[i-1]}$的几率选到a[i]范围内的数，在a[i]范围内的数中，我们又有$\frac{1}{a[i]}$的概率抽中正确答案，所以我们抽中正确答案的概率为$\frac{a[i]}{a[i-1]}$×$\frac{1}{a[i]}$=$\frac{1}{a[i-1]}$


另一种情况同理可得。


所以代码如下
```cpp
    ans+=1.0/(db)max(a[1],a[n]);
    for(int i=2; i<=n; ++i) 
        ans+=1.0/(db)max(a[i],a[i-1]);
    printf("%.3lf",ans);

```