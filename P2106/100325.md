题意：相邻两个数的差不超过 $2$，我们称这个数是牛逼的，然后我们要询问位数是 $k\le10^{18}$ 的牛逼数有几个。

非常的萌萌，你直接掏出来一个 $\text{DP}$，我们使用 $f_{i,j}$ 表示 $i$ 位 首位为 $j$ 的牛逼数有几个。

$$f_{i,j}=\sum_{k\in[j-2,j+2]\cap[0,10]}f_{i-1,k}$$

然后直接上一个矩阵快速幂就行了，构造矩阵显然为

$ \begin{pmatrix}
1&1&1&0&0&0&0&0&0&0 \\
1&1&1&1&0&0&0&0&0&0 \\
1&1&1&1&1&0&0&0&0&0 \\
0&1&1&1&1&1&0&0&0&0 \\
0&0&1&1&1&1&1&0&0&0 \\
0&0&0&1&1&1&1&1&0&0 \\
0&0&0&0&1&1&1&1&1&0 \\
0&0&0&0&0&1&1&1&1&1 \\
0&0&0&0&0&0&1&1&1&1 \\
0&0&0&0&0&0&0&1&1&1 \\
\end{pmatrix} $

边界就是 $f_{1,0}=0,f_{1,i}=1$ 了。

现在是 $20:15$，我看我什么时候写完。

现在是 $20:20$，我写完了。

```cpp
long long k;
signed main(){
	mat A(10,10);
	for(int i=1;i<=10;i++)
	for(int j=1;j<=10;j++)
	if(abs(i-j)<=2)A[i][j]=1;
	mat B(10,10);
	for(int i=2;i<=10;i++)B[1][i]=1;
	cin>>k;
	B=B*Ksm(A,k-1);
	int ans=0;
	for(int i=1;i<=10;i++)add(ans,B[1][i]);
	cout<<ans+(k==1);
}
```
$k=1$ 的时候好像要特判一下？？？

[推一波矩阵快速幂！](https://www.luogu.com.cn/blog/Peterprpr/mu-ban)