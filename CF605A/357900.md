# 题意简述
一个长度为 $n$ 的数组，是 $1$ 到 $n$ 的一种排列，要求每次操作把其中一个数提到数组的最前或最后，问至少需要几次操作。

# 思路
先看看样例 $1$，数组为 $\{4,1,2,5,3\}$，把 $4$ 和 $5$ 分别放到最后即可。可以发现没移动的 $3$ 个数 $\{1,2,3\}$ 为相邻元素差为 $1$ 的**最长上升子序列**。

那么就可以用 $dp$ 思想，开一个长度为 $n$ 的桶，$dp_i$ 就表示以第 $i$ 个元素结尾的最长上升子序列长度，每次输入 $a_i$，那么 $dp_{a_{i}}=dp_{a_{i}-1}+1$，并统计所有 $dp_{a_i}$ 的最大值，答案即为 $n-\max(dp_{a_i})$。
# 代码
```cpp
#include<bits/stdc++.h>
using namespace std;
int n,ans,a[100005],dp[100005];
int main(){
    cin>>n;
    for(int i=0;i<n;i++){
        cin>>a[i];
        dp[a[i]]=dp[a[i]-1]+1;
        ans=max(dp[a[i]],ans);//统计最大值
    }
    cout<<n-ans;
}
```