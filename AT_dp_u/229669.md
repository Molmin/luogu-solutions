题意：给你 $n$ 个物品需要分组，你可以将它们分成一些组合，每组内部每一对 $(i,j)$ 都会产生一个贡献 $a_{i,j}$（可能为负数），问你最大可能产生的总贡献。

数据范围：$n\leq 16$。

这个数据范围暗示着这道题使状压 DP。

设计出 DP 状态：设 $f(i)$ 表示选择状态为 $i$ 时的最大总贡献。

考虑转移，转移就是你一个 $i$ 有两种选择：

+ 不划分（直接成为一个集合，即 $i$ 内部两两直接产生贡献）。

+ 划分成多个集合（划分后每个集合分别计算）。

但你考虑这个情况并不需要真的划分成多个集合，只要划分成 2 个然后这 2 个在递归继续划分。

划分成 2 个的过程可以通过用二进制枚举子集来实现。

时间复杂度 $O(2^N\cdot N^2)$。

**[代码](https://atcoder.jp/contests/dp/submissions/33882491)**