这东西还是想了好久... 我还是太**naive**了...

而且还写得很长...

## SOLUTION:

### 结论

1. 由于初始水流从左方来，因此在左上角的管中，如果是直的，它类型一定要转换成2；如果是弯的，类型一定要转换成4。

2. 路径貌似是唯一的(若有)。

3. 通过前一条管，可以推测出当前管的类型。

4. 跟其他大佬说的一样，水只会向右流。


### 在此题解的一些注明

1. 定义最左边的x坐标为1，最右边为n。

2. 上排的y坐标为1，下排为2。

### 要求

水流要流到(n,2).

1. 对于1号管：

路径中，不会有1号类型的管，不然水就流出去了… 要不然就是接不上。

2. 对于2号管：

这管可以接上2,4,5号管，并且可以分别讨论。

    a) 右边是一直管：
         2号管: 接在原来2号管的右边，y轴位置不变。
    b) 右边是一弯管：
         4号管: 当2号管的y坐标为1时，接在它的右边。
         5号管: 当5号管的y坐标为2时，接在它的右边。

水流向右移动。

3. 对于3号管：

这管可以接上2,4号管，并且可以分别讨论。

    a) 右边是一直管：

         2号管: 接在原来3号管的右边，y轴位置不变。
         
    b) 右边是一弯管：
         4号管: 接在原来3号管的右边，y轴位置不变。
         
水流向右移动。

4. 对于4号管：

必须在下方接上6号管，不然直接宣告失败。

水流向下移动。

5. 对于5号管：

必须在下方接上3号管，不然直接宣告失败。

水流向上移动。

6. 对于6号管：

这管可以接上2,5号管，并且可以分别讨论。

    a) 右边是一直管：

        2号管: 接在原来6号管的右边，y轴位置不变。

    b) 右边是一弯管：

        5号管: 接在原来6号管的右边，y轴位置不变。

水流向右移动。

### 一些边界得要考虑清楚，不然就WA了…

## 代码

```cpp
#include <iostream>
#include <cstdlib>
#include <cstdio>
using namespace std;
int a[200002][3],q,s,n,x,y;
char c[200002];
bool succ;
int main(void)
{
	cin>>q;
	while(q--)
	{
		cin>>n;s=1;succ=1;
		scanf("%s",c);
		for (int i=1;i<=n;i++)
		{
			a[i][1]=c[i-1]-'0';
		}
		scanf("%s",c);
		for (int i=1;i<=n;i++)
		{
			a[i][2]=c[i-1]-'0';
		}
		x=1;y=1;
		if (a[x][y]<=2) a[x][y]=2; 
		if (a[x][y]>2) a[x][y]=4;
		while (x!=n+1&&succ==1&&y>0&&y<3)
		{
			if (a[x][y]==2)
			{
				if (a[x+1][y]>2&&y==1) a[x+1][y]=4;
				else if (a[x+1][y]>2&&y==2) a[x+1][y]=5;
				else a[x+1][y]=2;
				x++;
			}
			else if (a[x][y]==4)
			{
				if (a[x][y+1]>2)a[x][y+1]=6,y++;
				else
				{
					cout<<"NO"<<endl;
					succ=0;
				}
			}
			else if (a[x][y]==3)
			{
				if (a[x+1][y]>2||x==n) a[x+1][y]=4;
				else a[x+1][y]=2;
				x++;
			}
			else if (a[x][y]==5)
			{
				if (a[x][y-1]>2) a[x][y-1]=3,y--;
				else 
				{
					cout<<"NO"<<endl;
					succ=0;
				}
			}
			else if (a[x][y]==6)
			{
				if (a[x+1][y]>2||x==n) a[x+1][y]=5,x++;
				else if (a[x+1][y]<3)
				{
					a[x+1][y]=2;
					x++;
				}
			}
		}
		if (succ==0) 
		{
			continue;
		}
		//cout<<y<<endl;
		if (y==2) cout<<"YES"<<endl;
		else cout<<"NO"<<endl;
	} 
}

```
