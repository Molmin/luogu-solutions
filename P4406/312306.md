这边提供一个比较好写的做法，虽然还是扫描线。

不考虑特殊情况，扫描线做法是容易的：求出平面中所有线段的交点，然后纵坐标扫一遍扫描线。

每次求出直线 $y=y_{now}$ 与所有三角形的并的交集长度 $L$，这个直接模拟是 $O(n\log n)$。

则对于相邻两个扫描线 $y=y_{pre}$ 和 $y=y_{now}$，对答案的贡献就是 $\frac{(L_{now}+L_{pre})|y_{now}-y_{pre}|}{2}$。

但是有特殊情况，也就是当存在有一个三角形的一条边与 $y$ 轴平行时会多统计一块不在答案内的部分。

特判？不存在的。~~考虑人类智慧~~，将所有三角形绕原点旋转一定的角度，那就~~基本~~不存在这种情况了。

复杂度应该是 $O(n^3\log n)$。

[写丑了的 code](https://www.luogu.com.cn/paste/pfh556lv)