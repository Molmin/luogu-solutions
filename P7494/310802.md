~~抢一道红题题解比一道黑题题解还难。 TnT~~

这一道题是从一个很~~简单~~的小学奥数题扩展来的。

## 小学数学小推理

- 有 $n$ 个球，其中有一个质量与其他的不一样，有一个天平，求最少称几次能保证称出来那个球。

答案就是 $\lceil\log_3n\rceil$。

证明：

- 当 $n\%3=0$ 时：

把 $n$ 个球平均分成三份，

选择两份放到天平两边，

若平衡则那个球在另外一堆，

否则在这两对中的其中一堆。

- 当 $n\%3=1$ 时：

分成 $n/3,n/3,n/3+1$ 三堆。

处理方法同上。

最坏情况时剩下 $n/3+1$， 方案数同 $n+2$。

- 当 $n\%3=2$：

分成 $n/3,n/3+1,n/3+1$ 三堆。

处理方法同上。

最坏情况时剩下 $n/3+1$， 方案数同 $n+1$。

所以，每一次剩下的数就是 $\lceil n/3\rceil$

答案便是 $\lceil\log_3n\rceil$。

## 回归题目

题目要求两边所称东西质量不超过 $m$。

也就是说，只要所称个数 $n\le3m+1$，

就可以用上述方法。

那么如果 $n$ 超大的呢？

我们也可以将 $n$ 分成三份：

$m,m,n-2m$

前面两个称一下。

因为这时 $n-2m>m$ 绝对成立，

所以继续下去。

前面称的次数就变成了 $\lfloor \dfrac{n-3m-1}{2m}\rfloor+1$。

再继续上述操作。

## code

上代码：

```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
int n,m;
int get(int n){//求log3 n
	int x=1,s=0;
	while(x<n)x*=3,s++;
	return s;
}
signed main(){
	scanf("%lld%lld",&n,&m);
	int x=(n<=3*m+1)?0:((n-3*m-1)/(2*m)+1);
	n=n-x*2*m;
	printf("%lld",x+get(n));
}
```