地上有n堆石子，每人每次可从任意一堆石子里取出任意多枚石子扔掉，可以取完，不能不取。每次只能从一堆里取。最后没石子可取的人就输了。

我们设第i堆棋子的数量为$a_i$

有一个定理，就是当所有棋子数量的异或和为0时先手必败，否则后手必胜。

我们假设所有棋子数量的异或和为0时候是一个N局面，否则就是一个P局面。

当所有的$a_i=0$的时候，就输了，此时是一个N局面。

当所有棋子数量的异或和不为0时，也就是一个P局面时候，假设x为所有棋子数量的亦或和，也就是：$a_1\oplus a_2\oplus ...\oplus a_n=x$，那么必定存在i使得$a_i\ge x$，这时候我们让这个$a_i$变为$a_i \oplus x$，这样会使得$a_1\oplus a_2\oplus ...\oplus a_n=0$，局面变成了一个N局面。
这句话想说明的就是**一个P局面一定有可能转化为N局面**。

当所有棋子数量异或和为0时，也就是一个N局面，无论怎么操作，操作后异或和都不会为0。假设操作将$a_i$转化为了$a'_ i$，那么有：，$a_1\oplus a_2\oplus ...\oplus a_i \oplus ... \oplus a_n=0$，$a_1\oplus a_2\oplus ...\oplus a'_ i \oplus ... \oplus a_n=0$，两个式子亦或会得到：$a_i\oplus a'_ i=0$，也就是$a_i=a'_ i$，那么与题意不符。
这句话意思就是一个**N局面在操作之后一定会转化成一个P局面**。

对于先手，如果拿到了P局面，那么他可以把P局面转化成N局面，对方一定只能把N局面转化回P局面。而由于棋子数目是递减的，最后对方一定会拿到了一个所有棋子数目全部为0的局面，对方输。

如果拿到了N局面，那么对手一定会拿到P局面，如果对手聪明他一定胜。

所以对于nim游戏，当所有棋子数量的异或和为0时先手必败，否则后手必胜。

代码略

