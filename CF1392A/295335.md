容易发现，答案只可能是 $1$ 或者 $n$ ，数列中的数全相等为 $n$ ，反之为 $1$

简证:

对于全相等的数列，由于一开始就无法合并，所以答案为 $n$

对于其它数列，答案不为 $1$ 当且仅当场上只有全相等的数列，如果当前场上只有全相等的数列，直接撤回此前一步，使此前一步合并的数与另一个数合并，直到不存在全相等的数列

```
		cin>>n;
		bool exist=0;
		for(int i=1;i<=n;i++){
			cin>>a[i];
			if(i>1&&a[i]!=a[i-1])exist=1;
		}
		if(exist)puts("1");
		else cout<<n<<endl;
```