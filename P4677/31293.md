我来给一下楼下说的$f[i][j]$数组求解正确性的证明：

首先我们知道对于中间的村庄，左边有$\frac{n}{2}$个村庄，右边也有$\frac{n}{2}$个村庄

那么当我们将小学向左侧村庄移动时，左边有$\frac{n}{2}$个村庄距离减少$l_L$，右边有$\frac{n}{2}+1$个村庄距离增加$l_L$，总距离净增$l_L$。

同理我们将小学向右移动时，左边有$\frac{n}{2}+1$个村庄距离增加$l_R$，右边有$\frac{n}{2}$个村庄距离减少$l_R$，总距离净增$l_R$。

由于$l_L$与$l_R$均为正整数，故选址在中间的村庄为最优方案。