考虑操作 2 结束后仍有怪物未被杀死，则将剩余的操作 1 提到操作 2 之前，答案不会变劣。因此，执行操作 2 后所有怪物一定被杀死。

进一步地，执行操作 1 前后怪物血量的相对大小不变（交换法可证）。

考虑到满足条件的血量集合形如 $1, \cdots, 1, 2, \cdots, 2, \cdots$，所以我们将 $a$ 从小到大排序，记 $c$ 表示上一只怪物的血量。若 $a_i = c$ 则不变，否则 $c$ 加上 $1$，答案再加上 $a_i - c$。

时间复杂度 $\mathcal{O}(n\log n)$ 或 $\mathcal{O}(n)$（桶排）。[代码](https://codeforces.com/contest/1785/submission/192284245)。