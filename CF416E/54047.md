看到这道题之后,我们第一反应肯定是一遍$Floyd$.
然后考虑一下怎么判断某条边是不是被最短路覆盖.
朴素的想法是我们每次枚举边,然后以这条边两条边的端点$u,v$再枚举这两个端点的所有最短路.
即判断 
$$dis(s,u)+w+dis(v,t)==dis(s,t)$$ 
或者
$$dis(s,v)+w+dis(u,t)==dis(s,t)$$

但是这样统计答案的话,由于边的条数为$n^2$的,所以这种算法的总复杂度为$O(n^4)$的.显然过不了
所以我们考虑一下怎么优化.
我们考虑上一个算法的时间复杂度的瓶颈,显然在我们枚举了$s,t$之后,因为还需要枚举每一条边,所以枚举边显然会超时.
所以我们考虑一下枚举完$s,t$之后不再枚举每一条边,而是去枚举每一个中转点$p$.
然后如果我们发现  
$$dis(s,p)+dis(p,t)==dis(s,t)$$
那么显然在$dis(s,p)$上以$p$结尾的边都是可以被加入的.
所以我们现在的问题就只剩下了怎么求在$dis(s,p)$上的点了.
发现我们就算暴力枚举每条边然后验证也并不会超时.
所以直接这样做就可以了