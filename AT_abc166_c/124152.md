其实没有必要把图建出来.

由于只考虑这个点和这个点相邻的点, 边读入边判断就行了. 

最开始假设 $n$ 个点都满足条件, 每读入一条边若 $a_u \ge a_v$, 那么 $v$ 不可能满足条件，同理对 $u$ 进行判断. 有可能一个点重复被判断成不满足条件, 所以要判断一下是不是第一次.

代码:

```cpp
read(n), read(m);
for (int i = 1; i <= n; ++i)    read(a[i]);
while (m--) {
    read(u), read(v);
    if (a[u] >= a[v] && (!b[v])) {
        --n;
        b[v] = true;
    }
    if (a[v] >= a[u] && (!b[u])) {
        --n;
        b[u] = true;
    }
}
printf("%d\n", n);
```