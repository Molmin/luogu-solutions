提高组选手偷偷溜来写题解，明天$rp++$

很容易得出，当工人$a$要生产第$L$阶段的零件时，轩轩要供给原材料，当且仅当存在一条$a$至$1$的路径，长度为$l$，使得$l\leq L$且$l,L$同奇偶。

这样对于每次询问，记$dis_{i,j}$表示从$a$出发到$i(1\leq i\leq n)$，路径长度奇偶性与$j(j\in\{0,1\})$相同的最短路。可以直接跑一个分层图最短路。单次时间复杂度$O(n)$，总复杂度$O(nq)$。$80$分到手。

事实上我们可以做得更好。发现每次终点固定为$1$，且图为无向图，完全可以从$1$出发，跑一遍最短路。总时间复杂度$O(n+q)$，可以拿到满分。