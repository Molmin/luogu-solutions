题解说的都好复杂，说说本蒟蒻的方法。

如果字符串确定，显然维护一个栈从左向右扫就行了

由于扫的时候会出现栈空的情况，这很不美观，于是我们考虑在栈的负半轴添上无数wbwbwbwbwb，扫一遍之后的答案就是栈中元素的个数的绝对值

于是可以化简成 $\sum\limits_{i=1, 2|x}^t C_n^{i}\times 2i$，直接写通过H1。进行一些代数变形，可以变成 $\sum\limits_{i=1}^t C_n^i$，是经典问题。