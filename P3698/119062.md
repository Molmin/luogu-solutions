树形dp题单怎么会有这题（

看了半天终于懂了。

---

考虑贪心

显然第一次走从根的最长链最优，记最长链长度为 $l$。

- 当 $N\le l$ 时，这时答案即为可走的步数 +1 （根节点）

- 当 $N>l$ 时，这时答案就是 $l+$ 剩下可以到达的不同点的个数。

我们发现，访问一个点要用 2 步，即为一去一回。

对于我们的最长链，我们肯定是到最后不会回到原来的点，即是访问完剩下可以走的点然后走最长链（或者是在最长链中顺便走剩下的点）。

对于样例 2，假设这里的最长链就是 $0->1->3->5$

那么这里的访问顺序应该是 $0->1->3->7->3->5$ (即为在最长链没访问完的时候顺便把剩下的搞掉)

于是答案就是 $min(V,l+\dfrac{N-(l-1)}{2})$，这里 $N-(l-1)$ 就是走完最长链剩下的步数。由于我们算的式子的值有可能大于 $V$，于是我们取两个的最小值。

代码很简单了，看懂了应该都能写出来（