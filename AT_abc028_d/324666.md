[题目传送门](https://www.luogu.com.cn/problem/AT1445)

## 思路

显然，考虑到选法是**有序**的，每次从 $n$ 种里面选 $1$ 种，总共有 $n^3$ 种选法。至于有多少种合法的选法，应该**分类对每次**讨论。

## 讨论过程

设第一次选 $x$，第二次选 $y$，第三次选 $z$。

### $1.x<k$

则 $x$ 有 $(k-1)$ 种取法，且 $y \ge k$。

#### $1.y=k$

则 $y$ 仅有一种取法，且 $z \ge k$，有 $(n-k+1)$ 种取法。

#### $2.y>k$

则 $y$ 有 $(n-k)$ 种取法，此时 $z=k$，仅有 $1$ 种取法。

**综上，这种情况共有 $(k-1)(2n-2k+1)$ 种取法。**

### $2.x=k$

则 $x$ 仅有 $1$ 种取法。

#### $1.y<k$

则 $y$ 有 $(k-1)$ 种取法，此时 $ z \ge k$，有 $(n-k+1)$ 种取法。

#### $2.y=k$

则 $y$ 有 $1$ 种取法， $z$ 不受限制，有 $n$ 种取法。

#### $3.y>k$

则 $y$ 有 $(n-k)$ 种取法，此时 $ k \ge z$，有 $k$ 种取法。

**综上，这种情况共有 $(n+(k-1)(n-k+1)+k(n-k))$ 种取法。**

### $3.x>k$

则 $x$ 有 $(n-k)$ 种取法，且 $ y \le k$。

#### $1.y<k$

则 $y$ 有 $(k-1)$ 种取法，此时 $ z = k$，有 $1$ 种取法。

#### $2.y=k$

则 $y$ 有 $1$ 种取法，则 $z \le k$，有 $k$ 种取法。

**综上，这种情况共有 $(n-k)(2k-1)$ 种取法。**

##
如此一来，代码实现就很简单了。

### CODE
```cpp
#include<bits/stdc++.h>
using namespace std;
long double n,k;//不开 long double 的话要在下面多次乘以 1.0
int main(){
	cin>>n>>k;
	cout<<fixed<<setprecision(15)<<
    	(k-1)*(2*n-2*k+1)/(n*n*n)
    	+(n+(k-1)*(n-k+1)+k*(n-k))/(n*n*n)
    	+(n-k)*(2*k-1)/(n*n*n)<<endl;
    	//小数点后保留 15 位只是为了保险
	return 0;
}
```

总的来讲这是一道数学题，要注意**有序**地枚举和讨论。