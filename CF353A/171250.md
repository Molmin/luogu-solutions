这道题目其实只有0，1，-1三种情况：考虑上下点数之和的奇偶性，若均为偶数，则次数为0，若一奇一偶，则一定不可能，故只需判断均为奇数时的情况。由于一个数加上一个偶数再减去一个偶数（或加上一个奇数再减去一个奇数），奇偶性不变，所以被翻转的牌上下点数的奇偶性一定不同，且只需翻转一块。

以下是代码：

------------

```cpp
#include<bits/stdc++.h>
using namespace std;
long long n,y,x,a,t,f;//定义变量
int main()
{cin>>n;//读入
 for(int i=1;i<=n;i++)
   {cin>>x>>y;//读入上下点数（无需开数组）
    t+=x;//t记录上点数之和
	f+=y;//f记录下点数之和
	if(abs(x-y)%2==1) a=1;//判断上下点数的奇偶性是否相同
   }
 if(t%2==0&&f%2==0) cout<<0;//若均为偶数，则次数为0
 else if((t+f)%2==0&&a==1) cout<<1;
      //若均为奇数，且存在上下点数奇偶性不同的牌，则翻转次数为1
      else cout<<-1;//否则一定不可能，输出-1
 return 0;
}
```