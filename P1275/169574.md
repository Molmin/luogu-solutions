[这道题](https://www.luogu.com.cn/problem/P1275)的思路总体比较明确。 

-----------------

### 思路

-----------

首先，介绍一个 `change​` 函数。

这道题目中的操作2表述为：

- 任选两列，交换其位置。

所以，我们可以先写一个函数用于完成这一个操作。

假设要交换 $x$ ， $y$ 两列，那么只需要一个简单的循环即可实现，上代码：

```cpp
void change(int x,int y){
    for(int i=1;i<=n;i++){
        swap(a[i][x],a[i][y]);
    }
}
```

当然，在我自己的代码中，直接把这几段内嵌主函数了，但其实用了两次，写个函数会更简洁。

-------------

接着，就是一个 `check​` 函数，用于比较交换后的 $x$ 列与目标的 $y$ 列的元素是否匹配。不加赘述，直接上代码：

```cpp
bool check(int x,int y){
	for(int i=1;i<=n;i++){
		if(a[i][x]!=b[i][y]){
			return false;
		}
	}
	return true;
}
```

-------------

至于第一项操作：

- 任选一行，改变该行中所有灯泡的状态，即亮的变暗、暗的变亮。

我们分析可以知道，对于每一行来说，最多只会进行一次这种操作。如果超过一次，进行了 $n$ 次这一种操作，就相当于进行了 $n\%2$ 次操作，是没有意义的。

因此，我们就没有必要再写一个函数来完成这个任务了，代码很短，直接内嵌即可。

-----------

总体来说，我们首先需要第一列与每一列交换的情况。

然后将变换后的魔板与目标的魔板进行对比，只要对比第一列的元素，如果不同，那么就将这一行全部进行第一项操作。

最后，对变换后的魔板，枚举第 $2$~$m$ 列与目标矩阵的 $2$~$m$ 列进行比较。如果是一样的话，就说明这一种交换方式是可行的。

-----------------

### 代码

总体来讲，这一道题的思路比较~~简单~~，容易理解。具体的实现看代码：

![](https://cdn.luogu.com.cn/upload/image_hosting/fsyjmao5.png)