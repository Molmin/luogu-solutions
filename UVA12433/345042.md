## Rent a car

[题目传送门](https://www.luogu.com.cn/problem/UVA12433)

看到还没有带图的题解，所以就来交一发有图的题解吧~

上面题解将费用流已经讲得很清楚了，这里主要讲一下建图，建好图后跑费用流即可。

![](https://cdn.luogu.com.cn/upload/image_hosting/5u1xzjku.png)

### 处理买车情况

1. S 向两个汽车公司连边。
2. 汽车公司向每天开始点连边。
3. 每天开始点向汇点连边。

### 处理修车情况

1. S 点向每天结束点连边。
1. 每天结束点向 $d_i+k+1$ 天的开始点连边，意思是修好的车可以用了。
1. 每天结束点向下一天结束点连边，**因为汽车在没有使用需求时，不一定要修好，放着备用（这里易错）**

有人会问，如果根本没有这么多车怎么办？

这个图就是建立在汽车足够多的基础上，跑完费用流后，最大流与所需汽车总和，大于则无解。

代码比较长，放[剪贴板](https://www.luogu.com.cn/paste/k8fw3q87)了。

