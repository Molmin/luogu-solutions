程序员发橙子题解

~~这道题蒟蒻我看了好久。。。。~~

首先一上来觉得是到模拟题，但是后来在想发现不太对，应该是道类似不降子序列的题。

先分析下题意吧：首先输入一个整数n，再给你一个长度为n的数组表示学生成绩，再按照成绩的好坏来分橙子，求如何分配这些橙子使得花费的橙子最少。

**解法**：

设输入的数组为$a$, 存每个学生分配的橙子数量的数组为$vis$

若$a[i-1] <a[i]$   那么$vis[i]=vis[i-1]+1$

同理若$a[i-1]=a[i]$ 那么根据题目要求$vis[i]=vis[i-1]$

就完了？

**恭喜你！WA了这道题！**

为什么？

我们还要再反着跑一遍啊！！！！

为什么要反着跑一遍？因为正着跑只能满足一个同学的要求啊！！！！！！

题目要求要满足所有同学！

那么按照上面的思路。。。

若$a[i-1] <a[i]$   那么$vis[i]=vis[i-1]+1$

**恭喜你！WA了这道题**

别忘了！此时$vis$已经不再纯洁了！已经有值了呀！

所以我们应该与$vis[i-1]$求个最大值

不过不管$vis$的值怎么变，若$a[i-1]=a[i]$ ,$vis[i]$ 还是等于$vis[i-1]$的

最后再把$vis$里面的所有东西加给最后的答案就好了

那么大体的思路到这里就结束了。不过还有一些坑，需要注意一下。

1. ans需要开unsigned long long要不然最后一个点会WA
2. ans在加之前需要赋初值为n，因为题目要求每个同学至少有一个橙子
3. 然后循环的时候注意要从2开始，要不然-1之后会爆掉
4. 。。。好像没了

那么来看代码吧

```c++
#include<bits\stdc++.h>//万能头文件
using namespace std;
int n;
const int N=1000010;
int a[N];
int vis[N];
int mian()
{
	cin>>n; 
	for(int i=1;i<=n;i++)
	{
		cin>>a[i];//输入
	}
	for(int i=2;i<=n;i++)//强调！！！！从2开始！！！！
	{
		if(a[i]>a[i-1]) //a[i-1]>a[i]
		{
			vis[i]=vis[i-1]+1;//那么对应的vis数组就应该+1
		}
		if(a[i]==a[i-1]) //等于的情况
		{
			vis[i]=vis[i-1];//正常赋值
		}
	}

	for(int i=n;i>=2;i--)//同理反着跑一边
	{
		if(a[i]<a[i-1])
		{
			vis[i-1]=max(vis[i-1],vis[i]+1); //千万不要写vis[i]=vis[i-1]+1
		}
		if(a[i-1]==a[i])//等于的情况
		{
			vis[i-1]=vis[i];//正常赋值
		}
	}

	unsigned long long ans=n;//要开unsigned long long,ans初值为n
	for(int i=1;i<=n;i++)//这个就不要从2开始啦
	{
		ans+=vis[i];//相加
	}
	cout<<ans<<endl;//输出
	return 0;
}
不要ctrl c+ctrl v!!!
已经加了反作弊！后果自负
```



蒟蒻的第一篇题解鸭。。。

管理大大幸苦了，祝洛谷越来越好！！，~~求通过~~

88



