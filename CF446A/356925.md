因为可以修改为任意整数，所以修改一定不会比不修改更劣。用 $s_i$ 表示以第 $i$ 位结尾的严格递增子段的长度，用 $t_i$ 以第 $i$ 位开头的严格递增子段的长度。

接下来分类讨论：

当 $a_{i+1}-a_{i-1}>1$ 时，说明可以更改 $a_i$ 使得左右两个严格递增子段变为一个。这时 $ans=\max(ans,s_{i-1}+1+t_{i+1})$。

否则 $ans=\max(ans,\max(s_{i-1}+1,t_{i+1}+1))$，即可以通过修改 $a_i$ 使它可以加到前面的严格递增子段的后面或后面的严格递增子段的前面。

这题就做完啦。