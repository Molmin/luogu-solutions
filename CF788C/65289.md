这篇的题解真的没有写到点子上的...

我解释一下为什么在做$\text{BFS}$的时候只要考虑$[-1000,1000]$范围内的节点，即使过程中可能出现不在这个范围之内的浓度和。

考虑最终选取的饮料，浓度为$a_1+a_2+...+a_m=0$。问题出在可能存在$a_1+a_2+...+a_k(k<m)\notin[-1000,1000]$。但是由于$a_i\in[0,1000]$，我们可以通过调整最终选取的饮料顺序，使得对于任意$a_1+a_2+...+a_{k-1}\leq0$，我们选取$a_k>0$作为第$k$个饮料；否则选取$a_k\leq0$。这样，就说明即使无视$[-1000,1000]$范围外的节点，依然可以找出一个满足条件的等价答案。