- **题意**：

$t$ 组询问，每次给定一个长度为 $n$ 的序列 $a$。定义数对 $(i,j)$ 是优美的当且仅当 $1\leq i<j\leq n,\gcd(a_i,2\times a_j)>1$。请求出将原序列重排后可以产生的优美数对个数的最大值。

$t\leq 1000,2\leq n\leq 2000,\sum n\leq 2000,1\leq a_i\leq 10^5$。

- **题解**：

考虑贪心，$2\times a_i$ 必定为一个偶数，容易发现偶数两两之间的 $\gcd$ 必定 $>1$ 。因此我们应该把所有的偶数放在所有奇数的前面，这样后面的奇数和前面的偶数必定不互质，比把奇数放在偶数前面要优。

于是我们直接把偶数放前，奇数放后，然后按照题意计算答案即可，时间复杂度为 $O(n^2\log a_i)$。

- [代码](https://www.luogu.com.cn/paste/xb3iey2p)