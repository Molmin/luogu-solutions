# P8924 「GMOI R1-T1」Perfect Math Class

遇题不决，暴力美学。

## 1.读题

第一眼看到题面上长长的一段函数，真的十分唬人。

简化一下题意。

- 有一个函数 $f(x)=a_kx^k+a_{k-1}x^{k-1}+\cdots+a_1x^1+a_0$。
- 用 `*` 和 `.` 组成的 $n\times m$ 的字符矩阵表示 $x$ 取 $0$ ~ $n-1$ 时的函数图像 。
- 若该函数经过整点 $(x,y)$，则**从左往右**第 $x+1$ 列，**从下往上**第 $y+1$ 行输出 `*`，否则为 `.`。
- 对于 $100\%$ 的数据，$-12 \le a_i \le 12$，$n = m \le 100$，$k \le 7$。

## 2.解题

如果不是因为看了一眼数据范围我就果断放弃这题了。

由于所有的数据都很小，所以我们可以考虑暴力。对于每一个 $x$，都求一遍 $f(x)$，然后把 $(x,f(x))$ 的位置打上一个标记（注意这里 $f(x)$ 可能过大，所以只需要把 $f(x)\le m$ 的情况打上标记就行了）。输出时，根据当前位置标记的有无，决定是输出 `*` 还是 `.`。

求一次函数值的时间复杂度是 $O(k)$，要求 $n$ 次函数值，所以总时间复杂度为 $O(k \times n)$。

**十年 oi 一场梦，不开 long long 见祖宗。** ~~不要问我怎么知道的~~

## 3.题解

蒟蒻代码，不喜勿喷。

```cpp
#include <iostream>
#define ll long long
using namespace std;
bool mp[1000][1000];//标记数组
ll num[1000];//即题面中的 a 序列
ll y[1000];//y[x] 表示 f(x) 的值
int main(){
	ll n,m,k;
	cin>>n>>m>>k;
	for(int i=0;i<=k;i++){
		cin>>num[i];
	}
	for(int i=0;i<n;i++){
		ll mi=1;
		for(int j=0;j<=k;j++){//求函数值
			y[i]+=(num[j]*mi);
			mi*=i; 
		}
		if(y[i]+1<=m) mp[i+1][y[i]+1]=1;//打标记
	}
	//由于打标记时是按照“从左往右，从下往上”的顺序存储的
	//所以输出时要外层循环由大到小，内层循环从小到大
	//标记数组二维坐标内外颠倒
	//详见下方输出部分
	for(int i=n;i>=1;i--){
		for(int j=1;j<=m;j++){
			if(mp[j][i]) cout<<'*';
			else cout<<'.';
		}
		cout<<endl;
	}
	return 0;
}
```
