来发题解

水的不能在水了，简直就是树链剖分裸题

题目要求：写一个数据结构，支持查询当前节点到根节点的权值为0的点并把他们改成1，以及将当前节点的子树（包括当前节点）的权值改成0。

十分熟悉有没有，就是洛谷上的链剖板子题啊

传送：https://www.luogu.org/problem/show?pid=3384

剩下的就简单了吧，对于操作1，有一个简单的操作方法就是当前节点的deep+1-更改之前的当前节点到根节点权值为1的节点的个数，很容易就实现了吧。
