## 题意

声明：这个翻译是直接从别人的题解中 copy 来的。

给定 $n$，使用 $1\sim n^2$ 间的每个整数构造一个 $n\times n$ 的矩阵满足矩阵中每一个数与它上下左右的任意一个数之差不等于 $1$。若不存在，输出 `-1`。

## 分析

这里的分析是在在线比赛时做题的一种策略。

看完题目之后首先看样例，发现等于 $1$ 的时候答案为 $1$，等于 $2$ 的时候是无解，等于 $3$ 有解。

看了看等于 $3$ 的结果，知道只有 $2$ 是无解的。所以就先把 $2$ 给特判掉。

然后思考按照奇偶来分的话能满足同是奇数或同是偶数的区间里是不存在差值为 $1$ 的情况，然后就考虑先输出所有奇数再输出所有偶数的方案，思考如何排列使得奇数偶数之间不相邻，贪心的想法，让奇数最大的和偶数最小的相邻，这样就不会出现错误情况，所以直接从小到大输出所有奇数，再从小到大输出所有偶数。

## 代码

```cpp
# include <bits/stdc++.h>
using namespace std;

int T, N;

int main () {
	cin >> T;
	while (T--) {
		cin >> N;
		if (N == 1) {puts ("1"); continue;}
		if (N == 2) {puts ("-1"); continue;}
		for (int i = 1; i <= N * N; i += 2) printf ("%d ", i);
		for (int i = 2; i <= N * N; i += 2) printf ("%d ", i);
	}
	return 0;
}
```

由于这道题的垃圾 SPJ 是读入数据再判断，没有看输出格式，所以输出根本不用换行。