[题目](https://www.luogu.com.cn/problem/CF1764C)。

首先通过题意，可以发现一个点若连了点权比它大的点，那它就不能再连点权不大于它的点。连了比它小的同理。然后就是比它大/小的数之间不能连。

第一种情况，不同的数有多个。

若一个点连和它不相等的点的贡献就是大于它的数和小于它的数中取最大值。

还有一种情况，就是所有点点权都相等，那么能产生的贡献就是 $\lfloor \frac{n}{2} \rfloor$。因为每个点的度最多为 $1$。

至于点权有多个的时候为什么不取每种点权，并两两之间连边呢？

因为这样显然是不优的。

感性理解一下，若一种点权出现的次数很少，它对答案的贡献也很少，少它一个也没关系。

若一种点权出现的次数很多，那么我们完全可以通过取比它大/小的将这种点全取了。