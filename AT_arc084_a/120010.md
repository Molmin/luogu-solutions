本**蒟蒻**的第一篇题解

**ARC084**的第一题

被选入了我的一场模拟赛中

总体来说还是一道~~简单题~~（大雾）

但还是没能一刀切，在IOI赛制的加持下，提交$N$次才过

------------
# 题目大意

**给定三个长度为$n$的序列：$A_{1,2,3...n}$;$B_{1,2,3...n}$;$C_{1,2,3...n}$**
 
**求有多少个三元组（$i$,$j$,$k$）**

**满足$1≤i,j,k≤n$ 且 $A_{i}$＜$B_{j}$＜$C_{k}$**

**($1≤n≤10^{5},1≤A_{i},B_{j},C_{k}≤10^{9}$)**

# 解释
**很显然$O(n^{3})$或$O(n^{2})$的暴力是必定会$TLE$的，所以我们得使用一些别的东西**

**我们首先将三个序列进行 _从小到大排序_ （题目要求摆在那儿，这样更加方便）**

**由于序列$B$位于中间，so它与剩下的两个序列$A$，$C$都关联，而$A$和$C$都只与$B$关联，所以我们将$B$作为主要对象，对剩下两个序列进行操作**

**先前已经进行过排序操作，因此我们只要对于每一个$B_{j}$找到其对应的$A_{i}$和$C_{k}$，使得它们分别是 小于$B_{j}$最大的$A_{i}$和 大于$B_{j}$最小的$C_{k}$** 

**这时更新答案，$Ans+=i×(n-k+1)$**

# 代码
```cpp
#include<bits/stdc++.h>
using namespace std;
long long n,a[100010],b[100010],c[100010],sa,sb;
long long ans;
int main(){
	scanf("%lld",&n);
	for(int i=1;i<=n;i++)scanf("%lld",&a[i]);
	sort(a+1,a+n+1);
	for(int i=1;i<=n;i++)scanf("%lld",&b[i]);
	sort(b+1,b+n+1);
	for(int i=1;i<=n;i++)scanf("%lld",&c[i]);
	sort(c+1,c+n+1);
	sa=sb=1;
	for(int i=1;i<=n;i++){
	    bool f=0;
	    for(int j=sa;j<=n;j++)
	    if(a[j]>=b[i]){
	            f=1;
		    sa=j;
                    //因为这里找到的是第一个大于等于Bj的Ai
                    //所以计算时记得-1
		    break;//一定要跳出循环啊
	    }
	    if(!f)sa=n+1;
	    f=0;
	    for(int j=sb;j<=n;j++)
	    if(c[j]>b[i]){
		    sb=j;
		    f=1;
		    ans+=(n-sb+1)*(sa-1);//更新答案
		    break;
	    }
	    if(!f)sb=n+1;
	}
	printf("%lld",ans);
	return 0;//好习惯
}
```


------------
如若码风引起不适，勿喷

事实上，使用二分会更优，但本蒟蒻不会啊qwq！！！