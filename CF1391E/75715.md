首先对这个图构造 $\text{DFS}$ 树。

然后分类讨论：

+ 如果这棵树的深度至少为 $\lceil \frac{n}{2}\rceil$ ，那么直接选择路径即可。
+ 否则在每一层中不断选择点对，使得这一层里最多一个点没有被选上。

第二种情况的正确性：

对于任意两个点对 $a,b$ 与 $c,d$ ，$\text{dep}_a=\text{dep}_b$，$\text{dep}_c=\text{dep}_d$ 。不妨设 $\text{dep}_a<\text{dep}_c$ 。同层结点不会有边，那么对于两个不同层的结点，只有可能是父亲或者返祖边。

+ 如果是返祖边，由于 $a,b$ 每个点只能由一个返祖边，所以最多两条边。
+ 如果是父亲，并且 $a,b$ 有不同的父亲，那么必然一个节点只有一个父亲。
+ 如果是父亲，并且 $a,b$ 的父亲相同，那么必然 $c,d$ 中一个点有两条边，另一个点没边。

所以最多两条边。

另外因为不足 $\lceil\frac{n}{2}\rceil$ 个层，所以一层最多一个点没有被选上。所以点数至少 $\lceil\frac{n}{2}\rceil$ 个。