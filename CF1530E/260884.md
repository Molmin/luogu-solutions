**题意**
- 给你一串字符，让你将其重排，使得对该字符串的前缀数组（是的就是kmp用的）的最大值最小，输出字典序最小的满足要求的重排方案。
- 字符长度总和不超过 $10^5$ 。

**做法**
- 你知道前缀数组的很多性质，但显然这里用不上，我们需要考虑最简单的一些问题：什么情况下，答案很容易求？
- **全是一种字符**！重排显得毫无意义，前缀数组最大值为$|s|$，直接输出原字符串。
- **有一种字符只有一个**！将那个字符调到最前面，前缀数组全 0，找到字典序最小的只有一个的字符调到前面，其余按照字典序输出。
- 如果是一个任何种字符都有多于一个的那显然至少前缀数组的最大值为 1，然后我们就直接想一下什么情况的最大值为 1。
- 容易给出一组构造：$xy\dots yx\dots x$，$x$是一种字符，$y$是其它字符，所以不是前面两种情况我们只考虑最大值等于 1 的情况
- 考虑什么情况字典序最小？
- 显然最小的字符要最先出现，且不能出现多于两次
- 我们考虑什么情况能够出现两次，什么情况不能
- 如果最小字符在开头连续出现了两次$aay\dots $后面决不能（而且也是唯一要防止的）就是**连续出现两个**$a$，我们可以$aayayayayay\dots$的错开放（其实这样也同时使得字典序最小），如果这样还不能避免的话就只能出现一次，否则我们可以使$y$按字典序输出。
- 如果最小字符在开头出现了一次，那第二个字符后显然可以放很多连续的最小字符$ayaa\dots ay\dots$，发现问题了吗？$ay$与$ay$重叠了，处理方法是**如果存在字典序次于 $y$ 但存在的其它字母**就将它顶上第二个$y$，如果没有，非常遗憾，只能采取$ay\dots ya\dots a$的方式输出。
- [代码实现](https://www.luogu.com.cn/paste/wds1qfsg)。