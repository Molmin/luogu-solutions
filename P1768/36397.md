 吐槽：

开始变量名打错了，debug半小时，气死我了。

这告诉我们做题尤其是打代码一定要细心。

 

解：
根据题面则有Σvi/Σpi=r
=> Σvi=Σpi * r 
如果r不是最优解，那么一定有 
Σpi * r -Σvi <=0
即图中的环的满足以下性质。
对于r,我们可以二分答案，那么此时
每条边的边权为pi*r - vi
那么如果在此时的图中存在负环，说明r偏小就调大。
否则调小。
[代码](http://www.cnblogs.com/adelalove/p/8493662.html)