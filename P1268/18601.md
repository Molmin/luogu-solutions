#思考过程

结论：矩阵中的任意M（i，j）表示的其实就是i到j的最短路径。

证明：

反设M（i，j）不是最短路径，则一定存在一个k，使得M（i，k）+M（k，j）<M(i,j),而题目中说对于任意的k均满足：M[i,j] + M[j,k] >= M[i,k]，矛盾！


不妨以一号节点为根，根据两两点之间的最短路径建出的树应该都是同构的，题目中要求的树的重量实际上就是这些同构的树中边权和最小的那个，那如何建造边权和最小的那个呢？

借用一下楼下的图<https://cdn.luogu.com.cn/upload/pic/1523.png>

用蓝边连接4号节点比用红边连接4好节点所得到的树边权和更小，因为有一部分可以共用就节省了开销。那么根据这个可以有个很直观的感受，使所有的非叶子节点尽可能地靠近叶子节点，远离根节点，使公共部分尽量多，这就是题目的本质。

具体的实现过程与代码楼下已经很详细了。
