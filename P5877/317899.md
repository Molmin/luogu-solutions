暴力解法是搜索，用深度优先搜索或广度优先搜索均可。模板题是这道题，在这里需要判定一下颜色是否统一即可。时间复杂度：$O(n^2m)$。可以拿到 $60$ 分的成绩。

分析问题，发现这题也可以使用并查集来解决。每次插入时，如果四周全是空的或异色棋子，那么就把连通块数量加 $1$。否则这个棋子一定不会创建新的连通块，而是会合并到周围的棋子中。

然而还有一种情况，就是新加的棋子“搭出了一座桥”，也就是说把两个连通块连在一起，那么就反而要把连通块数量减一。判断是否搭出桥梁只需要用并查集判断即可（`find()` 函数返回值不一样）。具体可以参照样例 2。

二维前缀和稍微还是考一些代码能力的。代码参见洛谷云剪贴板：<https://www.luogu.com.cn/paste/nnwkcoe4>