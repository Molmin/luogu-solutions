思维难度题，码量很小。

考虑将这组套娃用一组链表来表示。

若 $x$ 指向 $y$，则表示套娃 $x$ 里面包含套娃 $y$。

那么这个时候看所给的两种操作：

操作 $1$ 其实就相当于这个节点放在链表的开头。

操作 $2$ 其实就相当于把链表的开头去掉。

那么很容易发现，两种操作均在链表的开头进行。换而言之，我们的思路就是从链表的尾部开始确定。

再换而言之，我们的最优策略即是保留初始局面与目标局面的尾部（即从小到大排序中靠前的部分）相同部分。

那么对于不同的部分，则必须把套娃拆开才能放到里面，这就是我们要统计的花费。

而对于尾部的相同部分无需操作，那么对于这样的两个相邻而不用拆开的套娃则直接把统计的操作步数减 $2$ 即可。

从而思路就很明显了：从初始局面和目标局面都是最小的套娃开始分别往比它更大的套娃找，相同则减去 $2$ 次操作，直到发现不同即可。

代码就不贴了。