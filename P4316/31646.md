这题蒟蒻想了整整一天QWQ

这里讲一下顺推和逆推是怎么来的，怎么想的以及他们的区别，希望对像我一样初学期望DP的萌新有所帮助

### 顺推
- 首先上公式

###### $f[i]=sigma (f[j]+w(i,j)*p[j])/du[j]$
- 其中$f[i]$表示$1-i$的期望距离,$j$是$i$的前驱结点(~~我也不知道能不能这么说,懂我意思就好~~),$du[j]$表示$j$的出度,$w(i,j)$表示边权
- $p[j]$表示从起点走到$n$的概率,怎么算呢?
###### $p[i]=sigma(p[j]/du[j])$
- 这里$j$同样是$i$的前驱结点
- 为什么要乘上$p[j]$呢?因为你首先要到达这个点才可能走这条边呀(这个公式涉及到期望的一些知识,今天又主要讲顺推与逆推的区别,就不详细地推了(才不是我不会),但这样讲完~~感性~~理解应该也能看懂)。

### 逆推
- 公式

###### $f[i]=sigma(f[j]+w(i,j)*p[j])/du[i]$
- 除了$p[i]$以外每个变量的含义都与顺推相同,在此就不赘述了
- (~~妈妈这个人骗我~~,我看别的题解逆推不需要乘$p[j]$的!)
- 别急啊,不是说了这里的$p[i]$不一样嘛QWQ

##### 这里的$p[i]$表示从$i$走到终点的概率(理由和顺推一样~~显然~~)

- 显然,不管你从哪个点开始,最后都要到达终点,所以所有的$p[i]$都等于1(不信可以写个公式把每个$p[i]$推出来),所以反映到公式中就可以去掉啦,这就是很多$dalao$直接上逆推的原因,因为可以少算一个$p[i]$

- 代码嘛...~~我觉得楼下都很清楚~~,主要是理解思路嘛qwq
- ~~听某位$dalao$说$CSP$之前写题解可以让$RP+=MAX          LONGINT$~~

最后，在$CSP$的前夕

# 祝所有奋斗在前线的$OIer$,$CSP 2019 RP++!!!$