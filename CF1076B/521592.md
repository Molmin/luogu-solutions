我们分两种情况考虑。
1. $n$ 是偶数。一个偶数的最小质因数一定为 $2$，所以一开始 $n$ 就会减去 $2$。由于 $2$ 也是偶数，所以 $n-2$ 还是偶数，那么第二次还是减去 $2$。$n-2$ 减去 $2$ 后还是偶数，所以又会减 $2$……如此反复直到 $n$ 变成 $0$。总的操作数是 $\dfrac{n}{2}$。时间复杂度为 $\Theta(1)$。
2. $n$ 是奇数。在这种情况下，$n$ 的最小质因数一定是一个奇数。$n$ 在减去这个数之后就变成了偶数，又变成了第一种情况了。我们可以先找出这个最小质因数，把 $n$ 减去它，再按第二种情况处理。时间复杂度为 $\Theta(\sqrt{n})$。

下面给出代码（C++）：
```cpp
#include <bits/stdc++.h>
using namespace std;
int main(){
	long long n,a=0,f;
	scanf("%lld",&n);
	if(n&1){
		f=0,a=1;
		for(long long i=2;i*i<=n;i++){
			if(n%i==0){
				n-=i,f=1;
				break;
			}
		}
		n*=f;
	}
	printf("%lld",a+n/2);
	return 0;
}
```