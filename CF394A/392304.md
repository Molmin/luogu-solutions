### 题意：

给你一个火柴棒表达式，求移动一根或不移动火柴棒能否使表达式成立，若能则输出成立的表达式。

### 解法：

>学霸题，使它成立。
>
>分类讨论法，从左往右数。

这种很多 `或` 字的题肯定要分类讨论了。

然而首先我们需要把数据读进来。

```
|||+||=|||||
```

这种数据怎么读呢？正好，有一个函数 `getline()`，其第一个参数是输入的定向，第二个参数为要读入的字符串（`string`），而可选的第三个参数刚好是我们所需要的——读入的终止字符。于是我们只需要：

```cpp
getline(cin,a,'+');getline(cin,b,'=');getline(cin,c);
```

即可。那么读出来的字符串的长度就是火柴棒的数量。我们设这三堆火柴棒数量分别为 $x,y,z$。

接下来就要分类讨论了——

1. 等式原本就成立

直接输出。

2. 等式不成立，需要从左边移动一根到右边。

这时就有一个问题，是移动 $x$ 还是 $y$ 呢？

既然从一堆火柴棒中移出一根会使数量 $-1$，那么选的火柴棒肯定不能只有一根了。因此我们移走火柴棒数量大于 $1$ 的那一根。

那么会不会有两堆都为 $1$ 根的情况呢？由题意可以知道，这种情况下一定有 $x+y-1=z+1$，则 $x=y=1$ 时 $z=0$，不符合题意。因此我们不需要考虑这种情况。

3. 等式不成立，需要从右边移动一根到左边。

和上面一样，我们可以得到 $x+y+1=z-1$。考虑 $z=1$ 的极端情况，此时 $x+y=-1$，可是 $x,y \geq 1$，因此我们也不需要考虑这种相当离谱的情况，直接把 $z-1$，$x$ 或 $y+1$ 就可以了。

4. 等式不成立，左边也不能移到右边，右边也不能移到左边。

无解。

因此代码就出来了。个人建议写一个函数便于输出。

```cpp
#include<bits/stdc++.h>
using namespace std;
#define return while(1)
int x,y,z;
string a,b,c;
void pt(int n){
	for(int i=1;i<=n;i++) cout<<"|";
}
int main(){
	getline(cin,a,'+');
	getline(cin,b,'=');
	getline(cin,c,'\n');
	x=a.size(),y=b.size(),z=c.size();
	if(x+y==z){
		pt(x);
		cout<<"+";
		pt(y);
		cout<<"=";
		pt(z);
		return 0;
	}
	if(x+y+1==z-1){
		pt(x+1);
		cout<<"+";
		pt(y);
		cout<<"=";
		pt(z-1);
		return 0;
	}else if(x+y-1==z+1){
		if(x>1) x--;
		else y--;
		pt(x);
		cout<<"+";
		pt(y);
		cout<<"=";
		pt(z+1);
		return 0;
	}else cout<<"Impossible";
	return 0;
}
```

>结果算出来，你学会了吗？