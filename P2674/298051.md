神秘推/猜式子题：
![](https://cdn.luogu.com.cn/upload/pic/1743.png)

从行考虑：  
首先由于是平面图形，盲猜是一个二阶多项式，联想使用求导来求连续二次多项式的式子，考虑使用差分来求离散二次多项式的式子：（为了直观在每种数的第 $0$ 位插入了一个 $0$）
* 三角形数的差分结果：`1 2 3 4 5 6 7 8`
* 正方形数的差分结果：`1 3 5 7 9 11 13 15`
* 五边形数的差分结果：`1 4 7 10 13 16 19 22`
* 六边形数的差分结果：`1 5 9 13 17 21 25 29`

显然，$k(k \geqslant 3)$ 边形数差分后为首项为 $1$，公差为 $k-2$ 的等差数列。又由于 $k$ 边形数的第 $n$ 个即为差分后前 $n$ 项的和，所以 $k$ 边形数的第 $n$ 个数 $f(n,k)$ 为：
$\frac{1}2(1+(n-1)(k-2)+1) \times n$  
$=\frac{1}2n(2+(n-1)(k-2))$  
$=n+\frac{1}2(k-2)n(n-1)$

由于 $k \geqslant 3$，所以对于任何一个数 $v$ **只有约 $\sqrt{2v}$ 个 $n$ 可能与其对应**。  

又因为 $v \leqslant 10^6$，所以每次询问最多只需要枚举约 $1410$ 个 $n$。而确定 $n$ 后原式即为关于 $k$ 的一次函数，显然可用 $O(1)$ 时间解决。总复杂度为 $O(T \sqrt n)$，$T \leqslant 100$ 所以可轻松通过。  

**特别注意：**  
由于 $n=2$ 时 $f(n,k)=k$ 且 $k \leqslant 3$，所以只有 $1,2$ 无法通过 $n=2$ 取到，而其中 $v=1$ 的时候 $n=1$ 时可取到，即只有 $v=2$ 无解而 $v=1$ 的时候两个解都在 $n=1$，这两个需要特判输出。

代码：
```c++
#include <cstdio>
int T,v,n;
int a[1010],top;
int main()
{
    for(scanf("%d",&T);T--;)
    {
        scanf("%d",&v);
        if(v==2) {printf("Poor%d\n",v);continue;}
        if(v==1) {puts("3 4");continue;}
        for(top=0,n=2;n*(n+1)/2<=v;n++) if(!((v-n)%(n*(n-1)/2)))
            a[top++]=(v-n)/(n*(n-1)/2)+2;
        if(top>=2) printf("%d %d\n",a[top-1],a[top-2]);
        else printf("%d\n",a[top-1]);
    }
}
```

[AC 记录](https://www.luogu.com.cn/record/83034191)