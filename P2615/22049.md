思路：这题算是水题了，根据题目中的条件来写，几个if直接搬上去即可


代码如下：


```cpp
#include <bits/stdc++.h>
int main()
{
    int n,i,j;
    int x,y;//记录k-1这个点的坐标,x行,y列 
    int a[40][40]={0};
    scanf("%d",&n);
    a[0][n/2]=1;
    x=0;
    y=n/2;
    for(i=2;i<=n*n;i++)
    {
        if(x==0&&y!=(n-1))//若(K-1)在第一行但不在最后一列，则将K填在最后一行，(K-1)所在列的右一列；
        {
            a[n-1][y+1]=i;
            x=n-1;
            y++;
        }  
        else if(x!=0&&y==(n-1))//若(K-1)在最后一列但不在第一行，则将K填在第一列，(K-1)所在行的上一行；
        {
            a[x-1][0]=i;
            y=0;
            x--;
        }
        else if(x==0&&y==(n-1))//若(K-1)在第一行最后一列，则将K填在(K-1)的正下方；
        {
            a[x+1][y]=i;
            x++;
        }
        else if(x!=0&&y!=(n-1))//若(K-1)既不在第一行，也不在最后一列，如果(K-1)的右上方还未填数,则将K填在(K-1)的右上方，否则将K填在(K-1)的正下方
        {
            if(a[x-1][y+1]==0)
            {
                a[x-1][y+1]=i;
                x--;
                y++;
            }
            else
            {
                a[x+1][y]=i;
                x++;
            }
        }
    }
    for(i=0;i<n;i++)
    {
        for(j=0;j<n;j++)
        {
            printf("%d ",a[i][j]);
        }
        printf("\n");
```
}//输出矩阵
    return 0;

}