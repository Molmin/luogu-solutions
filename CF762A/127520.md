~~洛谷网校讲得题马上来水题解~~
我们得弄清楚，只需要把1到$\sqrt n$扫一遍就能弄清楚n有哪些因数。

问题来了：怎么把因数直接按小到大排好？时间复杂度只允许我们用O(1)方法存储每个因子。

**双端队列**了解一下~~不会问度娘~~，我们需要**倒序**从$\sqrt n$扫描到1，每次扫到因数就将**大**因数从后面加入队列而将**小**因数从前端插入，这样扫描完就可以将所有因数排好，又因为双端队列可以**直接访问**，最后输出答案时也可以**直接输出**。

而直接求$\sqrt n$，就用自带的**向下取整**就可以了。

最后一点 **不开LL见祖宗鸭！**

根据思路打出代码 ~~好短~~

```
#include <bits/stdc++.h>
using namespace std;
long long n,k,i;  //变量命名
deque<long long> q;   //双端队列
int main(){
cin>>n>>k;    //输入
for(i=floor(sqrt(n));i>=1;i--)   //从根号n扫描到1
if(n%i==0){      //不要忘记判断整除
if(i*i!=n) q.push_front(i),q.push_back(n/i);   //如果两个因数不同就都塞进队列
else q.push_front(i);   //两个因数相同时只可能是一开始队空，前后都可以
}
if(q.size()<k) cout<<-1;  //如果没有k个因数则无解
else cout<<q[k-1];   //记住双端队列数组从0开始，所以要k-1
return 0;
}
```

谢谢大家！