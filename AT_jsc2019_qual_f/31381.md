略有难度的组合计数题。涉及多步转换，每一步难度都不大。

首先有一个简单的结论：对于长度为 $n$ 的非负整数序列 $\{a_{1..n}\}$ ，若 $\sum a_i=s$，则符合条件的 $\{a_{1..n}\}$ 个数为 $\binom{s+n-1}{n-1}$ 。证明的方法是隔板法，将 $s$ 个球和 $n-1$ 块板任意排列。如果是 $\sum a_i\le s$，就相当于再加了一个元素 $s-\sum a_i$，方案数为 $\binom{s+n}{n}$ 。

设降序排列后为 $\{b_i\}$ 。

首先，发现按原条件不太可做，如果是先数降序排列的个数，则还要乘以一个可重复元素排列数，而 $b_m=b_{m+1}=x$ 中这个 $x$ 还可能出现在 $m$ 左边和 $m+1$ 右边，数量难以统计。

考虑正难则反，算 $b_{m}>b_{m+1}$ 的方案数，最终用总方案数减掉。

首先，显然的转换是去掉 $\sum a_i$ 的左边界，变成 $\le R$的方案数减 $\le L-1$的方案数。

枚举 $b_m=x$ 。此时要算出有 $m$ 个数 $\ge x$，有 $n-m$ 个数 $<x$ ,至少一个数 $=x$ 的方案数。为了排除第三个条件，继续作差。定义 $f(x,y)$ 为 $m$ 个数 $\ge x$ ，$n-m$ 个数 $\le y$ 的方案数，则 $b_m=x$ 的方案数为 $f(x,x-1)-f(x+1,x-1)$。

再考虑如何求 $f(x,y)$ 。

首先乘上系数 $\binom{n}{m}$ ，枚举哪 $m$ 个 $\ge x$。对于 $m$ 个数 $\ge x$，直接每个数减 $x$ 。对于 $n-m$ 个数 $\le y$，二项式反演，枚举哪 $k$ 个强制 $>y$ ，就把这些数每个减 $y+1$ 。

最终得到：

$$f(s,x,y)=\binom{n}{m}\sum_{i=0}^{n-m}(-1)^i\binom{n-m}{i}\binom{s-mx-i(y+1)+n}{n}$$

由于 $s-mx-i(y+1)$ 必须 $\ge 0$，所以是调和级数的复杂度。