本蒟蒻在刚看到这道题时，还以为是一个可以直接拆点跑费用流的题，但发现总是很难满足一次必须选取一行或一列的约束，并且时间复杂度也不太对，直到看了官方题解，才恍然大悟。

**建模**

考虑最小割。

注意到，题目中必须一次性选完一整行或一整列，那么我们可以考虑以一整行和一整列为点。

具体建图我们先以行为例，我们考虑将整个矩阵的正点权加起来，然后将源点向每一行 $i$ 对应的点 $l_i$ 连一条容量为这一行的负点权和的绝对值的边，若将这条边割去，则表示选了这一行。同理，我们将每一列 $j$ 对应点 $c_j$ 向汇点连一条容量为这一列的负点权和的绝对值，若将这条边割去，这就表示选了这一列。

接着，我们考虑如何做到不选该行 / 列，以及满足点权为负的位置的那一行和那一列不能同选的约束。设第 $i$ 行第 $j$ 列的点权为 $a_{i,j}$，那么若 $a_{i,j}>0$，就将点 $l_i$ 向点 $c_j$ 连一条容量容量为 $a_{i,j}$ 的边，若将这条边割去，则表示没选这个点，此时，我们可以注意到每一行 $i$ 的正权点都向该行对应的点 $l_i$ 连了一条容量为点权的边，而若是将这些边割去，就意味着没选这些边，在列上也同理。

那么我们只剩最后一个约束没有满足了，那就是负数的行列不能同选。那么如何满足这个约束呢，考虑当没有该限制时一个负权点 $(i,j)$ 若是该行 $i$ 该列 $j$ 都被选了，则意味着源点连向 $l_i$ 的边和 $c_j$ 连向汇点的边都在最小割中，那也就意味着一定存在一条源点到 $c_j$ 的路径（否则就可以不割去 $c_j$ 到汇点的边），同理，也一定存在一条 $l_i$ 到汇点的路径，那么我们只要由 $c_j$ 向 $l_i$ 连一条容量为 $inf$ 的边（注意，在这里 Atcoder 的英文官方题解貌似写错了写成了 从 $c_i$ 连向 $l_j$，但代码和日文题解中并无该问题），这就保证了如果同时割去了源点连向 $l_i$ 的边和 $c_j$ 连向汇点的边也总有一条路径使得源点可以到达汇点，也就使得这两条边不能同选。

最后我们将正点权和减去最小割即可。

附上 [Andy](https://www.luogu.com.cn/user/346119) 巨佬提供的关于日文官方题解第二篇高超[建模方式](https://www.luogu.com.cn/fe/api/problem/downloadAttachment/a0nyb48g)