我用的也是树状数组 + 离散化 +离线

把原来的海拔和操作后的海拔都读进来，离散化后将这个值排序后的位置作为权值

然后在初始的海拔找出山峰和低谷（即$A_i > A_{i-1} && A_i > A_{i+1} $或$A_i < A_{i-1} && A_i < A_{i+1} $）

可以发现一个海拔以上的连续的 = 山峰的数量 - 低谷的数量

然后就可以用树状数组来统计了

对一个点修改的时候要注意这个点和它两侧的点，看他们是否会变成山峰或低谷

跟楼下的孔爷交流了一下，发现貌似是对的（还有海拔相同的需要处理一下）

~~至于为什么没代码，因为我太弱了，只有思路完全调不出来，希望dalao们帮我补上~~
