先想一个比较明显的“合并”方法。

从小到大合并每一个 $2^k$ 的区间，具体合并方法就是做 $f(x,x+(1<<(k-1))$对于所有的 $x\&((1<<k)-1)<(1<<k-1)$。

这个代码很像 FFT，所以是 $\log$ 级别的:

```cpp
inline void work(re int n,re int k){
	for(re int j=0;(1<<j)<=n;++j)
	for(re int ii=1;ii+(1<<j)<=n;ii+=(1<<(j+1))){
		for(re int i=ii;i<ii+(1<<j);++i)
		ans1[++m]=i+k,ans2[m]=i+k+(1<<j);
	}
}
```

但这样完全没有到题目的精髓，两种颜色？

一个很巧妙的思路（我也不知道怎么想到的），直接用两个区间覆盖，类似 ST 表，这样就可以恰好两种颜色了！
