看到大佬们都是用 C++，本蒟蒻就来一篇 Python 题解。
## 题意
一个整数 $1$，要将他执行 $30$ 次乘 $3$ 的操作。但是在一次操作执行完成后将这个数加上了 $1$。让你找出这次操作是第几次。如果数字在最后被替换就输出 $-1$。输入为最终执行完成的整数。

## 解决
很明显，我们可以倒推着求，每次将他除以 $3$。如果出现该数除以 $3$ 的余数为 $2$ 时，那么肯定无解。或者一共出现 $2$ 次及以上的除以 $3$ 的余数为 $1$ 时，也是无解。否则，如果最后的结果刚好为 $1$，那么有解。这是因为数据不可能是 $3^{30}$，所以必定有一次操作。

## 代码
难度不大，直接模拟。具体看代码注释。
```python
x=int(input())
i=30
# 循环30次，注意是倒着来
f=0
ans=0
#初始化
while i>0:
    if x%3==2:
        print("-1")
        exit()
    # 如果出现该数除以 3 的余数为 2，输出 -1 并退出
    elif x%3==1:
        if f==1:
            print("-1")
            exit()
        # 如果出现该数第 2 次除以 3 的余数为 1，输出 -1 并退出
        else:
        # 记录已经有一次除以 3 的余数为 1，注意要将数字 -1，并且将目前将答案设为当前的 i。
            f=1
            ans=i
            x=x-1
    # 把 x 除以 3。
    x=x/3
    # 把 i 减去 1，继续循环
    i=i-1
# 如果最后为 1，输出储存的答案。
if x==1:
    print(ans)
# 否则就无解
else:
    print("-1")
```