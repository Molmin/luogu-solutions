虽然本题贴心地给出了简要题意，但是对于我来说，还是原题面更好理解一些。

从题目中可以得到第 $0$ 格对折时没有与它相对的格，因此第 $0$ 格的颜色最大就到 $1$，如果超过 $1$，则无解。

对于一般的格子，我们发现，如果最后显示的颜色为 $0$ 或 $2$，那么两个格子的颜色只有一种情况，$0$ 的时候两个格子都是白色，$2$ 的时候两个格子都是紫色，而只有 $1$ 的时候，两个格子的颜色不同，这时会有两种情况，一号格子为紫色二号格子为白色，或者一号格子为白色二号格子为紫色，因此我们发现，将 $x$ 化为三进制数后，只有 $1$ 会对答案有贡献（$0$ 号格子的除外），因此只要统计 $1$ 的个数即可。

上代码。

```c++
#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

ll x, T, cnt;
int col[1010];

void work(int* s) {
	if (s[0] == 2) { // 第0号格为2,无解
		puts("0");
		return ;
	}
	ll ans = 1;
	for (int i = 1; i < cnt; ++ i) {
		if (col[i] == 1) { // 颜色为1会有两种情况,乘2
			ans *= 2;
		}
	}
	printf("%lld\n", ans);
}

int main() {
	scanf("%lld", &T);
	while (T --) {
		cnt = 0;
		scanf("%lld", &x);
		while (x) { // 化为三进制数
			col[cnt ++] = x % 3;
			x /= 3;
		}
		work(col);
	}
}
```