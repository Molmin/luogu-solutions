没想到吧，我到现在才学会线性基。

[题目传送门](https://www.luogu.com.cn/problem/CF959F)。

同步发表于我的 [$\text{cnblogs}$](https://www.cnblogs.com/UperFicial/p/16690617.html)。

先把询问离线下来，按照 $l$ 升序把元素插入进线性基，并维护线性基内元素个数 $t$。

若 $x$ 不能被线性基内的元素表示出来，那么答案显然为 $0$。

否则，考虑到线性基的唯一性，$x$ 只能被一组元素表示，所以只需要考虑不在线性基内的元素有多少个，这些数都可以将这一组中的某一个元素替换掉。

线性基内元素一共有 $t$ 个，一共有 $l$ 个数，不在线性基内的数有 $(l-t)$ 个，每一个数有两种选择，替换或者不替换，所以答案是 $2^{l-t}$。阶乘预处理即可。

**PS：** 笔者在翻看题解时注意到一个非常有趣的现象。在最早的题解[这篇](https://www.luogu.com.cn/blog/user7035/solution-cf959f)，作者将 $t$ 的意义错写成不在线性基的元素个数，之后两篇题解都写的是这个含义，有点震撼了属于是/流汗黄豆（

[代码](https://codeforc.es/contest/959/submission/172028702)。