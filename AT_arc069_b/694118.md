[原题链接](https://www.luogu.com.cn/problem/AT_arc069_b)

[AtCoder 链接](https://atcoder.jp/contests/abc055/tasks/arc069_b?lang=ja)

题目大意：

有一个人养了一群动物。这群动物里每一只动物不是狼就是羊，羊只说真话，狼只说假话。这个人脸盲，无法分辨羊和狼。一天，他为了分辨出每只动物是羊还是狼，把动物们排成了一圈，分别对每只动物询问：“你两旁的动物种类相同吗？”如果命题为真，羊回答 $\texttt{o}$，狼回答 $\texttt{x}$，否则羊回答 $\texttt{x}$，狼回答 $\texttt{o}$。$\texttt{S}$ 代表羊，$\texttt{W}$ 代表狼，如果有多组排列符合，输出字典序最小的动物种类排列。如果没有，输出 $\texttt{-1}$。

思路：

为了让后面的计算方便，我们可以把第 $1$ 个字符添加到回答的字符串 $s$ 后面去。

我们可以发现，如果第一只动物和第二只动物的种类都确定下来的话，后面的动物种类就都确定下来了。

- 如果第 $i$ 只动物是羊：
	- 如果它的回答是 $\texttt{o}$，那么第 $i+1$ 只动物的种类和第 $i-1$ 只动物相同。
   - 如果它的回答是 $\texttt{x}$，那么第 $i+1$ 只动物的种类和第 $i-1$ 只动物相反。
- 如果第 $i$ 只动物是狼：
	- 如果它的回答是 $\texttt{o}$，那么第 $i+1$ 只动物的种类和第 $i-1$ 只动物相反。
   - 如果它的回答是 $\texttt{x}$，那么第 $i+1$ 只动物的种类和第 $i-1$  只动物相同。

我们可以写出判断前两个动物种类是否可行的代码。
```cpp
inline bool chk(const char &c1, const char &c2){// c1 和 c2 分别代表前两只动物的种类（S 代表羊，W 代表狼）
    // t 代表所有动物排成一排的种类
    t[1] = c1;
    t[2] = c2;
    for (int i = 2; i <= n + 1; i++){
        // 分如上四种情况
        if (s[i] == 'o' && t[i] == 'S'){
            t[i + 1] = t[i - 1];
        } else if (s[i] == 'o' && t[i] == 'W'){
            t[i + 1] = 'W' + 'S' - t[i - 1]; 
        } else if (s[i] == 'x' && t[i] == 'S'){
            t[i + 1] = 'W' + 'S' - t[i - 1];
        } else if (s[i] == 'x' && t[i] == 'W'){
            t[i + 1] = t[i - 1]; 
        }
    }
    if (t[n + 1] == t[1] && t[n + 2] == t[2]){// 验证
        return true;
    }
    return false;
}
```

这样，我们就可以把所有的动物遍历一下，按这四种情况分别分类讨论，最终验证最后两只动物是否跟前两只动物品种相同就可以了。

但是，我们还要枚举前两只动物的种类：

- 第 $1$ 只动物是羊，第 $2$ 只动物是羊。
- 第 $1$ 只动物是羊，第 $2$ 只动物是狼。
- 第 $1$ 只动物是狼，第 $2$ 只动物是羊。
- 第 $1$ 只动物是狼，第 $2$ 只动物是狼。

共四种情况。

这样，我们就可以按顺序枚举，确定下来字典序最小的排列。如果没有，输出 $\texttt{-1}$。

坑点：

1. 四种情况，不要打错或打丢！
1. 需要特判如果输入自相矛盾输出 $\texttt{-1}$！
1. 数组要开大一点，最好开成 ```char``` 类型的以便后续操作！

完整代码贴在[这里](https://www.luogu.com.cn/paste/waxxyuv7)。