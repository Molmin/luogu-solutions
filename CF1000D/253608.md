[题目传送门](https://www.luogu.com.cn/problem/CF1000D)
## 思路
这显然是一道 $\verb!DP!$。我们不妨设 $f_{i,j}$ 为 $i$ 到 $j$ 的好序列个数，但是，经过~~本人亲身~~实验，发现这个状态萎掉了。

我们需要改变一下思路，设 $f_i$ 为前 $i$ 个数，$i$ 为一个好序列的开头的方案数，至于**为什么要设这个状态**，主要是因为前面那个状态萎掉了，而前面那个状态为什么不对，主要是因为我们没法转移，所以我们要设一个好转移的状态。

又因为一个好序列只要确定开头就行，所以我们把开头塞进状态。

转移也非常简单，$f_i=\sum_{j=1}^{i-1} f_{j-1} \times C_{i-j}^{a_j}$，这个组合数费马小定理求个逆元即可。

初始 $f_i=1$，注意最后要减回去。

接下来就可以愉快地 $\verb!AC!$ 了！
## 代码
不放了，自己写。
