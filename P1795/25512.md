N≤1500000，Ai≤10^9

暴力必跪

这个数列1少0多，且1的出现很有规律

所以可以使用O(n)的数学算法

----------------------

数列中第k个1的位置为

  1+1+2+3+4+......+(k-1)

=1+(k-1)k/2

若要查询第n个数是否是1

则可解方程

```cpp
                  1+(k-1)k/2=n
                       (k-1)k/2=n-1
                           (k-1)k=2(n-1)
              k^2+k-2(n-1)=0
```
对此式分解因式，设结果为(k+a)(k+b)=0
k1=-a,k2=-b

所以若a,b为负整数则第n个数是1

则有
|a+b=1.....................①

|ab=-2(n-1)............②

|a,b为整数

①^2得

          (a+b)^2=1^2

a^2+2ab+b^2=1...........③

③-4\*②得

a^2-2ab+b^2=8(n-1)+1

           (a-b)^2=8n-7

                  a-b=(8n-7)的平方根...④

①和④就是和差问题

做出来

a,b=
[根号(8n-7)±1]/2

当根号(8n-7)是整数时，

因为8n-7必为奇数，

所以根号(8n-7)也是奇数

根号(8n-7)±1是偶数

就是说a,b为整数了

前面说a,b是负的，那么取根号(8n-7)为负数即可

**所以第n个数是否是1取决于根号(8n-7)是不是整数**

完工~

代码很短(最后一个点竟然383ms)

-----------------------------

```cpp
var n,i,a:longint;p:extended;
begin
  read(n);
  for i:=1 to n do
  begin
    read(a);
    p:=sqrt(8*a-7);
    writeln(ord(abs(p-round(p))<1e-8));//ord(true)=1,ord(false)=0
  end;
end.
```