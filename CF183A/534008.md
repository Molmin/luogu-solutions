## 题意简述

一辆车可以移动到上下左右四个方向一格，分别用 U，D，L，R 表示。现在告诉你这辆小车的移动记录（是 UL，UR，DL，DR，ULDR 中的一种），请问按着它的移动方法，它可以到达哪几个不同地方。

## 分析

据题意，小车会有五种移动方法：左上，右上，左下，右下，不动。我们利用人类最宝贵的财富——大脑想一想。先在脑子里设想一张相邻两点之间距离为 $1$ 的网格图并在上面进行操作。首先把它四十五度旋转一下，这样我们的所有操作就变成直上直下了。然后我们给自己一组数据，在你的网格图里以一个点为中心的四个方向连四条线段，长度分别是左上右上左下右下的数量，对应着每个方向的极限，然后给这四条线段靠外的相邻两个端点之间连线，构造出一个正方形，被这个正方形包括的点就是可以走到的点，因为这个正方形之内，所有的点距离中心点的距离都可以通过不同方向的组合走到。题目就简化成了求这个正方形包括的点的数量。

怎么求？我们可以直接用求正方形面积的公式，带入这里便是：$($UL $+$ DR $+$ ULDR $ + 1) \times ($UR $+$ DL $+$ ULDR $ + 1)$。

更多详情见代码吧~

## 代码

```
#include <iostream>
#include <map> // map十分方便我们计数
using namespace std;
int n;
string s;
map<string, int> m;
int main() {
	cin >> n;
	while (n--) {
		cin >> s;
		m[s]++;
	}
	cout << 1ll * (m["UL"] + m["DR"] + m["ULDR"] + 1) * (m["UR"] + m["DL"] + m["ULDR"] + 1) << endl; // 求我们正方形的包括点的数量。注意！答案会爆int，所以一定要加1ll
	return 0;
}
```

[通过记录~](https://www.luogu.com.cn/record/102260855)