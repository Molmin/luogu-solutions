- 庆祝 AT 复活，从做题记录中搬一道最近的题当题解。
- 题意简述：给定一个数组 $B$ 和一张点带点权的图，询问是否「所有从 $1$ 到 $n$ 的路径上依次经过的点的点权形成的序列」都含有 $B$ 作为子序列。
- 如何判断一个串 $S$ 是否是另一个串 $T$ 的子序列？考虑逐位匹配 $T$ 和 $S$，开一个计数数组 $cnt$，表示 $T[1 \dots n]$ 最多和 $S$ 匹配几位，转移 $cnt_i = cnt_{i-1} + [S_{cnt_{i-1}+1}=T_i]$。
- 现在是所有了，怎么做呢？
- 直接修改状态为最少匹配几位，查看答案是否与 $B$ 数组等长即可。
- 状态转移应变成 $\min$。
- 这是无向图，不应草率按照节点与原点最短路排序处理，而应该贪心地选择 $cnt_i$ 最小的节点进行转移，使得这个节点一定不会被后面更新。（无有效性）
- 最后的转移公式 $cnt_u = \min \{ {cnt_v + [A_u = B_{cnt_v+1}]} \}$，$A$ 为点权数组。注意这里的更新顺序是用 $v$ 更新 $u$。
- [code](https://atcoder.jp/contests/arc150/submissions/35573816)