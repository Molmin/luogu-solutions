### Link.
[Codeforces](https://codeforces.com/contest/1562/problem/F)  
[Luogu](https://www.luogu.com.cn/problem/CF1562F)  
[更卡哇伊的阅读体验](https://www.cnblogs.com/pealfrog/p/15203614.html)  

### P.S.
和滴叉思路差不多，主要来补充一点注意点

### Description.
给定一个长度为 $n$ 的序列，是一个 $[l,\dots,r]$ 的排列。  
给定 $n$，每次可以询问任意不同两个的 $\text{lcm}$，要在 $n+5000$ 的复杂度内问出序列。  

### Solution.
#### 小数据暴力
首先有个很显然的询问数 $\frac {n\cdot(n-1)}2$ 的做法。  
解一下方程发现 $\frac{n\cdot (n-1)}2=n+5000$ 的解大概是 `101.511249367`。  
所以有一个显然的 $O(n^3)$ 做法，找到最大的数，它必定是 $(r-1)\cdot r$。  
然后每次找到没标记过的 $i\cdot (i-1)$ 即可。  
#### 大数据随机
我们发现在长度比较长的情况下，质数分布概率是比较高的，大概是 $\frac 1{\log n}\ge\frac 1{20}$。  
考虑随机 rand $10000$ 个数，其中没有质数的概率是 $1-\left(\frac {19}{20}\right)^{10000}$，已经很小了。  
然后对于一个质数和其他数 $\text{lcm}$ 显然有一个很大的质因子。  
我们对于每个询问，找到最大质因子的最大值就可以假装它是原序列的一个数。  
然后我们找到了质数的情况下，可以直接去问它和任意数的 $\text{lcm}$ 然后就可以 $n-1$ 次询问得到整个序列。  

### Attention.
1. 他妈多组询问的交互题就是屑，一个点 WA 会导致后面的 tests TLE，然后让我以为我质因数分解太慢了，调了一年。
2. 大概就有一段长度为 $85$ 的区间 $[155922,156006]$ 里面没有一个质数，所以小数据暴力一定要开尽量大。
3. 因为这题很显然我们需要分解的数虽然很大，但是它 $2,3$ 等较小数出现概率比较高，所以直接暴力分解是可以的。  

### Coding.
这份代码是在是有点怪，发在这里有点污染题解版面。  
建议去 [blog](https://www.cnblogs.com/pealfrog/p/15203614.html) 阅读qwq。