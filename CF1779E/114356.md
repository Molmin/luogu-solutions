CF1779E Anya's Simultaneous Exhibition 题解。

首先竞赛图缩点是链。链头的连通分量即为答案。

考虑先求出每个人和所有人比赛赢的局数，然后按照局数从大到小排序。第一个连通分量内的人的局数一定大于所有其他人，那么这些人构成排序后数组的一个前缀。

维护一个集合 $S$，表示预期的第一个连通分量的人。每次询问当前的人和 $S$ 中人的比赛情况，如果并非全输，将当前人及前面所有人更新为新的 $S$，否则什么都不做。不难证明这样是对的。

一共询问 $2n-1$ 次。