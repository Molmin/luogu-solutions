我们先不考虑所有的数，我们先单独考虑对两个数进行操作：设两个数 $A$，$B$（$A < B$），对它们不停进行操作后我们可以发现 $A$ 会变成 $\left\lceil\dfrac{A+B}{2}\right\rceil$。而题目中要求我们要使 $a_1$ 变得最大，那我们就可以把 $a_1$ 和 $a$ 数组中所有大于 $a_1$ 的数字进行一遍操作。

#### 这里有一个问题。
$a_1$ 在操作过程中是会不断变大的，这时候有些原本大于它的数就会小于 $a_1$，所以我们就要考虑枚举的顺序是怎样才能使 $a_1$ 最后的值最大。

#### 思考一番后发现就是贪心。
我们对 $a$ 数组除 $a_1$ 外的元素进行从小到大排序，使得每次在可以操作的数字中取最小的那个，这样就可以保证最后得到的值最大。

最后放上代码：
```cpp
#include<bits/stdc++.h>
using namespace std;
int n,t;
int a[200005];
int main(){
    cin>>t;
    while(t--){
        cin>>n;
        for(int i=1;i<=n;i++)
            cin>>a[i];
        sort(a+2,a+1+n);
        for(int i=2;i<=n;i++){
            if(a[i]>a[1])
            	a[1]=ceil((a[1]+a[i])/2.0);
        }	
        cout<<a[1]<<endl;
    }
    
    return 0;
}
```

