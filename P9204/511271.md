### 题目分析：

我们可以记**完整的操作**为一次偶数操作加一次奇数操作。显然，一次完整的操作可以沿 $x$ 轴或者 $y$ 轴走 $2$ 格（可反方向）。

由此可以推出该题与两个点 $x,y$ 坐标差的奇偶性有关。

记 $x$ 轴的差为 $dx$，记 $y$ 轴的差为 $dy$。（**取绝对值**）

- 若 $dx$ 与 $dy$ 都是偶数，显然可以最少走 $\frac{dx}{2}\frac{dy}{2}$ 完整操作就可以走到。此时答案为 $dx+dy$。

- 若 $dx$ 与 $dy$ 中有一个奇数，一个偶数。显然走不到。因为无论是否是完整的操作，坐标的该变量和都是偶数，而此时的要求该变量为奇数。

- 若 $dx$ 与 $dy$ 中都是奇数。
	- 若 $(x_2,y_2)$ 在 $(x_1,y_2)$ 右上角或者左上角，那么可以走到 $(x_2,y_2)$ 离 $(x_1,y_2)$ 最近的一个对角后使用奇数次操作，答案为 $dx+dy-1$。
    
   - 否则，那么对于前一个情况，还要在走一个完整的操作，使得奇数次操作正对着 $(x_2,y_2)$，答案为 $dx+dy+1$。
   
### 代码如下：

```
#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
const int N=1e5+10;
//=====
//这里为缺省源，略。
//=====
ll a,b,c,d;
int main(){
	//freopen(".in","r",stdin);
	//freopen(".out","w",stdout);
	cin>>a>>b>>c>>d;
	ll dx=abs(a-c),dy=abs(b-d);
	if(dx%2==0&&dy%2==0){printf("%lld\n",dx+dy);}
	else if(dx%2==0||dy%2==0){puts("-1");}
	else printf("%lld\n",dx+dy+((a>c)^(b>d)?1:-1));
	return 0;
}


```

时间复杂度：$O(1)$。
