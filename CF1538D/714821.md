首先需要考虑操作次数的上限和下限，不难发现下限如果 $ a=b $ 则不需要操作，如果其中一个数等于两数 $ \gcd $ 则需要一次，否则需要两次。

操作次数的上限显然是将每个数变为 $ 1 $，则每次相当于除去一个质因子，答案为质因子的指数之和。

观察到两次操作可以合并为一次操作，那么首先 $ k $ 应该在上下限表示的区间内，然后特判一个数等于两数 $ \gcd $ 的情况下还需要额外满足 $ k=1 $ 即可。

分解质因数可以上 Pollard-rho 做到更优的复杂度，总时间复杂度 $ \mathcal{O}(Tn^\frac{1}{4}) $，其中 $ n=\max(a,b) $，可以通过。

[提交记录](https://codeforces.com/contest/1538/submission/193772637)