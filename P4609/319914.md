首先可以考虑最高的建筑，它无论放在哪里都是可以看见并且挡住后面的所有建筑。所以从左面能够看见的建筑都是不在最高建筑的右面，从右面能够看到的建筑都不在最高建筑的左面。因此可以将其作为一个分割点。

对于分割点左面的建筑，可以将**每个可以看到的建筑与其从左面看挡住的建筑**合并为一个块；对于右面的建筑，同理将每个点与它从右面看挡住的建筑合并为一个块。那么由于总共有 $a + b -1$ 个建筑可以被看到，因此一共有 $a+b-2$ 块。

对于每一块，如果它在左面/右面，那么它最高的建筑必须放在右面/左面，其它建筑可以没有顺序，也就是**固定了一个建筑，其它的可以重排列**。这其实就是一个环的重排列问题。同时，注意到这些块中的建筑总个数为 $n-1$，所以本题就可以简化为：将 $n-1$ 个较矮建筑分为 $a+b-2$ 个环，一部分环置于最高建筑的左面，一部分置于最高建筑的右面，每个环内部可以重排列。那么答案就是 $\begin{bmatrix} n - 1 \\ a + b - 2 \end{bmatrix} * \begin{pmatrix}a+b-2\\a - 1\end{pmatrix}$.

可以通过预处理第一类斯特林数以及阶乘可以快速计算答案。

由于这道题目中的 $a+b-2$ 的大小只有 $200$ 因此直接递推斯特林数即可。

最后贴上无注释代码。

[Code here](https://www.luogu.com.cn/paste/qipwl6zv)

