看到旁边的人在打然后就来军备竞赛了

然后发现。。。是道水题

首先，一眼看过去数据范围，可以发现n特别小，甚至连Floyd都不用写，可以直接搜

但$O($玄学$)$肯定不够优秀，考虑使用状压dp（其实标答就应该是状压的说），用$f[i][bit(S)]$表示当前停留在第$i$个点，走过的点为集合$S$的点的最长路径，bit表示集合中的点状压表示的形式（没学过状压的可以先学一下）。

然后转移就是：

$f[i][bit(j)]=max(f[id(k)][bit(j)-(1<<(id(k)-1))]+e),k∈j$,$e$表示边权,$id(x)$表示点x的标号

如果不好转就改成这样，再用bfs记搜形式转移：

$f[k][bit(j)+(1<<(id(k)-1))]=max(f[k][bit(j)+(1<<(id(k)-1))],f[i][bit(j)]+e),id(k)∈C_uj$，因为是从0开始转的，由bfs性质可知，在转移集合$j$之前，所有$size(k)<size(j)$的集合k都已被转移完毕了，所以不会有后效性

U表示所有的点

边不存在的直接把$e$赋值成$inf$就行。复杂度不太会算，取大一点大概是$O(2^n * n^2)$。因为太过基础了，程序就不给了（其实是懒得打）

看得懂此篇题解的大概也不会来看了吧。。