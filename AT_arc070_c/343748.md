烟火表演的弱化版。

首先，我们很容易列出一个 $n^2$​ dp，$f[i][j] $ 表示第 $i$ 个到长方形 $l$ 的位置是 $j$。显然 $f[i][j]=min(f[i-1][k]+abs(j-l)) (j+r-l\geq k\geq j+r_{i-1}-l_{i-1})$。取 $f_n$ 最小值即可。

我们发现每个 $f_i$ 函数都是一个凸函数，因为绝对值函数是凸的，取最小值也是凸的，于是我们可以用队列来维护他的转折点。

由于他每次都只增加一个绝对值函数，所以他最多增加两个凸点，凸度最多增加二。

具体的，我们用两个队列分别维护他斜率小于 0 和大于 0 的部分，维护转折点，答案必然在斜率为 0 时取到。

[代码](https://www.luogu.com.cn/paste/cgr06c6l)