[题目传送门](https://www.luogu.com.cn/problem/CF1214C)

这题一脸 CF-style……比较小清新。

考虑能够用至多 $1$ 次移动变成合法的括号序列 $a_n$，需要满足以下两个条件：1、序列中左括号和右括号的数量相等；2、这个序列中以 $a_1$ 为开头的任意子序列中，右括号的个数 $-$ 左括号的个数 $\le 2$。

这个结论是显然的，于是考虑维护左右括号数量。

具体维护：初始时 $s=0$，读入左括号时 $s=s-1$，读入右括号时 $s=s+1$，如果 $s=2$ 就证明右括号已经比左括号多了两个，那么无解。

最后判断完之后，如果 $s=0$ 则证明左右括号个数相等，即满足以上两个条件，那么有解；反之则无解。