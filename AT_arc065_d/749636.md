# [题目传送门](https://www.luogu.com.cn/problem/AT_arc065_d)
# 题目描述
一个 `01` 串 $s$，有 $M$ 次操作，对于每一次操作 $l_{i}$，$r_{i}$，可以将 $l_{i}$ 至 $r_{i}$ 的字串重新排列。求最后能出现多少个不同的串。

答案对 $10^{9}+7$ 取模。
# 题目分析
处理出对于每个 $i$，能排列到的最右端点 $r_i$；以及每个前缀 $1$ 的个数 $c_i$。

则转移中 $j$ 的下界即为前 $i$ 个位尽量放 $0$，把 $i$ 到 $r_i$ 尽量全放 $1$，于是：

$l_j=\max\{i-(r_i-c_{r_i}),0\}$。

对于上界，同理前 $i$ 位尽量放 $1$，所以 $r_{c_i}$ 个 $1$ 都放 $i$ 里面，于是：

$r_i=\min\{i,r_{c_i}\}$。

得到这两个边界之后就比较好实践了。~~码风不好这里就不放了。~~