# Subtask 1:

暴力DFS。。。

# Subtask 2:

暴力枚举每个区间是否符合修改 $k$ 次能够成回文序列，然后再进行取最大值就可以了。。。

时间复杂度：$O(n^3)$

# Subtask 3,4:

枚举每一个点，向外进行扩展，每扩展一层判断两个数是否相等，不相等那么需要修改的数的个数就多一个，直到扩展到边界或者需要修改的数的个数已经达到 $k$ 个了但是扩展到下一层还是需要增加需要修改的数的个数。那么就停止扩展，跟已知的最大值进行比较更新最大值。然后取模即可。

时间复杂度：$O(n^2)$
# Subtask 5:

因为 $k=0$ 所以就变成了 manacher 算法了，直接写上再稍微修改一下就可以了。。。

因为 $(10^9+7)^{1000}$ 会严重爆炸，所以你需要写高精。。。（放心，按照 Subtask 3,4 的思路来就不会超时。。。~~当然你还可以使用别的方法~~）

~~祝大家写高精愉快。。。~~