在lrj《算法竞赛入门经典》（紫书）第四章$P97$介绍的习题，并没有前面三道题目那么复杂，需要证明一个引理：

** 任意转动一个骰子，相对面（即没有公共边）的面的关系不会改变。**

例如，骰子$rbgggr$无论如何旋转，均有r-r,b-g,g-g相对。

在此我们分类讨论只在单个方向上旋转$90$°的情况（其他旋转的情况都可以通过这些情况叠加所得）。

假设这个骰子表示为$123456$，相对面为$1-6$,$2-5$,$3-4$。

如果只在单个方向上旋转，必有一组相对的面在表示法的位置中不发生变化，假设为$1-6$。

那么，从$1$向下（$6$）看，顺时针旋转$90$°，表示为$142536$，相对面不发生变化。

其他情况同理。引理得证。

由此，我们只需判断两个骰子的相对面是否相等即可。我们定义一个初始值全为$0$的二维数组，分别表示相对面的两个元素，对于第一个骰子的相对面的对应位置的值$+1$，第二个骰子的相对面的对应位置的值$-1$，如果最后二维数组的所有元素为$0$，那么这两个骰子是全等的。

代码：
```cpp
#include<cstdio>
#include<cstring>
#include<algorithm>
using namespace std;
const int maxn=129;
int tf[maxn][maxn];
char s[maxn];
bool ans;
int main()
{
	while(~scanf("%s",s))
	{
		memset(tf,0,sizeof tf);
		ans=true;
		tf[s[0]][s[5]]++;tf[s[1]][s[4]]++;tf[s[2]][s[3]]++;
		tf[s[3]][s[2]]++;tf[s[4]][s[1]]++;tf[s[5]][s[0]]++;
		tf[s[6]][s[11]]--;tf[s[7]][s[10]]--;tf[s[8]][s[9]]--;
		tf[s[9]][s[8]]--;tf[s[10]][s[7]]--;tf[s[11]][s[6]]--;//在二维数组中修改对应面的值，注意两端反过来也要加
		for(int i=0;i<128;i++)for(int j=0;j<128;j++)if(tf[i][j])ans=false;
		if(ans)printf("TRUE\n");
		else printf("FALSE\n"); 
	}
} 
```