思路：
 
考虑dp

定义 $dp[a][b][c][d]$ 表示以 $(a,b)$ $and$ $(c,d)$ 为对角的可自由操作的矩形让 $P$ 掉下去的最小代价．
 
 
那么对于一个矩形，我们可以在中间取一点 $(i,j)$ 把它分成四个部分
然后对于包含 $P$ 的那个矩形我们打包处理，而将这个子矩阵的状态转移到当前考虑的状态 $dp[a][b][c][d]$ 需要我们把包含Ｐ的子矩形两个方向的子矩形挖空，所以需要加上挖空这两块的代价，然后对于$(i,j)$ 枚举再分类讨论取个 $min$ 就好了
 
 
下面上图详细解释：
![AT3609](https://cdn.luogu.com.cn/upload/pic/41760.png)

１．大矩形表示当前状态 $dp[a][b][c][d]$ ,包含 $P$ 的红色部分为   $dp[i][j][c][d]$ 

２．将大矩形变为红色矩形的代价就是挖掉灰色部分的代价．

３．所以 $dp[a][b][c][d]$ $=$ $min${ $dp[i][j][c][d]$ $+$ 挖去灰色部分的代价}

４．$P$ 的分布有四种情况所以１对四种情况取个 $min$ 就好了