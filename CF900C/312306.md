## 题目描述
[题目传送门](https://www.luogu.com.cn/problem/CF900C)

## 思路简述
可以发现：

1.  如果一个数前面有不止一个数大于它，那么无论去掉那个数，它都无法成为 record。
1.  如果一个数前面所有数都小于它，那么无论去掉那个数，它都一定是 record。
1. 如果一个数前面有且仅有一个数大于它，那么当且仅当去掉大于它的那个数，它才能成为 record。
1. 如果一个数是 record，那么去掉它，recond 总数减 $1$。(废话)

### 解法一
那么我们就很容易的想到使用两个树状数组，一个维护小于某个数的数的个数，一个维护小于某个数的数的和。从前往后枚举使用上面发现的结论求解出去掉每个数据所对 record 总数的影响。(意会即可)

时间复杂度 $O(nlogn)$。

### 解法二
但是事实上没必要这么复杂。

我们可以从前往后枚举，顺便维护当前的最大值和次大值，然后进行一下的分类讨论：

+ 若仅有最大值比当前数大，那么就是情况 $3$。
+ 若最大值和次大值都比当前数大，那么就是情况 $1$。
+ 若最大值也小于它，那么就是情况 $2$ 和 $4$。

接下来的做法与解法一大同小异。

时间复杂度 $O(n)$

## 丑陋の代码
具体实现参见代码

[click here](https://www.luogu.com.cn/paste/evev2psf)