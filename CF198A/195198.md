这道题显然不能用模拟，随手一算，肯定会爆 long long。

## $\text{1. 思路}$

那么既然不能模拟，这应该是一道找关系类型的数学的题。

我们只需要考虑 $t$ 可以由一个细菌多少秒分裂形成。

因为，一旦在第 $x$ 秒的时候细菌数量大于等于了 $t$，那么 $n - x$ 秒之后分裂出来的细菌数量一定大于等于 $z$。同时，如果第 $x$ 秒时数量小于 $t$，那么~~根据小学学的数学~~可以得知 $n - x$ 秒之后分裂出来的数量一定小于 $z$。

或者这样说，令 $f(x) = kx+b$，那么怎么知道 $f(t)$ 嵌套多少层之后能大于等于 $z$ 呢？只需要知道 $f(1)$ 嵌套多少次能大于等于 $t$，以及 $f(1)$ 嵌套多少次能到达 $z$ 。这样 $f(t)$ 嵌套次数就是后者减去前者。

那么代码就很好写了。注意判断有的时候会出现负数，这个时候为了符合实际情况应该输出 0（比如第二个样例），以及记得开 long long（第 75 个点）！

## $\text{Code}$

```cpp
#include <bits/stdc++.h>
using namespace std;
int main()
{
	long long k,b,n,t,x=1,cnt=0;
	scanf("%lld%lld%lld%lld",&k,&b,&n,&t); //输入
	while(k*x+b<=t) x=k*x+b,cnt++; // 找答案
	printf("%lld",max(0ll,n-cnt)); // 输出答案，注意判小于 0 的情况
	return 0;
}
```

完结撒花 ~ qwq