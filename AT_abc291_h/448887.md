看到重构一棵树，看到 LCA 在路径上，想到点分树（不要问我怎么想，问就是做过类似题）。

考虑如何证明要求：

1. $x,y$ 的 LCA $z$ 在点分树的 $x$ 到 $y$ 的路径上：考虑某层的连通块，设重心为 $u$，那么该连通块被分成了若干子树。如果 $x$ 到 $y$ 的路径上包含了 $u$，那么显然其一定被分在的不同的子树中，则其路径一定包含 $u$，否则，它们一定在同一子树中，其路径一定不包含 $u$，证毕。
2. 子树大小 $\times2$ 小于等于父节点：发现父节点一定是某个连通块的重心，联想重心的性质即可证明。

> 重心的性质：以树的重心为根时，所有子树的大小都 $\times2$ 小于等于整棵树的大小。  
> 证明考虑反证法，考虑重心的定义：所有子树中最大的子树节点数，这个值最小的点就是这棵树的重心，如果其有一个子树大小大于整棵树大小 $n$ 除以 $2$，那么重心应当是该子树的根，这是显然的。