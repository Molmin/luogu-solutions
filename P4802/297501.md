## [P4802 [CCO 2015]路短最](https://www.luogu.com.cn/problem/P4802)

## 题目大意：

给出一张带权连通图，求 $0$ 到 $n-1$ 的最长简单路径的长度。

## solution:

看到很小的数据范围 $2\le n \le 18$ 我们可以考虑状压。设**状态** $f[\,i\,][\,j\,]$ 为当前状态为 $\,i\,$ 走到 $\,j\,$ 点的最大路径长。~~易得~~状态转移方程为：
   $$f[\,i\,][\,j\,]= \text{max}(f[\,i\,][\,j\,],f[\,i\, \bigoplus\,(1\ll j)][\,k\,]+l[\,k\,][\,j\,]) $$
   
对于**阶段**，可以这样来枚举：

1. 枚举每种状态 $i$ ：$(1001110,1001111,1110101……)$ ；

2. 枚举当前点 $j$ ；

3. 枚举到达 $j$ 的点 $k$ 。

## 细节处理：

- 注意 $l[\,i\,][\,j\,]$ 的顺序，是 $i->j$ 。
- 由于求最大值，我们要将 $f$ 数组赋个**较**小值，可 $\text{memset}(f,0xcf,\text{sizeof}(f))$ ，不要太小，以免溢出。

看到这的同学，可以自己去写代码了(~~tf口吻~~)

[code](https://www.luogu.com.cn/paste/8ez73a7z)

### End

## 作者的碎碎念：

有用留赞(~~言简意赅~~)