这道题其实就是一道代码能力神题，其实说是贪心也没错，不过暴力就能过。说到暴力，大家想到的肯定有很多思路，什么从后往前扫一遍然后逐个判断啊，什么~~**_蛇皮_**~~搜索每一个问号啊。。。其实这些方法有很多优化优化说不定就能过，不过我采用的是一种写政治作业时想出来的玄学算法，打了 30 分钟就过了，这个算法具体思路如下：

1. 首先，我们先看当前要构造的第 i 个数字的长度和上一个数字的长度。

	如果 s[i].size() 大于 s[i-1].size()，那么把这个数字所有问号都填 0 即可（注意一下，如果第一位上是问号，那么第一位上必须填 1 ）。这个想必大家都能理解，我就不再多说了。

	如果 s[i].size() 小于 s[i-1].size()，那么直接 return 0 就行了，主函数中直接输出 NO 。现在保证 s[i] 和 s[i-1] 的长度都相等了，就可以瞎~~**_JB_**~~搞了。

2. 我们把两个字符串从前往后扫一遍，如果 s[i][j]（即当前数字的第 j 位）不是问号且比 s[i-1][j] 大，那么后面的问号无论怎么填，最后这个数字肯定比上一个数字大。所以直接把后面所有问号填成 0，前面的问号都填成上一个数字对应位上的数即可。

	如果 s[i][j] 比 s[i-1][j] 小，那么在当前位之前一定有一个问号比上一个数字对应位上的数大。从 j-1 开始往前枚举，找到最靠后的那个满足条件的问号即可。（这里也要注意一个细节，如果上一个数在某一位上是 9，那么因为进位的原因，这一位上的问号无论填几都不可能比上一个数的这一位更大）

	如果找不到这样的问号，那么说明一定构不成符合条件的递增数列，直接 return 0 即可。

3. 如果处理完前两步仍然没有找到答案，说明 s[i] 中所有的数字（非问号）都遇上一位相同，所以直接从后往前枚举问号，如果上一个数字这一位上不是 9，那么把这一位上的问号填成上一位上对应的数+1，然后把后面所有问号填成 0，前面的问号都填成上一个数字对应位上的数，最后直接 return 1（就是找到了这一位上的答案）就行了。

4. 如果还没找到，就说明找不到合法答案，直接 return 0。


### 最后注意两个细节：

1. i=1 时，前面是没有数的，所以直接构造最小即可。

2. 如果当前数字中没有问号，还需再判断 a[i] 是否大于 a[i-1]。（a[i] 代表第 i 个数字的值）

好了就这么多了。下面附上代码：

```cpp
#include<iostream>
#include<cmath>
using namespace std;
int n,a[100005];string s[100005];
void clear(int i,int j)
{
	for(int k=j-1;k>=0;k--)
		if(s[i][k]=='?')
			s[i][k]=s[i-1][k];
	for(int k=j+1;k<s[i].size();k++)
		if(s[i][k]=='?')
			s[i][k]='0';
	a[i]=0;
	for(int k=0;k<s[i].size();k++)
		a[i]*=10,a[i]+=(s[i][k]-'0');
}
bool getsum(int i)
{
	if(a[i])	return a[i]>a[i-1];
	if(i==1)	//i=1 时，因为前面没有数，所以直接构造最小即可。
	{
		int sum=0;
		for(int j=0;j<s[i].size();j++)
		{
			if(s[i][j]=='?' && j==0)	s[i][j]='1';
			else if(s[i][j]=='?')	s[i][j]='0';
			sum*=10,sum+=(s[i][j]-'0');
		}
		a[i]=sum;
		return 1;
	}
	//第一步
	if(s[i].size()<s[i-1].size())	return 0;
	else if(s[i].size()>s[i-1].size())
	{
		s[i][0]=(s[i][0]=='?'?'1':s[i][0]),clear(i,0);
		return 1;
	}
	//第二步
	for(int j=0;j<s[i].size();j++)
		if('0'<=s[i][j] && s[i][j]<='9')
		{
			if(s[i][j]-'0'>s[i-1][j]-'0')
				{clear(i,j); return 1;}
			else if(s[i][j]-'0'<s[i-1][j]-'0')
			{
				for(int k=j-1;k>=0;k--)
					if(s[i][k]=='?' && s[i-1][k]!='9')
						{s[i][k]=(char)((int)s[i-1][k]+1),clear(i,k); return 1;}
				return 0;
			}
		}
	//第三步
	for(int j=s[i].size()-1;j>=0;j--)
		if(s[i][j]=='?' && s[i-1][j]-'0'<=8)
			{s[i][j]=(char)((int)s[i-1][j]+1),clear(i,j); return 1;}
	return 0;
}
int main()
{
	cin>>n;
	s[0]="0";
	for(int i=1;i<=n;i++)
	{
		int sum=0;
		cin>>s[i];
		for(int j=0;j<s[i].size();j++)
		{
			if(s[i][j]=='?')	{sum=0; break;}
			sum*=10,sum+=(s[i][j]-'0');
		}
		a[i]=sum;
	}
	for(int i=1;i<=n;i++)
		if(!getsum(i))
			{cout<<"NO"; return 0;}
	cout<<"YES\n";
	for(int i=1;i<=n;i++)
		cout<<s[i]<<endl;
	return 0;
}
```