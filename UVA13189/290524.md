[获得更好的阅读体验](https://www.luogu.com.cn/blog/jasonying/uva13189-humbertov-and-the-triangular-spiral) [题目传送门](https://www.luogu.com.cn/problem/UVA13189)

---

### 题目大意

从点 $(0,0)$ 开始，连成一个如图的“三角形螺旋”，求第 $k$ 个点的坐标 $(x_k, y_k)$。

### 题目分析

类似这样的画曲线求坐标题目，我们可以将曲线拆分为若干条直线来简化问题。

在此题中，我们可以先计算出第 $k$ 个点在哪一圈、哪条线段上，再进行点坐标的求解。

![](https://cdn.luogu.com.cn/upload/image_hosting/uzp5wwjq.png)

如图，将“三角形螺旋”分为多圈，从里到外分别用红、绿、蓝表示。

将第 $i$ 圈底部平行于 $x$ 轴的长度记为 $a_i$，斜率为 $1$ 的线段长度记为 $b_i$，斜率为 $-1$ 的线段长度记为 $c_i$。

这里长度为这条线段上点的个数，包括点编号最小的一端，不包括点编号最大的一端。

显然，在“三角形螺旋”的第 $i$ 圈上有：

$$a_i=4i+1, b_i=2i+1, c_i=2i+2$$

因此，一圈的长度为：

$$a_i+b_i+c_i=8i+4$$

则前 $n$ 圈的长度之和为：

$$\sum_{i=0}^n8i+4=4n^2+8n+4=4(n+1)^2$$

现在我们可以通过每圈的长度和每条线段的长度计算出点所在的线段。

接下来考察每条线段，易得第 $i$ 圈上：

线段 $a$ 起始点（右侧点）为 $(2i, -i)$；

线段 $b$ 起始点（左下点）为 $(-2i-1,-i)$；

线段 $c$ 起始点（左上点）为 $(0,i+1)$。

如第 $k$ 个点为第 $i$ 圈上某线段的第 $k_0$ 个点，我们有：

线段 $a$ 上为点 $(2i-k_0,-i)$；

线段 $b$ 上为点 $(-2i-1+k_0,-i+k_0)$；

线段 $c$ 上为点 $(k_0,i+1-k_0)$。

### 代码

随手搓的代码，马蜂较丑见谅。

```cpp
#include<bits/stdc++.h>
using namespace std;
long long t,n;
int main(){ 
    cin>>t;
    while(t--){
        cin>>n;
        n--; 
        int sum=0,i=0;
        i=sqrt(n/4),sum=4*i*i;//在第i圈上，前i-1圈共sum个点 
        int k=n-sum,l=0;//剩余k 
        if(k>=4*i+1){
            k-=4*i+1,l++;//在b边上 
            if(k>=2*i+1)k-=2*i+1,l++;//在c边上
        }
        if(l==0)cout<<2*i-k<<" "<<-1*i<<endl;
        if(l==1)cout<<-2*i-1+k<<" "<<-1*i+k<<endl;
        if(l==2)cout<<k<<" "<<i+1-k<<endl;
    }
    return 0;
}
```
注意 $n$ 的范围，需使用 $\mathcal{O}(1)$ 的计算方式，否则会超时。

### 结语

一道比较常规的曲线题。