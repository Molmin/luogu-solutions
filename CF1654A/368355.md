首先，对于数列中任意两个数 $a_i$、$a_j$，经过翻转一定能使他们相邻。

设 $i<j$，那么将 $i∼(j-1)$ 位置上的数翻转就能让他们相邻，因此要让相邻两个数之和最大就就可以通过操作使数列最大两个数相邻。

以样例一 $[5,2,1,4,7,3]$ 为例，翻转 $5∼4$ 间的数可以使数列最大两个数 $5,7$ 相邻，所以和最大为 $5+7=12$。

代码：

```
#include<bits/stdc++.h>
using namespace std;
int t,n,a[1005];
int main(){
	cin>>t;
	while(t--){
		cin>>n;
		for(int i=1;i<=n;i++)cin>>a[i];
		sort(a+1,a+n+1);
		cout<<a[n]+a[n-1]<<endl; 
	}
}
```
