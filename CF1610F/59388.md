[出的题被 CF 撞了祭](https://www.luogu.com.cn/problem/P7816)

阅读本题解之前可以先看看[这篇题解](https://59388.blog.luogu.org/solution-in-the-name-of-father)。

容易发现只有相连的边权值之和为奇数的点能够成为 Oddysey，因此进行一个判断即可求出第一问的答案。然后我们在上面那篇题解的思路基础上略加修改来实现定向。

显然环我们可以一样地去掉，链我们可以一样地缩掉。此时只有链定向这一步。这时也显然可以直接像原题一样把所有 Oddysey 处理掉，剩下没有处理的肯定是一堆 $2$ 链，这些东西随便定向就好了。时间复杂度 $O(n)$。

代码先咕着，退役人没时间写。