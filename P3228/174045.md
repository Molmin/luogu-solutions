> 组合意义天地灭，代数推导保平安。

下面某位一看就是嘉心糖的老哥这样写道。可问题是……那个代数推导怎么也不像“保平安”的样子啊喂！

这里是一个既无思维含量也无计算难度的生成函数推法。

------------
题意：求满足下列条件的正整数序列个数：有 $k$ 个数，严格递增，每项不超过 $n$，相邻两项的差不超过 $m$。

考虑如果我们确定了第一项，以及最后一项与第一项的差 $d$，那么我们就只需要求出选 $k-1$ 个 $[1,m]$ 内的数使得和为 $d$ 的方案数，即可唯一对应一个合法序列。这个形式可以直接写出生成函数：
$$F(x)=\sum_{i=1}^mx^i$$
$$G(x)=F^{k-1}(x)$$
若首项与末项差为 $d$，则合法首项的个数即为 $n-d$，那么答案即为：
$$\sum_{i=1}^{n-1}(n-i)[x^i]G(x)=n\sum_{i=1}^{n-1}[x^i]G(x)-\sum_{i=1}^{n-1}i[x^i]G(x)$$
发现，$F$ 是一个 $m$ 次多项式，那么 $G$ 是一个 $m(k-1)$ 次多项式，而题目保证了 $n>m(k-1)$，则多项式的每一项都在上式中被考虑到。我们考虑用多项式的求值来改写上式，不难发现即为：
$$nG(1)-G'(1)=nF(1)^{k-1}-(k-1)F(1)^{k-2}F'(1)$$
我们显然有 $F(1)=m$，$F'(1)=\dfrac12m(m+1)$，那么最终答案即为：
$$nm^{k-1}-\frac12m^{k-1}(m+1)(k-1)$$