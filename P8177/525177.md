[题目传送门](https://www.luogu.com.cn/problem/P8177)

## 思路：

等差数列，首项和长度都是固定的，所以首先要思考公差。

如果公差为奇数，答案肯定是 $0$ 。因为前一个数是奇数，后面的就是偶数，前面是偶数，后面就是奇数，相邻的两项相加肯定不可能是偶数，所以永远不可能满足条件一，也就不能进行操作。

如果公差为偶数，答案是没有规律的。但经过举例可以发现，公差如果为 $2$ 的倍数，是可以生成新的数的。因为公差为偶数，相邻的两数相加肯定也是偶数，满足条件一；而除以二后的数在数列中肯定是没有的，因为两数相邻。一但公差已经不是 $2$ 的倍数了，就不可能再进行操作了。

### 代码：
```cpp
#include <bits/stdc++.h>
#define ll long long
using namespace std;
ll T,n,a,d;
int main()
{
	cin>>T;
	while(T--) {
		cin>>n>>a>>d;
		if(d&1)cout<<0<<endl;
		else {
			ll dis=(n-1)*d;
			while(d%2==0)d>>=1;
			cout<<dis/d+1-n<<endl;
		}
	}
	return 0;
}
```

$dis$ 变量记录的是首项到末项的距离。如果公差还是 $2$ 的倍数，除 $2$ 就行了，最后扣除公差，表示公差中已经不能再进行操作了。右移其实就是在二进制下进行除 $2$ ，但是速度更快。

~~比赛的时候因为我把偶数当成 2 的次方了所以只拿了 10 分~~