## 分析

确定一个皇后的位置，然后进行剩下 $7$ 个皇后的处理，从而满足八皇后问题的要求。

八皇后问题：在 $8 \times 8$ 的棋盘中放 $8$ 个皇后，使得每行、每列、每个对角线（主对角线和副对角线）**最多**有一个皇后。下面就是一个八皇后问题的解（`1` 表示皇后，`0` 表示非皇后）：

```
1 0 0 0 0 0 0 0
0 0 0 0 1 0 0 0
0 0 0 0 0 0 0 1
0 0 0 0 0 1 0 0
0 0 1 0 0 0 0 0
0 0 0 0 0 0 1 0
0 1 0 0 0 0 0 0
0 0 0 1 0 0 0 0
```

由于八皇后问题只有 $92$ 个解，暴力不会超时。只需要搜索每个皇后的位置，标记列、对角线即可（依照行搜索）。

## 注意

输出样例是错的！！！（不过可能你们看题解的时候好心的管理员已经修复了样例）

正确样例输出：

```
SOLN       COLUMN
 #      1 2 3 4 5 6 7 8

 1      1 5 8 6 3 7 2 4
 2      1 6 8 3 7 4 2 5
 3      1 7 4 6 8 2 5 3
 4      1 7 5 8 2 4 6 3

```

每组数据都要输出前两行，然后一个换行符，解的编号需要按两个位置占位，可以用 `printf` 中的 `%2d`。

## 代码

```cpp
#include<bits/stdc++.h>
using namespace std;
int n=8,a[19],k,x,T,xx,yy;
bool u[19],ul[38],ur[38];
void print(){
	for(int i=1;i<n;i++)
		printf("%d ",a[i]);
	printf("%d\n",a[n]);
	return;
}
void dfs(int s){
	if(s>n){
	    printf("%2d      ",++x);
		print();
		return;
	}
	if(a[s]){
	    dfs(s+1);//特判
	    return;
	}
	for(int i=1;i<=n;i++){
		if(u[i]||ul[s+i-1]||ur[s-i+n])
			continue;
		u[i]=ul[s+i-1]=ur[s-i+n]=1,a[s]=i;
		dfs(s+1);//接着搜
		u[i]=ul[s+i-1]=ur[s-i+n]=a[s]=0;//回溯
	}
	return;
}
void solve(bool xxx){
    memset(u,0,sizeof(u));
    memset(ul,0,sizeof(ul));
    memset(ur,0,sizeof(ur));
    memset(a,0,sizeof(a));
    //初始化
    scanf("%d%d",&xx,&yy);
    //确定的皇后的位置
    puts("SOLN       COLUMN\n #      1 2 3 4 5 6 7 8\n");
    //讨厌的格式
    u[xx]=ul[xx+yy-1]=ur[yy-xx+n]=1,a[yy]=xx,x=0;//标记列、主对角线、副对角线，解数量清零
    dfs(1);
    u[xx]=ul[xx+yy-1]=ur[yy-xx+n]=a[yy]=0;//回溯
    if(xxx)
        putchar('\n');
    //不是最后一组数据输出换行
    return;
}
int main(){
    for(scanf("%d",&T);T;--T)
        solve(T-1);//多组数据
    return 0;
}
```

## 附赠良心的正常样例

输入：

```
5
1 1
1 2
1 3
2 3
2 2
```

输出：

```
SOLN       COLUMN
 #      1 2 3 4 5 6 7 8

 1      1 5 8 6 3 7 2 4
 2      1 6 8 3 7 4 2 5
 3      1 7 4 6 8 2 5 3
 4      1 7 5 8 2 4 6 3

SOLN       COLUMN
 #      1 2 3 4 5 6 7 8

 1      3 1 7 5 8 2 4 6
 2      4 1 5 8 2 7 3 6
 3      4 1 5 8 6 3 7 2
 4      5 1 4 6 8 2 7 3
 5      5 1 8 4 2 7 3 6
 6      5 1 8 6 3 7 2 4
 7      6 1 5 2 8 3 7 4
 8      7 1 3 8 6 4 2 5

SOLN       COLUMN
 #      1 2 3 4 5 6 7 8

 1      2 6 1 7 4 8 3 5
 2      4 6 1 5 2 8 3 7
 3      4 7 1 8 5 2 6 3
 4      4 8 1 3 6 2 7 5
 5      4 8 1 5 7 2 6 3
 6      5 3 1 6 8 2 4 7
 7      5 3 1 7 2 8 6 4
 8      5 7 1 3 8 6 4 2
 9      5 7 1 4 2 8 6 3
10      6 3 1 7 5 8 2 4
11      6 3 1 8 4 2 7 5
12      6 3 1 8 5 2 4 7
13      6 4 1 5 8 2 7 3
14      7 3 1 6 8 5 2 4
15      8 3 1 6 2 5 7 4
16      8 4 1 3 6 2 7 5

SOLN       COLUMN
 #      1 2 3 4 5 6 7 8

 1      3 5 2 8 1 7 4 6
 2      3 5 2 8 6 4 7 1
 3      3 6 2 5 8 1 7 4
 4      3 6 2 7 1 4 8 5
 5      3 6 2 7 5 1 8 4
 6      3 7 2 8 5 1 4 6
 7      3 7 2 8 6 4 1 5
 8      5 7 2 4 8 1 3 6
 9      5 7 2 6 3 1 4 8
10      5 7 2 6 3 1 8 4
11      6 4 2 8 5 7 1 3
12      6 8 2 4 1 7 5 3
13      7 4 2 5 8 1 3 6
14      7 4 2 8 6 1 3 5

SOLN       COLUMN
 #      1 2 3 4 5 6 7 8

 1      4 2 5 8 6 1 3 7
 2      4 2 7 3 6 8 1 5
 3      4 2 7 3 6 8 5 1
 4      4 2 7 5 1 8 6 3
 5      4 2 8 5 7 1 3 6
 6      4 2 8 6 1 3 5 7
 7      5 2 4 6 8 3 1 7
 8      5 2 4 7 3 8 6 1
 9      5 2 6 1 7 4 8 3
10      5 2 8 1 4 7 3 6
11      6 2 7 1 3 5 8 4
12      6 2 7 1 4 8 5 3
13      7 2 4 1 8 5 3 6
14      7 2 6 3 1 4 8 5
15      8 2 4 1 7 5 3 6
16      8 2 5 3 1 7 4 6

```