感觉现在做数据结构做傻了……一看到类似操作就往数据结构上艹

后来发现唯一能搞的lct好像还搞不了emmm……

然后又想着能不能离线搞，发现+x y  -x y 只有他们之间的一段才会有贡献

每个点单独开一个set，计算和其相连的人 

当为叹号的时候cnt++ 

那么我们就在加的时候把当前cnt减掉，然后在后面减的时候再加上新的cnt，

这一段区间内的贡献就都被考虑进去了 

最后再遍历一遍set把过程中没有减掉的贡献算上就行了 

[代码](http://www.cnblogs.com/refun/p/8685664.html)