此题考对数的应用，偏难。

### 题意：
将 $n$ 个数按升序排列，先计算这个序列相邻两个数的平均数，这样会得到 $n-1$ 个数，它们仍然是按升序排列的，重复此过程，直到你最后得到一个数，它就是超级平均数。求出 $n$ 个数的超级平均数。

### 解法：
初看似乎没有什么规律，可以先从 $n$ 较小的情况进行观察。设序列为 $d$，$1\leq i\leq n$，当 $n=1$，$2$，$3$，$4$，$5$，$6$ 时，通过手工计算可以得知超级平均数 $M_n$ 分别为
$$M_1 = \frac{d_1}{2_0}$$
$$M_2 = \frac{d_1+d_2}{2_1}$$
$$M_3 = \frac{d_1+2d_2+d_3}{2_2}$$
$$M_4 = \frac{d_1+3d_2+3d_3+d_4}{2_3}$$
$$M_5 = \frac{d_1+4d_2+6d_3+4d_4+d_5}{2_4}$$
$$M_6 = \frac{d_1+5d_2+10d_3+10d_4+5d_5+d_6}{2_5}$$
观察可知系数构成杨辉三角——第 $i$ 项的系数为 $C(n-1,i-1)$，即
$$M_n=\frac{C_{n-1}^{0}d_1+C_{n-1}^{1}d_2+\dots +C_{n-1}^{n-2}d_{n-1}+C_{n-1}^{n-1}d_n}{2_{n-1}}=\frac{ \textstyle \sum_{i=1}^{n-1}C_{i-1}^{n-1}d_i}{2_{n-1}}$$
但是 $n$ 最大可为 $50000$，直接计算 $C(n-1,i-1)$ 或者 $2n-1$ 会导致溢出。由于给定的数都是在 $-1000$ 至 $1000$ 之间，其平均数也必定在此范围，所以可以借助对数进行计算。在具体计算组合数时，可利用下述递推公式
$$C_{n-1}^{i}=C_{n-1}^{i-1}\cdot \frac{n-i}{i},i\leq i\leq n$$
以简化运算。注意当序列元素值为 $0$ 或为负数时的求和处理。

### 代码：
```cpp
#include <bits/stdc++.h>
using namespace std;
int main(){
	int T;
	cin >> T;
	int c = 0;
	while (T --) {
		c ++;
		double t = 0.0, x, ans = 0.0;
		int n;
		cin >> n;
		for (int i = 0; i < n; i ++ ) {
			cin >> x;
			if (i) t += log2(double(n - i) / i);//辅助计算组合数 
			if (fabs(x) > 0) {
				double k = (x > 0 ? 1.0 : -1.0); 
				ans += k * pow(2, t + log2(fabs(x)) - (n - 1));//使用公式计算 
			}
		}
		printf("Case #%d: %.3lf\n", c, ans);
	}
	return 0;
}
```