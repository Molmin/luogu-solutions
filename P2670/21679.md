感觉题解好难啊 编了一个自认为比较好理解的 有需要改进的地方请联系我

upd 21.11.4:下标从1开始，并且数组略大于数据范围，防止数组访问越界。

（还有数组较大时最好开成全局的，开成局部有爆空间的危险）

（可以尝试用两个数组存储八个方向）

~~5年前我写的都什么鸟样~~

~~没想到真来大学打acm了~~

```cpp
#include<iostream>
using namespace std;
int main()
{
    char a[105][105];
    int b[105][105],n,m,i,j;//数组定义（二维）
    cin>>n>>m;//读入行、列
    for(i=1;i<105;i++)
        for(j=1;j<105;j++)
            b[i][j]=0;//给数组赋值为0
    for(i=1;i<=n;i++)
        for(j=1;j<=m;j++)
        {
            cin>>a[i][j];
            if(a[i][j]=='*')//判断：如果是地雷
            {
                b[i+1][j+1]++;
                b[i+1][j-1]++;
                b[i+1][j]++;
                b[i][j+1]++;
                b[i][j-1]++;
                b[i-1][j]++;
                b[i-1][j+1]++;
                b[i-1][j-1]++;//相邻的八个格子都+1                
            }
        }
    for(i=1;i<=n;i++)
    {
        for(j=1;j<=m;j++)
        {
            if(a[i][j]=='*')
                cout<<"*";//如果是地雷（*） 原样输出
            else
                cout<<b[i][j];//否则输出数字
        }    
        cout<<endl;
    }
    return 0;
}
```