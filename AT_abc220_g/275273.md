简单题。

首先肯定是要枚举梯形其中一条底边的两个端点的。那么另一条底边除了斜率与这条边相等，两个端点的距离要分别与这条底边两个端点的距离相等。

发现这个十分不好做，考虑一个梯形是等腰梯形的一个充要条件。不难想到，连接两底中点，这条线段垂直于两条底边。于是除了要满足斜率相等外，还要满足两个点的中点连线的斜率为底边斜率的负倒数。要限定 $\frac{y_1 - y_2}{x_1 - x_2} = k$，移项得到 $y_1 - k x_1 = y_2 - k x_2$。于是只需限定这一项相等即可。实现时可以用 map。

注意一些细节，为了避免精度问题可以自己手写分数类，而且要特殊处理底边为水平线或竖直线的情况，两底还不能共线（可以把重合的直线放一起处理）。

时间复杂度 $O(n^2 \log n)$，常数有点大。

[code](https://atcoder.jp/contests/abc220/submissions/42277478)