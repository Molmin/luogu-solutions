简单题，设 $pre_i$ 表示上一个和 $a_i$ 相同的位置，$f_i$ 表示 $[1, i]$ 中有多少和 $a_i$ 相同的数，$g_i$ 表示 $[1, i]$ 中有多少个 $c$。然后我们考虑枚举 $i$，统计操作右端点为 $i$ 时的答案，显然地，我们会贪心的把左端点选在和 $a_i$ 相同的位置上，我们设这个位置是 $j$，那么此时的答案即为 $g_n + (f_i - f_{pre_j}) - (g_i - g_{j - 1})$（这里是通过计算增加的贡献来统计答案），然后我们发现其实只要求 $f_{pre_j} - g_{j - 1}$ 的最小值即可，我们对于每一个 $a_i$ 都开桶维护最小值即可。

时间复杂度 $O(n)$。[Code](https://codeforces.com/contest/1082/submission/205997781)