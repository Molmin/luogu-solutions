只要有信念，就一定能成功！

### [题意](https://www.luogu.com.cn/problem/P5547)
统计满足条件的 $n$ 节点无标号红蓝黄三色无根树，满足：红色点度数不超过 $4$，蓝色黄色点度数不超过 $3$，黄色点不能相邻，$n\le 3000$。

### 分析
无根树不太好考虑，不妨简化一下变成有根树。

无根树树哈希的常用套路是找重心，假设根是一个重心，那么显然，它最大的子树大小不会超过 $\lfloor n/2\rfloor$，实际上，如果直接计算这类有根树的个数，对于最大子树大小恰好为 $n/2$ 的情况，我们会算重复，所以还需要稍加容斥，具体地，我们要减去从大小为 $\lfloor n/2\rfloor$ 的有根树中挑出不同的两个然后根对根组成合法方案的方案数。

设 $f(o,k)$ 为以 $o$ 颜色为根，子树大小为 $k$ 的有根树方案数，考虑如何转移，设 $g(S,i,k)$ 为从考虑颜色集合 $S$ 为根的子树，选出 $i$ 棵子树大小之和为 $k$ 的方案数，枚举子树大小添加入贡献一直加到 $\lfloor n/2\rfloor$，复杂度即为 $O(n^2)$，[代码](https://www.luogu.com.cn/paste/4ofuqlvc)。