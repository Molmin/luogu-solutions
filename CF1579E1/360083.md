考虑如何保证字典序最佳。

一个元素进入双端队列，仅有进入左队头或右队头两种操作。

- 若此元素加入左队头使字典序更佳，即此元素比还未插入时的左队头小。

- 若此元素加入右队头使字典序更佳，即此元素比还未插入时的左队头大，仅有加入右队头一种选择。

核心代码：

```python
a=deque([l[0]])
for i in l[1:]:
    if i<a[0]:
        a.appendleft(i)
    else:
        a.append(i)
```