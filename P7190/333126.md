题目：[P7190 [COCI2007-2008#6] SEMAFORI](https://www.luogu.com.cn/problem/P7190)

思路：

这里给出一个较为简单的做法。

我们用变量 $s$ 存储当前走过的路程的长度，用 $sum$ 存当前用了的时间和。本题可以直接一边输入一边操作，每次输入三个数 $x$ ， $y$ ， $z$ ，然后将 $s$ 更新为 $x$ ， $sum$ 要加上走过这段路程的时间和等待红灯的时间，走过这段路程的时间其实就是 $x-s$ ，接下来我们只要看一下现在 $sum$ 处于红灯还是绿灯的时间内，若处于绿灯则不用加等待的时间，否则加上剩下还需等待的红灯的时间就行了。

需要注意的是，$sum$ 还要加上从最后一个信号灯走到终点所需的时间（由于终点没有灯，不需要加上等灯的时间），也就是  $l-s$ 。

代码：

```cpp
#include<bits/stdc++.h>
using namespace std;
int n,l,s=0,sum=0;
int main(){
	scanf("%d%d",&n,&l);
	for(int i=1;i<=n;i++){
		int x,y,z;
		scanf("%d%d%d",&x,&y,&z);
		sum+=x-s;//加上路程的时间
		if(sum%(y+z)<=y) sum+=y-sum%(y+z);//若是红灯，加上还需等待红灯结束的时间
		s=x;//更新当前路程
	}
	sum+=l-s;//总时间加上从最后一个信号灯走到终点所需的时间
	printf("%d",sum);
	return 0;
}
```


~~求赞QAQ~~