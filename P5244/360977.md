题目看上去求的是一个二维的 LIS 问题。考虑先将所有花按 $x$ 排序，预处理出到每个花 $i$ 时最多经过了 $c_i$ 朵花。接着考虑设 $f_i$ 表示到 $i$ 时再经过 $c_i$ 多花的前提下最少割了多少草。暴力转移显然：

$$f_i=\min_{c_j=c_i-1,x_j < x_i,y_j < y_i} f_j+(x_i-x_j)(y_i-y_j)$$

想要优化这个 dp，我们显然需要寻找一些性质。我们可以发现，若将所有花按 $c_i$ 分层后，对于同一层花 $i,j$ 若 $x_i>x_j$，则 $y_j$ 必定大于 $y_i$。所以我们大致可以往决策单调性上去靠。可以发现对于 $i$ 而言，若决策点 $j$ 比 $k$ 优，即 
$$f_j+(x_j-x_i)(y_j-y_i) \le f_k+(x_k-x_i)(y_k-y_i)$$

将式子拆开得到

$$f_j+x_jy_j+x_iy_i-x_iy_j-y_ix_j\le f_k+x_ky_k+x_iy_i-x_iy_k-y_ix_k$$

$$f_j+x_jy_j-f_k-x_ky_k\le x_i(y_j-y_k)+y_i(x_j-x_k)$$

因此我们可以发现若对于 $i$ 而言 $j$ 比 $k$ 优，且 $x_k>x_j$，则对于任意 $x_u>x_i$ 的 $u$ 而言，$j$ 都比 $k$ 优，因为此时 $x_j-x_k$ 的系数一定为变得更小，$y_j-y_k$ 的系数一定会变得更大，因此值显然增大，反之也是如此。

同时又因为对于同一层花 $i,j$ 若 $x_i>x_j$，则 $y_j$ 必定大于 $y_i$，则将同一层花按 $x$ 排序后，能转移到下一层花 $i$ 的一定是一段区间，因此考虑在每层花转移时，再前一层花上建一棵线段树，对该层的每朵花，在前一层的对应区间打上 tag，最后再根据决策单调性在线段树上分治地处理即可。

具体实现可以参见[代码](https://www.luogu.com.cn/paste/d5xecffz)

Tips:

最后要走到 (T,T) 这个点才能结束。