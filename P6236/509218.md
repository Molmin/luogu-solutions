[题目传送门](https://www.luogu.com.cn/problem/P6236)

这是一道贪心题。
# 思路
(源于官方题解)

- 想象一下，每个孩子都得到了他们想要的糖果($S$ 颗)，而现在他们不得不被带走，总共留下了 $M$ 个糖果。

- 由于孩子们将丢失的糖果数量-之和是恒定 $S-M$ 的，我们希望最小化这些数字的平方和。可以用数学方法(算术和几何平均不等式)证明，正数的平方和(具有固定和)在相等时是最小的。

- 设 $K$ 为需要拿走的剩余糖果数，$K$ 的起始值为 $S-M$。我们的目标是，如果可能的话，从每个孩子身上拿走等量的糖果，最好是 $K/N$。如果不可能，带走的糖果数量应尽可能接近 $K/N$。

- 如果想要最少糖果的孩子至少有 $K/N$ 糖果，我们就可以通过拿走 $K/N$ 糖果来实现目标，从而将问题转移到剩下的 $N-1$ 个孩子身上(通过减少 $N$，计算新的 $K$ 值，并处理下一个最小愿望的孩子)。

- 另一方面，如果孩子的糖果少于 $K/N$，我们无法从中拿走那么多，就将尽可能多地拿走，并继续处理剩余的孩子。

- 最后，我们可以输出从孩子们手中拿走的糖果的平方和。

------------
# AC 代码

------------

```c++
#include <bits/stdc++.h>
using namespace std;
int n,m;
long long sum,ans,a[100005];
int main() {
    scanf("%d%d",&m,&n );
    sum=-m;
    for(int i=0;i<n;i++) {
        scanf( "%d", &a[i] );
        sum += a[i];
    }
    sort(a, a+n);
    for(int i=0;i<n;i++) {
        long long w=min(a[i], sum/(n-i) );
        ans += w*w;
        sum -= w;
    }
    printf( "%lld\n", ans );
    return 0;
}
```
To err is human, to forgive divine.