【一片良心到初学OI一星期的新手都可以看懂的题解】

#### CF1119A

说是一条街上求最远的两栋不同颜色的房子，实质上就是求一个数组里面**最远的两个不同元素的距离**。

提出猜想：先从最后一个开始往前搜，搜到第一个和 $a[1]$ 不同的点就求距离 $ans1$ ，

然后从第一个往后搜，搜到第一个和 $a[n]$ 不同的点就求距离 $ans2$。

$ans1$ 和 $ans2$ 之中小的那个就是我们的答案 $ans$.

[**猜想是对的！（AC记录）**](https://www.luogu.com.cn/record/53435249)

接下来应该证明一下这个猜想。

假设我们有这样一条街：

red/ red/ blue/ green/ red/ blue /red/ red

那么肉眼可见 $ans1=ans2=ans=5$

以**从左向右搜**为例：

如果 $a[1]$ 和 $a[2]$ 同色，那么目标点到 $a[1]$ 的距离一定比到 $a[2]$ 的距离大1.

如果 $a[1]$ 和 $a[2]$ 异色，只有在数列末尾连续出现多个和 $a[1]$ 一样颜色的方格时，会导致 $ans1$ **不是真正的最小值**。但这时 $a[n]$ 一定和 $a[1]$ 同色，也就是说 $a[2]$ 与 $a[n]$ **一定异色**,则 $ans2$ 一定可以代替 $ans1$ 取到最大值。

证完了，不上代码怎么行？

```
void solve()
{
   cin>>n;
	for(int i=1;i<=n;i++)
	{
		cin>>a[i];
	}
	int ans1=0,ans2=0;
	for(int i=n;i>=1;i--)
	{
		if(a[i]!=a[1])
		{
			ans1=i-1;
			break;
		}
	}
	for(int i=1;i<=n;i++)
	{
		if(a[i]!=a[n])
		{
			ans2=n-i;
			break;
		}
	}
	cout<<max(ans1,ans2)<<endl;
}
```

再见啦~