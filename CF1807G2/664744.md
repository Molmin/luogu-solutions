同机房一位大佬在前几天的学校内部赛中出了一道与这道类似的题，从中受到很大启发。

简要题意：一开始有一个仅包含数字 $1$ 的数组，可以在此数组中选出若干个数，把他们的和加入数组中，问最终能否把数组变成给定数组。

不太知道暴力怎么打。

可以发现，我们将给定数组排序，那么排序后数组的第 $k$ 位数字就是我们要在第 $k-1$ 次加入的元素，因为第一次其实就是原来的 $1$。

所以问题转换为：排序后的序列中，第 $k$ 个数 $a_{k}$ 能否由前 $k-1$ 个数构成？一开始，我们有一个数 $1$。

拿样例分析一下：```7 1 5 2 1``` 排序后为 ```1 1 2 5 7```，前两个 $1$ 都可以构成，第三个数 $2$ 可以由前两个 $1$ 构成，但是第四个 $5$ 无法选择若干个数组成。所以无法构成这个序列。

我们定义一个数 $ans$，表示现在已经可以构成任意自然数 $x$ 满足 $0 \le x \le ans$。若现在来了一个数 $x$，更新 $ans$ 的条件当且仅当 $ans \ge x$，即两个数有交集，那么我们可以把 $ans$ 更新为 $ans+x$。若中途遇到哪个不能合并的，我们直接输出无解即可。

特别的，若 $n=1$，那么我们直接判断 $a_{1}$ 是否等于 $1$ 即可。


当然了，这道题完全不需要这么复杂。我们只需要统计一个前缀和 $s$，判断当前若 $a_{i} > s_{i}$ 则不合法。我们可以发现第 $m$ 次加数最多可以加 $2^{m-1}$，可以知道在最大的范围内的所有数都是可以由这些 $2^k$ 数组成的，所以只需判断是否在最大限度内即可。

两种做法时间复杂度均为 $\mathcal {O}(n)$。

[code](https://codeforces.com/contest/1807/submission/198924831)