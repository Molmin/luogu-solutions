首先条件可以转化为 不存在元素个数为偶数的子集的异或和为 $0$。

接着可以进一步转化为 不存在元素个数奇偶性相同的两个子集（不相同）的异或和相等。

那么我们就有了一个推论：不存在元素个数 $>n+1$ 的满足条件的集合。

证明：由于一个集合的奇子集和偶子集数量都为 $2^{x-1}$（$x$ 为集合元素个数），如果存在元素个数 $>n+1$ 的集合 $S$，那么它的偶子集（或奇子集）的数量为 $2^{|S|-1}>2^n$，根据鸽巢原理，肯定会有两个元素个数奇偶性相同的子集的异或和相同，不符合条件，矛盾。

由于元素个数变成了 $O(n)$ 级别，这似乎在提示我们写一个元素个数相关的算法。

设 $f_i$ 表示大小为 $i$ 的符合条件的集合个数。

考虑如果我们知道了 $f_i$，怎么递推出 $f_{i+1}$。

首先自然的想法就是统计第 $i+1$ 个数有几种填法。

不难发现，如果第 $i+1$ 个数填了一个数不合法，那么它必定是和前 $i$ 个数组成的集合的某个奇子集的异或和相同。而由于奇子集的异或和两两不同，所以第 $i+1$ 个数的填法数量刚好为 $2^n-2^{i-1}$。最后，由于这是有顺序的，所以结果要乘上 $\frac{1}{i+1}$。

答案即为 $\sum f_i$。