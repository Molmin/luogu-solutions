### 题意

给定一个 $1 \sim n$ 的数列，你需要不断选择其中的元素放到序列开头或末尾，直到序列递增，问最少要操作几次。

------------

### 思路

我们拟定一个数列，比如说 $1$ $8$ $5$ $2$ $6$ $3$。
仔细想想，想要使这个数列变成递增的，该怎么做呢。

通过观念可以发现只看数列中的 $1$ $2$ $3$，这三个数其实已经满足递增了。而在这道题目中，我们移动一个数字，后面数相当于会自动向前补位，所以对原先就满足递增的数不会造成影响。

于是，实际上我们只需求出对与一段连续的数它在排列中已经有序的最长长度，剩下的数暴力放到最前 $/$ 最后即可。

**结论**：答案为 $n$ 减最长上升子序列的长度......

------------

### code
```cpp
#include <bits/stdc++.h>
const int N = 10e5 + 10;
using namespace std;

int n, k, ans, len = 1;
int a[N];

signed main() {
    
    cin >> n;
    for (int i = 1;i <= n; i ++ ) {  cin >> k; a[k] = i;  }
    for (int i = 1;i <= n - 1; i ++ ) {
    	if (a[i + 1] > a[i]) len ++ ;
        else {
        	ans = max(ans, len);
        	len = 1;
		}
	}
    int v = n - max(ans, len);
	printf("%d\n", v);
    
    return 0;
}
```

