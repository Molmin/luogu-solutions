可以用互相抵消的方法，遇到 $4$ 和 $7$，就把它们相互抵消（这里我写的代码是全部变为 $0$)，最后剩下哪个就输出哪个。

------------

### 具体流程见下：
#### 计数阶段：

用两个变量记录 $4$ 与 $7$ 的个数，如果 $4$ 与 $7$ 的个数相同（且 $4$ 与 $7$ 的个数不为 $0$）则输出 $4$；
    
#### 抵消阶段：
    
   1. 如果是第一次遇到 $4$，做一个标记，说明这个数是 $4$，且记录这个 $4$ 所在的位置，为后面遇到 $7$ 抵消做准备；
      
   2. 如果是第一次遇到 $7$，做一个标记，说明这个数是 $7$，且记录这个 $7$ 所在的位置，为后面遇到 $4$ 抵消做准备；
      
   3. 如果是第二次遇到 $4$，(注意！一定要是第二次)再做一次标记，记录此位置，为抵消之后的返回做准备；
      
   4. 如果是第二次遇到 $7$，再做一次标记，记录此位置，为抵消之后的返回做准备；
      
   5. 如果在遇到 $4$ 之后又遇到了 $7$，开始抵消，用前面记录第一个 $4$ 的位置与当前的 $7$ 抵消变为 $0$，如果在遇到这个 $7$ 之前有第二个 $4$，则返回第二个 $4$ 的位置；
      
   6. 如果在遇到 $7$ 之后又遇到了 $4$，开始抵消，用前面记录第一个 $7$ 的位置与当前的 $4$ 抵消变为 $0$，如果在遇到这个 $4$ 之前有第二个 $7$，则返回第二个 $7$ 的位置。

#### 输出阶段：

由于前面的抵消导致在这个字符串中把能抵消的 $4$ 与 $7$ 全部归为 $0$ 了，所以剩下来的4或7就是输出的结果；若在这个变化过的字符串中没有出现 $4$ 或 $7$，则输出 $-1$。

（或许有人会疑惑，如果 $4$ 和 $7$ 的个数相同导致字符串中没有 $4$ 或 $7$ 怎么办？有这样疑问的人可以看一下**计数阶段**）

------------

#### 实在认为作者文采感人的可以看看下面这张图

这里样例用 $0$ $4$ $4$ $7$ $4$ $7$ 代替：

![](https://cdn.luogu.com.cn/upload/image_hosting/egizchcy.png)
------------
### 好了，直接代码实现：


```cpp
#include<iostream>
#include<cstdio>
#include<bits/stdc++.h>
using namespace std;
string s;
int i,ans,k=0,x,k2=1;
int main(){
    cin>>s;
    int sum1=0,sum2=0;
    for(i=0;i<=s.length();i++){
        if(s[i]=='4'){
            sum1++;
        }else if(s[i]=='7'){
            sum2++;
        }
    }
    if((sum1==sum2)&&(sum1!=0)&&(sum2!=0)){
        cout<<"4";
        return 0;
    }else
    for(i=0;i<=s.length();i++){
        if((s[i]=='4')&&(k==0)){
            k++;
            x=i;
            k2=0;
        }
        if((s[i]=='4')&&(k==2)){
            k=0;
            s[x]='0';
            s[i]='0';
            if(ans!=0){
                i=ans;
                ans=0;
            }
        }
        if((s[i]=='7')&&(k==0)){
            k+=2;
            x=i;
            k2=0;
        }
        if((s[i]=='7')&&(k==1)){
            k=0;
            s[i]='0';
            s[x]='0';
            if(ans!=0){
                i=ans;
                ans=0;
            }
        }
        if((s[i]=='4')&&(k==1)&&(k2==0)){
            ans=i;
            k2=1;
        }
        if((s[i]=='7')&&(k==2)&&(k2==0)){
            ans=i;
            k2=1;
        }
    }
    /*
    for(i=0;i<=s.length();i++){
        cout<<s[i];
    }cout<<endl;
    */
    for(i=0;i<=s.length();i++){
        if(s[i]=='4'){
            cout<<"4";
            return 0;
        }
        if(s[i]=='7'){
            cout<<"7";
            return 0;
        }
    }
    cout<<"-1";
    return 0;
}
```

------------

在最后，附上 $AC$ 记录: 

https://codeforces.com/problemset/submission/122/176413355