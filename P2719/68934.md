想纠正一下有篇题解里讲述的错误。

“很显然，dp [ 1 ] [ 0 ] 与 dp [ 0 ] [ 1 ] 的初始值应该为 1 ，因为当只有一张票被售出时，我们可以默认后两个人买的票类型相同，所以买到票相同的概率位 100% .”

同样很显然，我认为这句话是错的。数组代表已售 i 张 A , j 张 B 时后两人买到的票相同的概率，而当只售出一张票时，连两个人都没有，怎么能默认呢？反例：一共只有两张票，那肯定是一张A，一张B，两人拿到相同票的几率为0。

因此，正确的初始化应是这样的：
```cpp
f[i][0]=f[0][i]=1;
```

其中i>=2。

初始化完后就很简单了，每次买到票都会各有一半的几率使最后两人依旧买到相同票或变成不同，而我们记录的是相同的几率，状态转移方程为：
```cpp
f[i][j]=(f[i-1][j]+f[i][j-1])/2;
```
代码如下：
```cpp
#include<bits/stdc++.h>
using namespace std;
double f[1251][1251];
int main()
{
    int n,i,j;
    cin>>n;
    n=n/2;
    for (i=2;i<=n;++i)
    {
        f[i][0]=1;
        f[0][i]=1;
    }
    for (i=1;i<=n;++i)
    for (j=1;j<=n;++j)
    {
        f[i][j]=(f[i-1][j]+f[i][j-1])/2;
    }
    printf("%.4lf",f[n][n]);
    return 0;
}
```
