这题我们可以贪心构造。

大体思路是这样的：如果能继续维持之前走的方向，那么就维持，否则就改变。

什么时候能维持呢？

1. 上一次是向右走，右边还有走的次数，那就向右走，否则向左走。
2. 上一次是向左走，有些复杂，先看左边走的次数还剩下多少，只剩下 $1$ 次意味着走过去就不能再来了，所以右边的必须都是 $0$ 才可以继续往左走，否则只能向右走。如果左边的次数 比 $1$ 大，那就向左走。

按照思路模拟就行了，右边全为 $0$ 可以使用树状数组维护，但是没这个必要，只需要检查右边的元素是否为 $0$ 即可。