- 摘自 [here](https://www.luogu.com.cn/blog/261213wrh/usaco-2023-jan-sliver-ti-xie)。

------------

由于数据保证有解，我们只需要坚持一个基本原则：**能不转向就不转向**。

往右走，只要左边经过次数未满且未到边界就一直走。

往左走，此时需要考虑最后要走回去，所以还需满足 **不经过第二个剩余经过次数为 $1$ 的连通块。** 举个例子，如还需经过次数为 `3 1 1 5 5 5 1 1 1`，就最多只能走到四号位置。

暴力模拟，由于指针加减次数不超过 $\sum A_i$，所以时间复杂度为 $O(\sum A_i)$。[代码](https://www.luogu.com.cn/paste/wucn2ifr)