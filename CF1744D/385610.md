## 解题思路

设 $x=a_1 \times a_2 \times \dots \times a_{n-1} \times a_n$。

要使得变化过的 $x$ 能整除 $2^n$，就要尽量增加因子 $2$ 的个数。

因为每次操作都是乘 $i$，所以要使得操作次数尽量少，就要 $i$ 因子 $2$ 的个数尽量多。

那么我们就可以预处理出 $[1,n]$ 中的数因子 $2$ 的个数，再进行一次从大到小排序，之后依次遍历即可。