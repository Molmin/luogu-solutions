[CF1205D Almost All](https://www.luogu.com.cn/problem/CF1205D)

多个子树之间产生贡献不方便处理。注意到 $\dfrac 2 9$ 可以拆成 $\dfrac 1 3\times \dfrac 2 3$，且 $\dfrac 1 3 + \dfrac 2 3 = 1$，这启发我们将原树以某个点为中心分成两棵子树 $T_1, T_2$，设重合点为 $r$，则我们容易通过标边权使得 $T_1$ 每个点到 $r$ 的距离为 $0\sim |T_1| - 1$，$T_2$ 每个点到 $r$ 的距离为 $(0\sim |T_2| - 1) |T_1|$，做到使得距离 $1\sim |T_1||T_2| - 1$ 均出现。

将 $r$ 从 $|T_1|$ 和 $|T_2|$ 中去掉，则 $|T_1| + |T_2| = n - 1$。$|T_1|$ 和 $|T_2|$ 只需均不小于 $\dfrac {n - 1} 3$ 即可符合题目要求。

像这种子树大小相关的问题，可以从最有性质的重心入手。因为重心没有大小大于 $\dfrac n 2$ 的子树，所以若存在大小不小于 $\dfrac {n - 1} 3$ 的子树，则直接将其划分至 $T_1$，否则不断选子树直到大小不小于 $\dfrac {n - 1} 3$，则因所有子树大小均小于 $\dfrac {n - 1} 3$，所以最终 $|T_1| \leq \dfrac {2n - 3} 3$，故 $|T_2| \geq \dfrac {n - 1} 3$。[代码](https://codeforces.com/contest/1205/submission/182301441)。