**题目大意**

给定一个 $n\times m$ 的网格，每个格子上要么填 $1$，要么填 $-1$，有 $k$ 个位置上的数是已经填好的，其他位置都是空的。问有多少种填法使得任意一行或一列上的数的乘积为 $-1$。

$1 \leqslant n, m \leqslant 10^{3}$，$1 \leqslant k < \max (n, m)$。

**解法**

看到 $k$ 的范围，显然可知至少有一行或者一列为空。

假设空的是一行。那么剩下的行只需要满足那一行的乘积为 $-1$，而空的这一行对应一种唯一的填法。

显然，空的这一行填完之后的乘积为 $(-1)^m\times(-1)^{n-1}$，即 $(-1)^{m+n-1}$。

所以我们可以通过判断 $m$、$n$ 奇偶性是否相同进行计算求解。

每一行中，要么只填奇数个 $-1$，要么只填偶数个 $-1$。

这样就可以解决问题啦！时间复杂度为 $O(mn)$。

当然其实还有一种 $O(n)$ 的做法，这里要用到一个柿子（$n>0$ 时）：
$$
\sum_{k=0}^nC_n^k=2^{n-1}
$$

提示：可用杨辉定理、杨辉三角形证明。

于是乎，我们只需要预先处理 $2$ 的幂，就可以在 $O(n)$ 内解决问题。

代码实现也比较简单，这里就省略了，要自己思考哟QwQ

完结撒花！