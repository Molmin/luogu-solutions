# 题解 P8948 [YsOI2022]NOIp和省选

错过比赛也没事，来篇题解~

### Part1 题意

[原题传送门](https://www.luogu.com.cn/problem/P8948)

给定一个长度为 $n$ 的数组 $c$，其中 $c_1=2000,10 \le c_2,c_3,...,c_n \le 1990$，求两个数组 $a$ 和 $b$，满足：
- $0 \le a_i \le 400,0 \le b_i \le 600$；
- $\max\{a_i\} \neq 0,\max\{b_i\} \neq 0$；
- $c_i=1000 \times \left( \dfrac{a_i}{\max\{a_i\}}+\dfrac{b_i}{\max\{b_i\}} \right)$。

求出任意一组解即可。

### Part2 思路

首先，既然有一个人两个最高分，那直接简单粗暴地把这个人设置成 $400,600$ 即可。

接着考虑怎么弄出其他人的分数。
- 可以算出，比赛 $A$ 每降一分，总成绩会降 $1 \div 400 \times 1000 = \frac{15}{6}$ 分。同理，比赛 $B$ 每降一分，总成绩会降 $1 \div 600 \times 1000 = \frac{10}{6}$ 分。
- 这一坨分数我是（你们肯定也是）真不爱看啊！所以我们要加大降分力度，**把它们变成整数**：
  - 比赛 $A$ 每降 $2$ 分，总成绩会降 $2 \div 400 \times 1000 = 5$ 分；
  - 比赛 $B$ 每降 $3$ 分，总成绩会降 $3 \div 600 \times 1000 = 5$ 分。
- 显然比赛 $A$ 降 $2$ 分和比赛 $B$ 降 $3$ 分都会使总分降 $5$ 分。所以，我们已经能解决 $c_i$ 是 $5$ 的倍数的情况了：把需要扣的 $5$ 分的个数**平分到两个比赛扣**（防止哪个比赛扣没了，要给后面的微调留点空间），即设总共需要扣 $k$ 个 $5$ 分，则 $a_i=2 \times \lceil \frac{k}{2} \rceil,b_i=3 \times \lfloor \frac{k}{2} \rfloor$（当然，哪个是向上取整随便，关键是保证总数对）。
- 那这样我们就只需要考虑微调，也就是降 $1,2,3,4$ 分。拿出之前的分数，经过一波拼凑，我们发现：
  - 降 $1$ 分：即使只在比赛 $B$ 减 $1$ 分，也会使总分降 $\frac{10}{6}$ 分，即从原来的 $5$ 分降到 $3 \frac{2}{6}$ 分，四舍五入只剩 $3$ 分了。所以要在原来的基础上先往比赛 $A$（加比赛 $B$ 显然没啥用，还得扣）加 $1$ 分，再在比赛 $B$ 扣 $2$ 分，最后是 $4 \frac{1}{6}$ 分，四舍五入为 $4$ 分。
  - 降 $2$ 分：在比赛 $A$ 上扣 $1$ 分，即从原来的 $5$ 分降到 $2 \frac{1}{2}$ 分，四舍五入为 $3$ 分；也可以在比赛 $B$ 减 $1$ 分，会使总分降到 $3 \frac{2}{6}$ 分，四舍五入剩 $3$ 分。
  - 降 $3$ 分：在比赛 $B$ 减 $2$ 分，会使总分降到 $1 \frac{2}{3}$ 分，四舍五入为 $2$ 分。
  - 降 $4$ 分：在比赛 $A,B$ 各减 $1$ 分，会使总分降到 $\frac{5}{6}$ 分，四舍五入为 $1$ 分。
- **这样，我们只需要将原数先变成比它大的最小的 $5$ 的倍数，再进行微调即可。**

### Part3 代码

代码不难，但是细节贼多，可以看看注释。

```cpp
#include<iostream>
#define ll long long
using namespace std;
ll n,c; 
int main(){
	cin>>n>>c;
	cout<<"400 600\n";//第一名两个满分 
	while(--n){//--n只会读n-1次，别读多了（前面读一次了） 
		cin>>c;
		if(c%5==0){//5的倍数 
			//注意下面的微调直接体现在这两个地方了
			//    ↓                           ↓ 
			cout<<400-((2000-c)/5+1)/2*2<<' '<<600-(2000-c)/10*3<<endl;
		}
		if(c%5==4){//降1分 
			cout<<401-((2000-c)/5+1)/2*2<<' '<<598-(2000-c)/10*3<<endl;
		}
		if(c%5==3){//降2分 
			cout<<399-((2000-c)/5+1)/2*2<<' '<<600-(2000-c)/10*3<<endl;
		}
		if(c%5==2){//降3分 
			cout<<400-((2000-c)/5+1)/2*2<<' '<<598-(2000-c)/10*3<<endl;
		}
		if(c%5==1){//降4分 
			cout<<399-((2000-c)/5+1)/2*2<<' '<<599-(2000-c)/10*3<<endl;
			//                       ↑
			//这里/2*2不是多此一举，括号里+1括号外/2是为了同时处理奇、偶数，相当于向上取整 
		}
	}
	return 0;
}
```