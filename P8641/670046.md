### [P8641 [蓝桥杯 2016 国 C] 赢球票](https://www.luogu.com.cn/problem/P8641)

#### 题意简述
给定一个排列，可以从任意一个位置开始数数，如果数的数等于这个位置上的数，就可以取走这个数，求取的数的和的最大值。

#### 题目分析
注意到 $N<100$，我们可以考虑模拟。具体地，我们可以枚举一个起点，用报数器记录报的数。如果报数器等于这个位置上的数，那么我们就标记这个数，并把它累计到答案当中去，并将报数器清零；否则，我们就将报数器累加一，位置往下移一位，要注意数列是环形的。循环的条件是如果报数器大于 $N$ 或已经取了 $N$ 个数，那么就结束循环。具体代码如下。

#### 代码
```cpp
#include <bits/stdc++.h>
using namespace std;
const int N = 105;
int n, ans, a[N], v[N];
int main() {
	cin >> n;
	for (int i = 1; i <= n; ++i) cin >> a[i];
	for (int s = 1; s <= n; ++s) {
		int x = 1, i = s, sum = 0, cnt = 0;
		memset(v, 0, sizeof(v));//清空标记 
		while (1) {
			if (!v[i]) {//如果没被取走 
				if (x == a[i]) {//如果可以取走这个数 
					++cnt;//取走的个数 
					x = 0;//报数器 
					v[i] = 1;//已经取走了这个数 
					sum += a[i];//当前已取走的数的和 
				}
				++x;//报数器加一 
			}
			if (x > n || cnt == n) break;//如果报数器大于n或已经取走n个数 
			i = i == n ? 1 : i+1;//移到下一个位置 
		}
		ans = max(ans, sum);//统计答案 
	}
	cout << ans;
	return 0;
}
```