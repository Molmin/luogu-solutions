## B3624 猫粮规划 題解

一道 `dfs` 综合应用题。

给定 $n$ 个数字 $a_i$ 并给定一个区间 $[l,r]$，求出从 $a_i$ 中选出若干的数字的和在区间中的方案数。

**方法1：枚举子集。**

把所有的可能性全部求出并进行比较，若符合则将方案书增加 1。

时间复杂度 $O(2^n)$，比较题目数据范围，通过比较吃力。

**方法2：剪枝。**

剪枝是 `dfs` 中常用的优化方法。

如果从这个节点开始，无论如何都不能满足题意，那就将这个节点及以下的所有树全部“剪”掉，也就是直接忽略。

所以，我们可以一边枚举一边计算总和，如果总和超过了这个区间马上放弃。

我们可以按照此方法设计 `dfs` 函数：

- 定义 $w$ 数组存储枚举数，其中 $w_i$ 表示第 $i$ 个的数量；
- 定义 $a$ 数组记录数字的使用，如果该数字使用过标记为 1，否则为 0；
- 定义 $sum$ 变量记录每一次枚举后的数字总和并和最大值 $r$ 比较，如果超过了这个值，剪枝，直接回头；
- 枚举到终点时，如果没有超过 $r$，方案数增加。

可以通过本题。

管理员注：

由于课程需要本题不展示代码。

如需系统学习相关知识点请报名【洛谷-基础算法计划】