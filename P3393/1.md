模板题啊，ac率似乎不理想。

将被占领的城市放入队列中，进行bfs，bfs时，s层以内的都标记为危险。

然后最短路。

点权最短路怎么求呢？

一种办法是，一条边的边权改成连接的两个点权之和，算完最短路后结果div 2

还有别的一些办法。
