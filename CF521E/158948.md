~~为什么感觉第一篇题解的图是错的啊~~

这里提供一种简单的实现，找路径时只用跳父亲，无需遍历。

要求两个点之间有至少三条完全不相交的简单路径就是要找两个有相交边的环。

显然先将连通块间生成一个生成树，那么找两条非树边覆盖了同一段路径即可。

所以我们暴力给路径打标记，如果已被打过标记就说明有非树边相交了。

将非树边拿出来，分别设为 a-b 和 c-d，相交的路径为 x-y：

![](https://cdn.luogu.com.cn/upload/image_hosting/qeanbdag.png)

注意，这里的 a-x、b-y、c-x、d-y 都可能退化为一个点，但没有影响。

但要输出路径，为了方便，我们将某一端(如 a)当作根，将树拿起来，变成了这样：

![](https://cdn.luogu.com.cn/upload/image_hosting/02l8uzzc.png)

那么路径就是：

- x->a->b->y

- x->c->d->y

- x->y

由于树已经拿起来了(以 a 为根)，那么 x->a、x->c、b->y、d->y 就可以直接往上跳父亲来找到。

[核心代码](https://www.luogu.com.cn/paste/p523q2yt)