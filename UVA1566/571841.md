[题目传送门](https://www.luogu.com.cn/problem/UVA1566)以及[双倍经验](https://www.luogu.com.cn/problem/P4279)

简单的博弈论。

考虑分类讨论，可以列出：

1. 所有的为 $1$，那么取最后一个石子的人输，很简单，看堆数奇偶性即可。
2. 有一堆不为 $1$，那么看堆数奇偶性，和上面相反，如果是偶数堆，约翰可以将不为 $1$ 的堆剩下 $1$ 个石子，则转换为哥哥先手，偶数堆的情况。
3. 普通情况，我们可以想出如何转化为 1 或 2。

那么，这就十分像 nim 游戏了。（做这题的人应该都会吧）

所以，全部异或即可。

代码就不放了，反正其他题解也有。