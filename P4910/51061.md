
## 题意：

一串长为n的环状手环，相邻两个珠子至少有一个是金属性，求方案数。

打表得：


| n | 1 | 2 | 3 | 4 | 5 |
| -----------: | -----------: | -----------: | -----------: | -----------: | -----------: |
| f | 1  |3  | 4  | 7 | 11 |



发现$f_{i}=f_{i-1}+f_{i-2}$，直接用斐波那契矩阵加速做。

### ~~Over~~

## **正解：** 

递推推一下。

假设$f_1$~$f_{i-1}$都已求得，则第$i$个珠子有两种可能：

1. **金** ，则剩下$i-1$个珠子怎么选都行，有$f_{i-1}$种可能。

1. **木** ，则剩下$i-1$个珠子与之相邻的一个珠子必须是金的，剩下$i-2$个珠子随便放，有$f_{i-2}$种可能。

综上，递推式$f_{i}=f_{i-1}+f_{i-2}$，和斐波那契数列一模一样，直接套矩阵加速板子即可。


$ { \left [ \begin{array}{cc} f_i\\ f_{i-1}  \end{array} \right ]}={ \left [ \begin{array}{cc}1 & 1 \\1& 0 \end{array} \right ]}\times{ \left [ \begin{array}{cc} f_{i-1}\\ f_{i-2}  \end{array} \right ]}$



$f_1=1$,$f_2=3$

最后记得n=1,2时加个特判。