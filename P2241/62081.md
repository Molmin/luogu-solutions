我们只需要判断以(a,b)为左上顶点的长方形和正方形的数目。

很容易就知道以(a,b)为顶点的长方形有n-a种水平的边长，m-b种竖直的边长，以(a,b)为顶点的正方形有要取他们之间较小的数。于是以(a,b)为顶点的正方形有min(n-a,m-b)个，以(a,b)为顶点的长方形（包括正方形）有(n-a)×(m-b))个。

因为循环中(a,b)中的a,b都是升序的，所以不会有数重，我们可以放心地累加。题目中要求把正方形去掉，所以我们只需要把数出的长方形数目减去数出的正方形数目即可。棋盘为5000\*5000时长方形的个数为156270827082500个，显然用int是存不下的。

```cpp
#include <cstdio>
int main(){
    long long n,m,ans1=0,ans2=0,a,b;
    scanf("%lld%lld",&n,&m);
    for(a=0;a<=n;a++)for(b=0;b<=m;b++){
            ans1+=((n-a<m-b)?n-a:m-b);//累加正方形的数目
            ans2+=(n-a)*(m-b);//累加长方形的数目
    } 
    printf("%lld %lld",ans1,ans2-ans1);
}
```