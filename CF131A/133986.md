# 带有技巧性优化的题解！！！
首先对于这种大小写反转的题目，最直接的反应是**ASCII码的问题，如果是小写字母就-=32；大写字母就+=32**

那么就有了基本思路：

1. 输入字符串，判断是否满足条件（即是否“**它的所有字母都是大写或只有第一个字母是小写**”）
1. 如果是，就开始转，**大写字母+=32；小写字母-=32**
1. 若不是，**直接输出**

下面奉上AC代码以及我个人的一些小优化：
```cpp
#include <iostream>
#include <string>
using namespace std;
int main(){
	int i,j,k=0,n;
	string st;
	cin>>st;
	for(i=1;i<st.length();i++)//优化1：这里只要判断1至st.length()-1位
	if(st[i]<'A'||st[i]>'Z')k++;//因为只需要判断这个范围内是否是大写
	if(k==0){
		j=0;//注意：最容易漏掉这一步，如果不加就会重复转大小写！！！
		if(st[0]>='A'&&st[0]<='Z'){
		    st[0]+=32;
		    j++;//这样++
		}
		if(st[0]>='a'&&st[0]<='z'&&j==0){//用j==0判断是否转过
			st[0]-=32;
		}//优化2：此处指判断第一位，因为前面已经判断过1至st.length()-1位是大写
		for(i=1;i<st.length();i++)
		st[i]+=32;//所以不需要再进行判断，省时间
		cout<<st<<endl;
	}
	else cout<<st<<endl;//不是就直接输出
	return 0;
}
```

