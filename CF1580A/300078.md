> 给定 01 矩阵 $a$ 。你可以进行如下操作
>
> - 选择一个位置反色（1 变 0，0 变 1）
>
> 问使得 $a$ 满足下述条件的最少操作数
>
> - $\exists$ 大小为 $a×b$ 的矩形 $M$ 满足以下条件：
>   - $a≥5$，$b≥4$。
>   - 对于所有 $1<x<a$，块 $M_{x,1}$ 和 $M_{x,b}$ 为 1。
>   - 对于所有 $1<x<b$，块 $M_{1,x}$ 和 $M_{a,x}$ 是黑曜石块。
>   - 对于所有 $1<x<a,1<y<b$，块 $M_{x,y}$ 是一个空块。
>   - $M_{1,1},M_{1,b},M_{a,1},M_{a,b}$ 可以是任何类型。

需要一定的思维。

考虑枚举矩形的上下界（并且定住它）。考虑以类似双指针的方式移动左右边界。

首先枚举矩形的右边界。当一个以当前右边界为右边界、4为宽的矩形的代价<以当前右边界为右边界、当前左边界为左边界的矩形的代价时，将左边界移动到新矩形对应的左边界位置（即右边界-3处）。

关于算代价：用一个变量 $cnt$ 记录每个矩形 不计右边界这一条线 需要的代价，对每一个右边界的位置，再临时用 $cnt$ 加上右边界所需的代价来更新答案。每向右移动一次右边界，只需要在 $cnt$ 上更新上下边界新增的总计2个位置的代价。每移动一次左边界，重新利用二维前缀和算代价。

关于预处理：预处理出二维前缀和数组就够用了。

【参考代码】[CF Submission](https://codeforces.com/problemset/submission/1581/130464660)