题目大意：求将一个有向无环图删除若干边使得所有点的入度及出度要么减小，要么变为 $0$ 的所有方案中，最终的图最长路径最大值。

显然到达某个点的最长路可以用拓扑排序简单处理。但是对于入度仅为 $1$ 的节点，它的入边只能被删除从而其答案只能为 $1$。而如果不为 $1$，那么只需删除能到达该节点的所有节点中答案最小的节点连过来的边，因为这样仍然可以从更大的节点转移从而无影响。

同理，如果某个点只有唯一的出边，它这条边只能被割掉而不能转移到该边的终点。

对到达每个点的路径长度取 $\max$ 即可。