这题做了我两年半才做出来...细节是真的多......

注:此题黑白的先后顺序好像不符合常理。所以将此题黑白交换,即黑先。

定义:**度**表示一个结点与几个结点相连。

胜利条件0:遇到下图的情况,则必胜。(```@```表示棋子。```?```表示空)
```
@-@-?
  |
  ?
```
胜利条件1:如下图,**出现了度>=4的结点。**
```
  5
  |
2-1-3
  |
  4
```
黑第一步走1结点。那么剩下4个节点只要占满2个就可以胜利。最后一个下的一定是黑棋,此时黑胜。

胜利条件2:**出现了度>=3的结点。且至少有2个枝条大小至少为2。**
```
6-2-1-3-5
    |
    4
```
黑走1。若白走2或4或6,黑走3。白走3或5,黑走2。然后就构成了胜利情况0。黑胜。

注:以下情况无法连3子。为方便称作 T形。
```
2
|
1-4-5-6-7-8-9-...-
|
3
```
因为黑走1,则白走4.黑无法胜利。



首先看一个情况。度为3的结点。
```
1
|
2-4
|
3
```
如果黑下4,那么白必须走1,2,3中的任意一子。显然下2是最优情况。所以这种情况可转换为在4下一子。然后把1,2,3删掉。

胜利条件3:链
```
@-2-3-4-5-6-@
```
如果黑走3,则白必须走2。黑走5。则白必须走4。此刻黑走6,胜。观察规律。黑每次走的棋都是跳着来的。所以如果两个棋子的距离为偶,则黑必胜,否则和棋。

胜利条件4:**出现了两个度为3的点。且距离为偶。** 称作H形。
```
1                 12
|                 |
2-4-5-6-7-8-9-10-11
|                 |
3                 13
```
此时可转换为4,10有一黑子。

胜利条件5:**初始局面的黑子出现在度>=2的点上且n>=4。**
```
2-@-3-4      2-@-3
               |
               4
 (情况0)     (情况1)
```
黑此时走3。则转换成了开头讲的胜利情况0。

胜利情况6:**初始局面出现了至少3颗棋子。**
```
@
|              
1-4-5-6-7-8-...-@    @-2-3-4-5-6-@         @-2-3-@-5-6-@
|                          |
@                          @
(情况0)                  (情况1)                (情况2)     
```
对于链,一定中间会有一颗棋子,就是胜利条件5。对于T形,要么出现在中间满足胜利条件5,要么出现在3个叶节点上,此时如情况0,直接下在1就赢了。对于情况1,就直接是胜利条件2。

为方便,遇到T形就转换成一颗棋子。然后就判断胜利条件3,5,6。代码略。