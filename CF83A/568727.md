# 题意

如果一个数组的最小值和最大值相同，则称这个数组是符合要求的。定义一个数组的子数组为一个数组中的连续的数组成的序列。给你一个数组，求这个数组中符合要求的子数组有多少个。

# 思路

根据题意，我们在数组中找到一串连续并且相同的数字。

解决连续的数之和的公式就是：$(k \times k + k) \div 2$。

在找的时候，我们会遇到两种情况：

情况一，相邻两数相等，即 $a_i$ 等于 $a_i$ 的前一项：

连续的个数加一。

情况二，相邻两数不相等，即 $a_i$ 不等于 $a_i$ 的前一项：

套用公式，`sum` 加上 $(k \times k + k) \div 2$，然后 $k$ 变回 $1$。

循环结束后，在套用公式，统计总数。

最后输出 `sum`。

# 代码

```cpp
#include<bits/stdc++.h>
using namespace std;
long long n,k,sum;
int a[100010];
int main()
{
	cin>>n;
	for(int i=1; i<=n; i++) scanf("%d",&a[i]);
	for(int i=1; i<=n; i++)
	{
		if(a[i]==a[i-1]) k++;//情况一
		else sum+=(k*k+k)/2,k=1;//情况二
	}
	sum+=(k*k+k)/2,k=1;//最后再套用一次，统计总数
	cout<<sum;
	return 0;
} 
```