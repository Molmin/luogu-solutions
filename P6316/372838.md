### 初步估计本题难度差不多在橙黄之间。

-----------
## 分析+代码：

这道题的数据范围非常小：$3≤n≤100$，所以很多人想到了暴力枚举 $3$ 个点。可是这是一个 $n \times n$ 的矩阵啊，时间复杂度是 $O((n^2)^3)=O(n^6)$，肯定会超时。

但是题目说了只有 $26$ 个大写字母，所以只需要在 $26$ 个字母中进行枚举就可以了，时间降到了常数级别。

我们可以用一个 $mp$ 数组记录每个字母所在的行与列，枚举时只要符合在一条线上即可。

输入，枚举部分的代码：

```cpp
for(int i=1;i<=n;i++){
		for(int j=1;j<=n;j++){
			char c;
			cin>>c;
			if(c!='.'){//如果是字母
				mp[c-'A'].x=i;//减少一点空间
				mp[c-'A'].y=j;
			}
		}
	}
	for(int i=0;i<26;i++){
		if(!mp[i].x) continue;//防止有的字母没有出现过
		for(int j=i+1;j<26;j++){
			if(!mp[j].x) continue;
			for(int k=j+1;k<26;k++){
				if(mp[k].x&&check(i,j,k)) ans++;//判断是否符合要求
			}
		} 
	}
```

-----------------
这样，主要代码已经写完了，但还要一个很重要的没有写，就是判断函数。想要判断 $3$ 个点是否在一条线上，我们就需要知道一条线上点的性质。

假设有 $3$ 个点在一条直线上，坐标分别是 $x_1,y_1$，$x_2,y_2$，$x_3,y_3$，且确保 $x_1<x_2<x_3$，因为三点共线则以任意两点为端点的线段斜率均相同，所以得到如下结论：

$$\dfrac{x_2-x_1}{y_2-y_1}=\dfrac{x_3-x_2}{y_3-y_2}$$

由于小数不好比较相等，所以用交叉相乘变形一下：

$$(x_2-x_1)(y_3-y_2)=(x_3-x_2)(y_2-y_1)$$

所以，判断函数就写出来了。但仍需注意一点，就是 $3$ 个点不一定是按照 $x$ 升序排列的，所以需要先排个序。

```cpp
bool cmp(node x,node y){
	return x.x<y.x;
}
bool check(int i,int j,int k){
	a[1].x=mp[i].x,a[1].y=mp[i].y;
	a[2].x=mp[j].x,a[2].y=mp[j].y;
	a[3].x=mp[k].x,a[3].y=mp[k].y;
	sort(a+1,a+3+1,cmp);//按x排序
	if((a[2].x-a[1].x)*(a[3].y-a[2].y)==(a[2].y-a[1].y)*(a[3].x-a[2].x)){//判断条件
		return 1;
	}
	return 0;
}
```

--------------
重难点就是这些啦，自己写一写吧！