记 $v_p(n)$ 表示 $n!$ 中质因子 $p$ 的数量，易知其等价于 $1\sim n$ 中 $p$ 的数量和。

则有：

$$
v_p(n)=\sum_{k\ge 1}\lfloor\frac{n}{p^k}\rfloor
$$

可以在 $O(\log n)$ 的时间内计算。

考虑如果 $a|b$，则对于任意质数 $p$，它在 $a$ 中的幂次应小于等于它在 $b$ 中的幂次。

所以原问题等价于判断对于任意 $p$，是否有 $v_p(b)-v_p(a-1)\le v_p(d)-v_{p}(c-1)$。线性筛筛出 $1\sim 10^7$ 内的质数后直接枚举即可。

时间复杂度 $O(T\pi(U)\log U)=O(TU)$，其中 $u$ 为值域。