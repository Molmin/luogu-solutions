来写一个 $\text{gf}$ 推法。

首先发现黑白格子不能连着俩一样，所以一定是形成一段黑白链加一段灰交替出现，不妨将灰格子和黑白链进行捆绑，考虑用 $x$ 记录已形成序列的长度，$y$ 记录当前序列的权值，这样的话可以列出单个捆绑对象的生成函数：$\frac{x}{1-x}*\frac{2x}{1-xy}=\frac{2x^2}{(1-x)(1-xy)}$

现在无非是想用捆绑对象来生成序列，所以先整上一个 $\frac{1}{1-\frac{2x^2}{(1-x)(1-xy)}}$，然后发现在这样拼接完后可以在尾部再填上灰色格子，遂再乘上 $\frac1{1-x}$，即求 $[x^{n+1}]\frac{1-xy}{(1-x)(1-xy)-2x^2}=[x^{n+1}]\frac{1-xy}{1-x(y+1)-x^2(2-y)}$

是一个系数为 $y$ 多项式的线性递推，可以直接做也可以尝试大力解二次方程做分式分解。

代码再说。