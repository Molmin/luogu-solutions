**题意**
- [题目](https://www.luogu.com.cn/problem/AT2672)。
- $\text{CCF}$ 举办的 $\text{NOI}$ 开幕了！设立 $x$ 枚金牌，$y$ 枚银牌，$z$ 枚铜牌。
- 有 $x+y+z$ 个 $\text{CCF}$ 的崇拜者立下誓言，只要拿到 $\text{Au/Ag/Cu}$ 就给 $\text{CCF}$ 好多好多 $\text{money}$，分别有 $a_i$ 元，$b_i$ 元，$c_i$ 元！
- 求问 $\text{CCF}$ 最多能拿多少元。
- $x+y+z\le 10^5$。

**分析**
- 套路地给出 $\text{naive}$ 贪心：每次给币最多的那个牌牌（设 $n=x+y+z$）。
- 但是转移的时候可能会有点蒙对吧，因为转移有两个，转移中还可能引发别的转移。
- 幸运的是，这样的担心是不必要的，因为你可以先支付给 $\text{CCF}$ $\sum c_i$ 元，然后就不必考虑拿 $\text{Cu}$ 的情况了。
- 现在变成了选出 $x$ 名 $\text{Au}$ 元获得 $a_i-c_i$，和 $y$ 名 $\text{Ag}$ 获得 $b_i-c_i$ 元。
- 我们很容易知道一个人拿 $\text{Au}$ 更好还是拿 $\text{Ag}$ 更好，度量的方法就是 $a_i-b_i$ 的大小，所以对于已经挑选出的 $x+y$ 人的方案，我们可以将 $a_i-b_i$ 由大到小排序，将前 $x$ 人设为 $\text{Au}$ 一定是较优的方案。
- 那么对于一般的情况，我们也将 $a_i-b_i$ 由大到小排序（这样可以保证我们插入的总是末尾），然后我们需要满足两个基本的性质：每次决策时，都是当前的最优解，更新决策时，只是对当前的解进行微调可以得到新的最优解。
- 我们似乎可以自然地想到一个策略，如果插入的还有空位，直接在空位处插入即可，否则计算换掉一个 $\text{Au}$ 的代价和换掉一个 $\text{Ag}$ 的代价，取较小值更新。
- 这样的操作可能的问题是什么？在于换掉一个 $\text{Au}$ 后，可能增加的 $a_i-b_i$ 又使得之前某个被换掉的 $\text{Ag}$ 选手~~大喊一声优势在我~~然后蹦回来成了 $\text{Au}$。
- 不过这是容易解决的（虽然作者一开始没想到），我们可以按 $a_i-b_i$ 从大到小排序，维护前缀的 $\text{Au}$ 和后缀的 $\text{Ag}$ 然后扫一遍取较小值即可，并不会出现 $\text{Cu}$ 选手诈尸的问题。
- 复杂度 $O(n\log n)$。
- [代码实现](https://www.luogu.com.cn/paste/rdjahvd3)。