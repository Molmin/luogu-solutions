实际上是一个暴力憨批题，从它只有 $50$ 组数据也看得出来。

每个点要么横着动要么竖着动，枚举一下。

然后画出每个点可以到达的位置的轨迹，也就是四条线，但是可能重合。

有很多情况，可以发现只有这三种情况可能有解：

1. 横线竖线都 $2$ 条，当且仅当它们的 $4$ 个交点组成正方形时有解，然后再枚举点对配对情况。
2. 横线 $2$ 条竖线 $1$ 条（或反过来），那么正方形的顶点一定是那两个交点，然后再枚举是往哪一边。
3. 横线 $2$ 条没有竖线（或反过来），徒手解一下线性规划（大雾）就行。

然后就没了。

时间复杂度为 $\mathcal O (t)$，[评测链接](https://codeforces.com/contest/666/submission/72917718)。