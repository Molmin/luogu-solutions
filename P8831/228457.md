## 1.编程思路。

本题按要求直接模拟即可。

从输入的字符串中解析出给定日期的年（设用变量 $y$ 表示）、月（设用变量 $m$ 表示）、日（设用变量 $d$ 表示）。

要求出给定的日期距公元 $1$ 年 $1$ 月 $1$ 日过了多少天（设用变量 $ans$ 保存）。先计算出前 $y-1$ 年一共有多少天。不考虑闰年的话，一年有 $365$ 天，因此前 $y-1$ 年共有 $(y-1)\times 365$ 天，将这个结果先用 $ans$ 保存。

再考虑前 $y-1$ 年中有多少个闰年，每个闰年多加 $1$ 天。如果 $y\le 1582$，则每 $4$ 年是一个闰年，有 $(y-1)/4$ 个闰年，因此 $ans$ 应加上 $(y-1)/4$；如果 $y>1582$，闰年的判断可以简单描述为：每 $4$ 年一个闰年，每 $100$ 年不是闰年，每 $400$ 年又是个闰年，因此按这样的规则，前 $y-1$ 年的闰年个数为 $(y-1)/4-(y-1)/100+(y-1)/400$，还需加上前 $1582$ 年中每 $100$ 年按新规则不算闰年的年，具体有 $1582/100-1582/400$ 个闰年。

再用循环将第 $y$ 年前 $m-1$ 个月每月的天数也加到 $ans$ 中。

最后 $ans$ 再加上 $d-1$ 就是所求的答案。

由于 $1582$ 年的 $10$ 月少了 $10$ 天，因此对所求的 $ans$ 还需要进行校正一下。例如，当 $y>1582$ 时，$ans$ 需要减去 $10$。具体校正可以参看源程序。

## 2.源程序。

```c
#include <stdio.h>
#include <string.h>
int main()
{
    char month[13][4]={"","JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"};
    int table[2][13]={{0,31,28,31,30,31,30,31,31,30,31,30,31},{0,31,29,31,30,31,30,31,31,30,31,30,31}};
    char str[12],ch[4];
    scanf("%s",str);
    int i,k;
    int d,m,y;                      // 分别保存日期数据中的日、月、年
    d=str[0]-'0';
    i=1;
    if (str[1]>='0' && str[1]<='9') // 日d超过了9天，是2位数
    {
        d=d*10+str[1]-'0';
        i++;
    }
    for (k=0;k<3;k++)              // 取得月份的英文缩写
      ch[k]=str[i++];
    ch[k]='\0';
    y=0;
    while (str[i]!='\0')          // 得到年份y
    {
        y=y*10+str[i]-'0';
        i++;
    }
    for (m=1;m<=12;m++)          // 根据月份英文单词缩写求得月份 m
        if (strcmp(ch,month[m])==0) break;
    int ans;
    ans=(y-1)*365;               // 前y-1年共多少天
    if (y<=1582)                 // 闰年每年得多加1天
        ans+=(y-1)/4;
    else
        ans=ans+(y-1)/4-(y-1)/100+(y-1)/400-(1582/4-1582/100+1582/400)+1582/4;
    int leap=0;                 // 闰年标志，leap=1表示当前年是闰年
    if (y<=1582 && y%4==0) leap=1;
    if (y>1582 && ((y%4==0 && y%100!=0) || y%400==0)) leap=1;
    for (i=1;i<m;i++)           // 累计第y年前m-1个月的天数
        ans+=table[leap][i];
    ans+=d-1;
    if (y>1582) ans-=10;       // 年份过了1582年，减去1582年10月少的10天
    else if (y==1582)         // 1582年的特别处理
    {
        if (m>10) ans-=10;
        else if (m==10 && d>=15) ans-=10;
    }
    printf("%d\n",ans);
    return 0;
}

```
