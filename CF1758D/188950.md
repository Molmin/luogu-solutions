属于 Div.2 场的 D 题里比较简单的了。

***

首先考虑 $n$ 为偶数的情况。显然可以构造一个等差的数列，项数为 $n+1$，公差为 $1$，此时极差即为 $n$。它的和就是 $m \times (n+1)$，其中 $m$ 是**最中间**的那个数。$m$ 取 $n$ 就能最接近答案，但是它的和为 $n(n+1)$。这提示把最中间的那个 $n$ 去掉。这样一来项数是 $n$，和为 $n(n+1)-n=n^2$，正好符合要求。

```cpp
for(int i=n/2;i<=n+n/2;i++)if(i!=n)cout<<i<<' ';
```

难点在于 $n$ 为奇数。如果仍旧构造一个以 $n$ 为正中心的数列，它的和为 $n^2$，但极差是 $n-1$。需要调整。有什么办法对数列进行修改，并且**只影响这两个值中的一个**呢？

- 如果将数列中的每个数都加上 $d$，和将变为 $n^2+nd$，极差仍保持 $n-1$。
- 如果令 $a_1 \leftarrow a_1-c$，让 $a_n\leftarrow a_n+c$，和仍保持 $n^2$，极差将变为 $n-1+2c$。

我们将基于这两种操作来调整数组。

直接令 $d=-2$ 是不行的，因为这样会出现负数（可自行验证）。所以应当**先让极差变大**，再增大总和。

根据完全平方公式，最小的非 $n^2$ 的平方形式为 $n^2+2d+1=(n+1)^2$，所以要让极差变为 $n+1$。之后把和从 $n^2$ 变为 $n^2+2n+1$。

- 极差变为 $n+1$：最大值 $+1$，最小值 $-1$；
- 和变为 $n^2+2n$：整体所有数 $+2$；
- 和变为 $n^2+2n+1$：将次大值 $+1$。因为最大值已经加一了，次大值加一并不会产生重复数字。

代码自行处理。