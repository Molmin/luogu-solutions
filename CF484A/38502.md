# 题意

-  $n$ 组询问，每次给出一个区间 $l, r$ ，你需要输出在这个区间内二进制表示中$1$的个数最多的数

- 如有多个答案，输出最小的那个

-  $(n \leq10^4, 0\leq l, r \leq10^{18})$ 

来自@龙_之_谷 。

## 题面源代码

```
-  $n$ 组询问，每次给出一个区间 $l, r$ ，你需要输出在这个区间内二进制表示中$1$的个数最多的数

- 如有多个答案，输出最小的那个

-  $(n \leq10^4, 0\leq l, r \leq10^{18})$ 
```

# 思路

很明显，要求在区间\[$l,r$\]中，二进制表示中$1$的个数最多的数，我们只需要将数$l$最低的为$0$位改为$1$即可。

## 关于求最低的为$0$位

如果我们将一个数按位取反，则它最低的为$1$位，就是原数最低的为$0$位。

而求一个数$j$最低的为$1$位，我们可以这样：

```cpp
j&-j;
```

所以，我们可以这样表示将一个数$j$的最低为$0$位改为￥$1$。

```cpp
j+=(~j&(-~j);
```

# 代码

代码如下。

```cpp
#include<stdio.h>

long long n,l,r;//记得使用long long

int main(void){
	register int i;
	register long long j,ans;
	scanf("%lld",&n);
	for(i=1;i<=n;i++){
		scanf("%lld%lld",&l,&r);
		for(j=l;j<=r;j+=(~j&(-~j)))//不断增加
			ans=j;//赋值
		printf("%lld\n",ans);//输出，记得换行
	}
	return 0;
}
```