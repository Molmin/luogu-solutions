观察两项的值域。

$i\cdot j \in [2,n(n-1)]$

$k\cdot (a_i \texttt{ or } a_j) \in [0,2kn]$

前者在 $i$ 和 $j$ 较大时远大于后者。

假如把 $i$ 和 $j$ 放到 $n-1$ 和 $n$，那么此时最小的答案应该是 $n(n-1) - 2kn = n^2-2kn-n$，这里记为 $s$。

再假如把 $j$ 放到 $n$，若此时的 $i$ 可以更新 $s$，即 $in-0 = in > s = n^2-2kn-n$，解得 $i > n-2k-1$，也就是 $i\geq n-2k$。

所以只需让 $i$ 和 $j$ 在 $[n-2k,n]$ 暴力就行，复杂度 $O(Tk^2)$。