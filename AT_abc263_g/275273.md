## 题意

有 $i$ 种数，第 $i$ 种数是 $a_i$，有 $b_i$ 个。每次可以选择两个数 $x,y$ 满足 $x+y$ 为质数，将它们删除。问最多能删多少次。

## 思路

如果不存在 $1$，那么可以对 $i \ne j$ 且 $a_i + a_j$ 为质数的 $(i,j)$ 之间连边，容易证明这是一张二分图，因为 $a_i$ 和 $a_j$ 必然一奇一偶。那么做一遍二分图带权最大匹配，跑最大流即可。

现在问题就是 $1$ 可以和自己删，我们需要在保证其他数字删的对数最多的前提下，保留的 $1$ 的个数最多，使得最后删的最多。想到最小费用最大流，将 $S \to i$ 且 $a_i = 1$ 的弧的费用设为 $1$，其他弧的费用设为 $0$，最小费用就是最少删的 $1$ 的个数。

## 代码

[code](https://atcoder.jp/contests/abc263/submissions/35860712)