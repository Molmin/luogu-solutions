这道题要求我们对于每一个集合 $\{w_i,h_i\text\}$ 要在 $n$ 个集合中找到一个集合 $\{w_j,h_j\text\}$ 使得 $w_i>w_j,h_i>h_j$ 或 $w_i>h_j,h_i>w_j$。

容易发现，$w_i>h_j,h_i>w_j$ 其实就是将 $w_i$ 和 $h_i$ 互相交换值后需要满足的条件 $w_i>w_j,h_i>h_j$

我们不妨构造 $m$ 个集合（分别是 $\{w_1,h_1\},\{w_2,h_2\},···,\{w_m,h_m\}$），满足以下三个条件：

A：这 $m$ 个集合是通过题目给定的 $n$ 个集合删掉 $n-m$ 个得来的。

B：$m$ 要尽可能的大

C：保证 $w_k<w_{k+1}$ 且 $h_k>h_{k+1}$ $(1\le k<n)$

D：$h_i$ 要尽可能的小

（优先级：A>D>C>B）

这样我们就只需要二分出最大的 $a$ 使得 $w_a<w_i$（左面的 $w_a$ 是构造出来的，右面的 $w_i$ 是题目给定的，代表前 $a$ 个集合满足题目中 $w_i>w_j$ 的要求）二分出最小的 $b$ 使得 $h_b<h_i$（同上，代表后 $(m-b+1)$ 个集合满足题目中 $h_i>h_j$ 的要求）。然后判断 $a$ 是否大于等于 $b$（即是否有集合满足题目所有要求），若是，则输出 $a$ 对应的编号即可。

然后交换 $w_i$ 和 $h_i$ 的值（指题目中给定的 $w_i$ 和 $h_i$），重复上一次操作。

若两次操作都满足 $a<b$。就说明没有集合可以满足题目中的条件，此时应输出`-1`。

时间复杂度 $O(\sum n\log n)$