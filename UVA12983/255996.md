这题已经有多篇几乎一样的题解了，讲得很明白，可没讲清楚为什么想到用树状数组代替别的数据结构，参考蓝书所写。

正常来说，执行插入，查询前缀和应该用平衡树解决，但是这道题常数要求很高，平衡树实现难度也不小，因此不适合使用。



因此，这就用到了一种方法套路：树状数组+离散化干掉平衡树，设   $N$ 为序列长度。

为什么要离散化呢？因为树状数组是建立在值域上的数据结构，不离散化会爆。

我们把关键码 $A$ 数组 离散化到 $[2,N+1]$ 之间，设  $l(x)$ 为离散化后的值,添加一个数 $A(0)=-∞$,然后让 $l(A_0)=1$,在 $[1,N+1] $ 上建立树状数组，初始为零。插入决策为单点修改，查询即可前缀和。