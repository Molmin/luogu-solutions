乍一看，N≤120，肯定不能用搜索。其实，由于必须走到头才能转弯，所以真正有效的状态数并不多。

直接搜索即可，不过细节处理有点麻烦。
