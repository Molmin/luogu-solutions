### 思考过程
首先很容易看出这道题是差分约束，去找它的上下界，然后我就打算 spfa ，写了几步后才发现跑两遍 spfa。第一码量大，第二需要建两次图很麻烦。这时 $n$ 的范围就至关重要了，显然，Floyd 好写且不会超时，建图也十分方便。
### 解析
- 首先，考虑如何建图。维护两两砝码之间的上下界，这个应该非常好做。

- 接着跑 Floyd 求出每两两点之间的最值。求上界跑最短路，下界跑最长路，这个自然不用多说

- 重点来了，如何计算答案。对于判断两边不等的情况，我们两两比较即可，如果左边有一砝码与右边一砝码的差值恒大于右边剩余砝码与左边剩余砝码差值，则左边重，反之右边重。对于相等的情况，可以这样考虑，上述不等关系大于等于与小于等于时皆成立，这是差分约束中判等的一种常用方法。[代码](https://www.luogu.com.cn/paste/pap299ks)。

