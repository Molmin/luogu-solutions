## 杨辉三角
看完题目的计算规则，总感觉跟杨辉三角有点关系。不妨手动模拟一下sum的计算。

如果n为4，那么sum是a+3b+3c+d

如果n为5，那么sum是a+4b+6c+4d+e

如果n为6，那么sum是a+5b+10c+10d+5e+f

...

然后对比一下杨辉三角。。
![](https://img-blog.csdnimg.cn/20191005094054801.jpg)
额，，，此时，，，像发现了新大陆

sum的各项系数与杨辉三角有关！那么主题思路就有了：

那我们就可以通过预处理n<=12杨辉三角，在dfs枚举全排列中的每一个数时就乘上这个系数

## 大剪枝

dfs中有个累加的ans，一旦这个ans>sum。那么当前这个有n个数的全排列序列没有深搜完，也没必要继续下去了，因为后面无论填充什么数，它都不可能等于sum。继续深搜只是做无用功。


## 小剪枝

 这个是**lzh**大佬告诉我的，利用杨辉三角的对称性！

以n=5说明，如果n为5，那么sum是a+4b+6c+4d+e

那么我们dfs找一个全排列序列：a, b, c, d, e

注意到上式的系数是对称的，有什么好处呢？举例说：当b=3, d=5 和 当b=5, d=3，其他数位a,c,e相同，那么计算出来的sum值是一样的

又由于要求是字典序最小的，那么必定有符合题目要求的全排列必定有以下规律：a<e 且 b<d（这里仅仅是以n=5说明）

注：代码中有个细节我已经加了注释，原因我就不说了。如果懂了这个剪枝的意思，自然就明白为什么了。

**代码**
https://blog.csdn.net/qq_43290318/article/details/102131328
阅读效果更佳。。。

求过QAQ