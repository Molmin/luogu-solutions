### 本篇题解对解的存在性给出了严谨而完整的证明。

* 其他几篇题解大都跳过了关键步骤，所以我只好假定他们在跳过的步骤中使用了成立的证明...更不要提一些有逻辑错误的。。

* 下面是正文。

### 约定
* 定义 $sq=\lceil\sqrt{n}\rceil$。

### 简单环构造
* 首先原图保证连通、无重边、无自环。这很重要。

* 考虑建出 dfs 树，无向图下非树边显然是返祖边。

* **因为无重边，所以任意 $1$ 条返祖边一定构成一个大小至少为 $3$ 的简单环。推广可得，存在任意 $x$ 条返祖边则一定存在一个大小至少为 $x+2$ 的简单环。**

* 所以我们先在 dfs 树上尝试构造简单环。显然用栈或者深度记录一下很容易求得。

* 如果不成立，那么进行独立集构造。

### 独立集构造
* 既然不存在简单环，则不存在任意一个点有 $sq-2$ 条返祖边。换言之一个点最多有 $sq-3$ 条非树边。

* 取 dfs 树的随便一个叶节点来考察，容易证明将它拿走只会使总点数减少 $sq-3+1+1$（非树边、自己、父亲）$=sq-1=\lceil\sqrt{n}\rceil-1\leqslant \lfloor\sqrt{n}\rfloor$。

* 继续考虑取走这个点及与其相连的点之后的 dfs 树。

* 此时它可能不连通但我们无所谓，转而找一个深度最大的点。

* 容易证明该节点在当前的 dfs 树上一定没有儿子，可能有父亲，可能还有至多 $sq-3$ 条非树边，加在一起还是 $sq-3+1+1=sq-1=\lceil\sqrt{n}\rceil-1\leqslant \lfloor\sqrt{n}\rfloor$ 个点。

* 显然，上面的过程可以反复至少 $\lfloor\sqrt{n}\rfloor^2\leqslant n$ 次。
	* 如果取等，那么 $\lfloor\sqrt{n}\rfloor=\lceil\sqrt{n}\rceil$，从而我们已经取够题目要求的点数了。
    
   * 如果是 $<$，则一定至少还有 $1$ 个点，将它取上我们有 $\lfloor\sqrt{n}\rfloor+1 \geqslant \lceil\sqrt{n}\rceil$ 个点。
   
   * 从而我们给出了一种一定合法的构造方案。

### 对几种较容易想到的伪证的证伪
* 本部分无法举出反例，因为反例本来就不存在。

* 也请不要说这些证伪违背实际——解本来就是一定存在的，这里只能从这些伪证的错误假设/过弱的条件出发在形式逻辑和数学上证伪它们。

* 顺着 @ybwowen 的题解中的证明补一个看似很对的推导过程：
	* “每个节点最多只会有 $sq-2$ 个非树边，故每取一个点，只会使点数减少 $\lceil\sqrt{n}\rceil-1\leqslant \lfloor\sqrt{n}\rfloor$ 个，从而至少能取 $\lceil\sqrt{n}\rceil$ 次，即存在一个 $\lceil\sqrt{n}\rceil$ 的独立集。”
    
	* 错误。被取走的点可能有儿子节点与之相连，且一定有父节点与之相连，取一次的点数减少量下界为 $\lceil\sqrt{n}\rceil$，上界为 $n$。
    
   * 顺便一提，（我认为）每个点最多有 $sq-2$ 条非树边这一中间结论不够强，推不出结论（毕竟我是把它卡到了 $sq-3$ 才得证的，他的这个中间结论不够 specific，在放少量的互不相交的重边的图下依然成立...）。
   
   * 如果有什么能从 $sq-2$ 直接推出结论的方式请踹我一下，将我招魂过来~~膜拜~~学习。

* 顺着 @QwQcOrZ 的题解的证明：
	* “但是根据鸽巢原理...”（请自行参阅上下文。特别地，因为我实在不理解“独立集非法”是指独立集不独立还是指独立集不够大，所以我师心自用地从上下文认为是不够大）
	
   * 我认为这个是伪证。由（对应题解的）上文，我们此时构造出了一个 $< \lceil\sqrt{n}\rceil$ 的独立集，该独立集不能进一步扩大，但我认为这不能说明这个独立集中一定有至少一个点的度数 $d\geqslant \lceil\sqrt{n}\rceil-1$。
   
   * 这里鸽巢原理的运用，至少在我看来是指：
       * 如果独立集中的所有 $sq-1$ 个点都满足 $d<sq-1$（用一下我的符号不好意思），则每个点连同他自己和度数占用了至多 $sq$ 个点，从而 $\geqslant \lceil\sqrt{n}\rceil$ 的独立集一定存在，因为 $(sq-1)\times sq<n $。
       
     	* 但这显然不成立，譬如我们可以取 $n=5$，从而 $sq=3$。
        
       * 如果没有取整符号就成立。
   
   * 可能显得有点钻牛角尖，毕竟对应结论实际上在题设下成立，但对应题解似乎、并没有援引对应题设作为条件来说明这里一定成立（其实我也不知道怎么从题设出发证明这里鸽巢原理用对了...）。
   
* @MikukuOvO：
	* 我认为其中的 $\sqrt{n}$ 应为 $\lceil\sqrt{n}\rceil$。。
    
   * 从而这和 ybwowen 的思路同构，也是只卡到了 $sq-2$。
       * 其中的“父边”没有定义，我不知道算不算树上父子之间的边，如果算上他就卡对了。（$sq-2$ 条边就是一条与父亲的和 $sq-3$ 条非树返祖边）
       * 不过就算算了他还是错的，看下一条。
   
   * 而且逻辑错误，由“有 $\sqrt{n}-2$ 条父边”推出了“如果选择一个点，最多会有 $\sqrt{n}-2$ 个点无法选择”。没有考虑这个点本身。

* @Clever_Jimmy：
	* 前面基本没有在证明。看关键的“乱口胡”前面。
    
   * 因为找不到满足题意的环，等价于每个点最多连向 $q-1$ 个点，则最后一定会有大于等于 $q$ 个点（他的 $q$ 就是我的 $sq$）。
   
   * 这个“等价”是错的，对这个我甚至能举反例：菊花图。

* @ZCPB：
	* 首先这和 ybwowen 的思路同构，也只卡到了 $sq-2$。
    
   * 然后卡错了！
   
   * “对于每个点，最多与它 $\left\lceil\sqrt n\right\rceil-2$ 个祖先连边，所以，当它被选择时，最多有 $\left\lceil\sqrt n\right\rceil-2$ 个点不能选。”
   
   * 这个我们在 MikukuOvO 那里见过了，又是没有考虑本身。
   
   * 更不要提儿子的问题...我们姑且认为这里的意思是一直在拿当前叶节点吧，那就没有儿子了。
   
   * 相对的，ybwowen 的题解里把这一步跳过了，所以我只能假设他是对的。
   
* @万弘：
	* 和 ZCPB 错的一模一样，首先是和 ybwowen 同构没有卡到 $sq-3$ 条返祖边。
    
   * 当然，如果父向边包括树上那条父子边，那么卡对了。
   
   * “每个点至多有 $lim-2$ 条父向边 $\rightarrow$ 选择一个点至多导致 $lim-2$ 个点无法选择”
   
   * 好吧，这又是个没考虑那个点本身的。
   
* 为什么没有 huayucaiji？...对方认为这是小学奥数。

* 如果冒犯了，致歉。