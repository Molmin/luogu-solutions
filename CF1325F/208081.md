首先对于第一个问题，我们只要$dfs$出一棵树，然后判断是否存在一条非树边连接的两个点深度差$\ge \sqrt{n}-1$即可。

这里就有一个有趣的事情，如果找不到满足第一个问题的环，那么一定存在一个$\ge \sqrt{n}$的独立点集。

考虑没有重边，由于不存在一条非树边连接的两个点深度差$\ge \sqrt{n}-1$，那么一个点至多有$\sqrt{n}-2$条父边，也就是如果选择一个点，最多会有$\sqrt{n}-2$个点无法选择，不难得到一定存在一个$\ge \sqrt{n}$的独立点集。

关于找独立点集我们染个色就好了。

[$code$](https://pastebin.com/w1wGKTJ9)