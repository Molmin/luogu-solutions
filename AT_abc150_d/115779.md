$X$是$A$的半公倍数的条件重新定义如下:

- 对于任意的$k(1\leq k\leq N)$都有一个满足$X=\frac{a_k}{2}\times (2p+1)$的非负整数$p$

由于$X$是$\frac{a_k}{2}$的奇数倍，因此可以分为以下两个条件

- 对于任意的$k(1\leq k\leq N)$,$X$是$ \frac{a_k}{2}$的倍数
- 对于任意的$k(1\leq k\leq N)$,$X$可以被$2$整除的次数与$\frac{a_k}{2}$可以被$2$整除的次数相同

所以当存在$i$,$j$,$a_i$可被$2$整除的次数与$a_j$可被$2$整除的次数不同时，显然不存在一个合法的$X$

考虑何时不存在这样的$i$,$j$特判掉即可

令$\frac{a_1}{2},\frac{a_2}{2},...,\frac{a_N}{2}$的最小公倍数为$T$，显然所有$T$的奇数倍就是满足条件的$X$

注:以上大部分翻译自官方题解pdf

或者直接考虑有两种数字时，直接观察"半公倍数"

如果是$[6,10]$时,则变为$3$的奇数倍和$5$的奇数倍，并替换为原数的最小公倍数,并且$15$的奇数倍是一个条件.

而如果是$[6,8]$,则变为$3$的奇数倍和$4$的奇数倍，但可以发现这显然是不兼容的，依次类推.

- 当$a$和$b$被$2$整除的次数不同时:无解
- 当$a$和$b$被$2$整除的次数相同时:取最小公倍数替换
