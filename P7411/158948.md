好像不会分析有多少头奶牛，相信大概可能还会有人不清楚而问同样的问题（？

开始的想法是分析一头奶牛带来的贡献，如果加入一头奶牛可能对周围四头奶牛都造成 $1$ 的贡献。

当一头牛被贡献了 $3$ 时就会加入一个新的奶牛，但是考虑这个新的奶牛，他最多可能对除了造出它的奶牛的另外三个方向各造成 $1$ 的贡献。

这样分析就卡出问题了，一头被加入的牛可能造成 $3$ 的贡献，但 $3$ 的贡献就可以再造一头牛了。

这样从感性上是说不通的，因为它造成的 $3$ 的贡献是分散的，而你很难将这个贡献集中起来，集中的时候应该还会有代价导致不能无限膨胀。

考虑是否有可能无限扩展，如下图中 $X$ 为被加入的点。

```
  A
1AAA5
62X49
 738
```

发现 $X$ 对 $2,3,4$ 都造成了贡献，但是你想利用 $4$ 的贡献，如果不是往 $5$ 的方向扩展，那么肯定是用 $4$ 增殖的 $8$ 来转移贡献。

但是想造出 $8$ 就得在 $X$ 的外面，也就是 $4,5$ 中间 $9$ 的方向必定有额外代价。

如果是用 $4$ 来往 $5$ 的方向贡献，同理分析 $2$ 发现无法将其贡献直接转移到 $7$ 导致其贡献无法使用。

所以无限扩展是不可能的，而这样分析后也发现了，不管是主动加入造成的 $4$ 的代价还是被动加入的 $3$ 的代价，它们造成的都是对三面以上的方向的贡献，我们至多能共同利用其两个方向，而另一个方向就难以兼顾。

所以我并未分析出这类问题准确的界限，如果有会证明的或是看到了证明的请务必告诉我。

但就这道题而言，我们跳出这个分析也是可以找到它的界限的。

因为对于主动加入的牛的范围是限制在 $[0,1000]$ 的而被动加入的牛至多形成形如三角形的形状，故这道题最多有 $2000000$ 头奶牛，显然在可接受范围内。

于是我们直接暴力加牛并暴力扩展即可。