## 题意：
某人士有一个空的字符串 $S$ 和一个初始值为 $0$ 的变量 $x$。

另外还有一个由 $0$ 和 $1$ 组成的字符串 $T$。

某人士将进行 $|T|$ 次操作，每次操作包括两个步骤：
- 在 $S$ 的任意位置插入 $0$ 或 $1$ 。
- 将 $S$ 中从左数第奇数个数字的和加到 $x$ 上。例如，如果 $S$ 现在是  $01101$，那么 $S$ 中从左数第奇数个数字为 $0$, $1$, $1$，因此将 $2$ 加到 $x$ 上。

请输出满足将 $S$ 变为 $T$ 的最优操作序列中，最终 $x$ 的最大值。

## 思路1：
考虑题目中的操作，我们可以将其转化为从左到右依次在 $T$ 中的每个位置加入一个数，每个数为 $0$ 或 $1$，并求出最终 $x$ 的最大值。

为了方便，我们设 $S$ 的长度为 $m$，$T$ 的长度为 $n$，$S$ 中 $1$ 的个数为 $cnt$。

首先，我们可以很容易地发现，$S$ 的第 $i$ 个位置之前，只有 $cnt-(i-1)$ 个 $1$，因此从 $T$ 中的第 $i$ 个位置开始，我们只有两种选择：
- 在 $S$ 的第 $i-1$ 个位置和第 $i$ 个位置之间插入 $0$；
- 在 $S$ 的第 $i-1$ 个位置和第 $i$ 个位置之间插入 $1$。

为了使 $x$ 的值最大，我们希望尽可能让 $T$ 中的 $1$ 分布在 $S$ 中的奇数位置上，因为对于 $S$ 中的偶数位置，无论插入 $0$ 还是 $1$，都不会对 $x$ 的值产生任何影响。

因此，我们可以使用前缀和数组 $s$，其中 $s_i$ 表示 $T$ 中前 $i$ 个位置中 $1$ 的个数。假设我们从 $T$ 中的第 $i$ 个位置开始，在 $S$ 的第 $j$ 个位置插入 $1$，则有：

- $S$ 中插入的 $1$ 的个数为 $i-j$；

- $S$ 中插入的 $0$ 的个数为 $j$；

$x$ 的值增加的大小为 $\lfloor\frac{m-j}{2}\rfloor$。

而如果 $m-j$ 为奇数，则上式中 $\lfloor\frac{m-j}{2}\rfloor$ 会自动向下取整，因此我们需要分别考虑 $m-j$ 为奇数和偶数的情况。

对于 $m-j$ 为偶数的情况，我们可以直接计算出 $S$ 中插入 $1$ 的个数为 $\frac{m-j}{2}$，从而计算出 $x$ 的值增加的大小。

而对于 $m-j$ 为奇数的情况，我们需要将 $S$ 中插入的最后一个数设为 $0$，这样才能保证 $x$ 的值最大。此时，$S$ 中插入 $1$ 的个数为 $\frac{m-j-1}{2}$，$S$ 中插入的最后一个数为 $0$，因此 $x$ 的值增加的大小为 $\frac{m-j-1}{2}+1=\frac{m-j}{2}+1$。

综上所述，我们可以枚举 $i$，对于每个 $i$，从 $T$ 的第 $i$ 个位置开始，枚举 $S$ 中插入的位置 $j$，根据上述方法计算出 $x$ 的值增加的大小，并更新答案即可。

## 思路2：
这个问题的关键在于如何确定每次插入 $0$ 或 $1$ 时哪些位置可以插入 $1$。

我们可以利用前缀和来计算当前位置之前有多少个 $1$。对于从 $T$ 中的第 $i$ 个位置开始插入 $1$ 的情况，我们只需要在 $S$ 中插入 $i-j$ 个 $1$ 和 $j$ 个 $0$，其中 $j$ 表示插入位置。然后，我们可以计算新的 $x$ 值，这个值等于 $S$ 中的奇数位置上的数字之和的一半。

但是，当 $S$ 中的数字个数为奇数时，最后一个数字会被忽略，因此我们必须确保最后一个数字为 $0$，以便使 $x$ 的值最大化。这意味着插入位置 $j$ 必须为偶数，因此要插入 $i-j-1$ 个 $1$ 和 $j$ 个 $0$，最后一个数字必须为 $0$。

我们可以枚举 $i$，然后对于每个 $i$，枚举 $j$，以计算 $x$ 的值增加的大小，并更新答案。我们可以使用前缀和数组 $s$，其中 $s_i$ 表示 $T$ 中前 $i$ 个位置中 $1$ 的个数。

时间复杂度 $O(n^2)$，空间复杂度 $O(n)$。


## 核心代码：
```cpp
long long n=s.size(),ans=(n+1)/2*((n+2)/2),cnt;
for(long long i;i<n;i++)if(s[i]=='0')ans-=(1+(cnt+=(!((i^cnt)&1))))/2;
    
```
