这道题要求相邻的格子的差值是 $k^4$。如果是照着这个条件纯构造的话，非常难构造，而且很容易超过 $10^6$。

但是，我们可以考虑一个非常简洁的方法，来消除这个条件。没错，我们需要把所有不相邻的格子填上相同的数，这样当填下一个数的时候，相邻的四个格子都是一样的，那么我们只需要填一个数满足是这个数加（或减）$k^4$ 和是 $a_{i,j}$ 的倍数就行了。

我们知道，这个相同的数放在格子里需要满足这个数是 $a_{i,j}$ 的倍数，既然我们知道 $a_{i,j}\le16$。那么这个数必须是 $1,2,3$……$16$ 的倍数。为了防止数过大，我们必须取最小公倍数。因为 $1,2,3$……$16$ 的最小公倍数是 $720720<10^6$，所以符合条件。接下来我们就需要对所有 $a_{i,j}$ 求出对应的值是的能被 $a_{i,j}$ 整除且是 $720720\pm k^4$ $(k\ge 1)$。因为 $720720$ 是 $1$~$16$ 的倍数。所以考虑 $k=a_{i,j}$ 的做法，当 $k$ 取最大值 $16$ 时 $720720-k^4=655 184>0$ 满足条件。所以此构造成立。

时间复杂度：$O(nm)$

# AC code:
```cpp
#include<cstdio>
using namespace std;
int main(){
    int n,m,i,j;
    scanf("%d%d",&n,&m);
    for(i=1;i<=n;i++){
        for(j=1;j<=m;j++){
            int x;
            scanf("%d",&x);
            if(i+j&1){
                printf("720720 ");
            }
            else{
                printf("%d ",720720-x*x*x*x);
            }
        }
        printf("\n");
    }
    return 0;
}
```
