看了一下洛谷的其它题解，貌似都是找规律的...

---

**约定**：以下陈述基于 $t$ 确定的前提。容易发现“下一局的先手必胜”和“下一局的先手必败”这两者可以转化为同一个问题。只需将前者的 $t$ 除以2即可，下述仅考虑后一个问题。设 $f(s)$ 表示 $s$ 的胜负状态，0为先手胜，1位后手胜

**结论1**：可以将 $f(s)$ 按照其 $s$ 的取值划分为若干段，使得每一段的状态为以下两种之一：

- 胜负交替
- 全胜

**结论2**：每一段形如 $[\lfloor \frac{r}{2}\rfloor + 1, r]$，且按照顺序排序后有如下事实：

- 若后一段为全胜，前一段为胜负交替，且先负
- 若后一段为胜负交替且奇数胜，则前一段为全胜
- 若后一段为胜负交替且偶数胜，则前一段为胜负交替

**证明**：

可以发现这样划分后每一段 $\times 2$ 后的值域都会落在后一段上，因此如果胜负交替且奇数胜，前一段可以全选 $\times 2$ 取得胜利。其余证明显然。

关于如何想到的，倒推即可