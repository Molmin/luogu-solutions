# 两天艰苦奋斗的愤恨化解在AC的那一瞬

## 先放一下AC的艰难路程（~~我的AC率炸了~~

![](https://cdn.luogu.com.cn/upload/pic/52492.png)

首先在此说明，此篇题解光提供思路，不给代码

这题嘛，说难也不难，用不到什么特别厉害的算法，但说简单也不简单，很磨人主要思路就是
## 模拟 + 暴力枚举

刚拿到这道题的时候看起来还蛮不好想的，因为此题只有一个询问，于是先入手暴力，算一下可以与否

虽然输入的字符串长度最大是10，但是题目要求可以看到，只能变换为1,3,5,7,9这五个数字，设想一下把所有的情况暴力枚举出来，算一下复杂度是可行的

**因为转换后的数字最大为1e10，因此用朴素的2到sqrt的判断素数方法，单次判断是1e5这个样子，再算一下最坏情况的方案数，大概也就120种左右，因此暴力是可以接受的**


------------

**那么如何暴力枚举呢**？这是一个问题

采用了一中比较机智的方法（~~还是因为我比较偷懒不想打搜索啊喂！~~

因为顶多就五种数字，多于五种就直接输出然后exit（0）了，于是我们设置两个数组，一个存字符，一个存13579
```cpp
int shu[5] = {1, 3, 5, 7, 9};
int shuu[5];
```
他们互相对应，一种数字对应一种字母，再对shu数组里面的5个数进行全排序，然后挨个替换就好了
```cpp
while (next_permutation (shu,shu + 5))
    {
    	huan ();
    	chuli ();
    	if (is_prime (fuck))
		{
    		cout << fuck;
    		exit (0);
		}
	}
```
```cpp
void huan ()
{
	for (int i = 0; i <= strlen (a); i ++)
	{
		for (int j = 0; j <= 4; j ++)
		{
			if ((int)a[i] == shuu[j])
			{
				qwq[i] = shu[j];
				break;
			}
		}
	}
}
```
chuli是把数组转换成一个数的，这里全排序用的是next_permutation非常好用，可以自己去学一下，推荐题目 [P1108火星人](https://www.luogu.org/problemnew/show/P1088)，全排序的板子题（~~去给我的题解点赞！~~

我自己就是打的暴力，不过我很奇怪为什么会跑着这么快，大概是因为会有很多种解，根据题面意思的话，找出一种解还是很快的

我还想到一种优化（~~我自己没打~~

**把1e5一下的素数筛出来，每一次O（1）查询就好，这样子会快一点**

就这些吧，纪念我的第一道暂无评定