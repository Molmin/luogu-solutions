楼上那位大佬分析的好啊QAQ

**那我直接设一个变量表示当前是上升还是下降还是混沌，然后如果下一个观测目标与当前不符合就刷新，如果不一样了就把混沌弄成上升或者下降即可。**

但是大佬给的是Py的代码，那我再来一发C的吧QAQ

![](https://cdn.luogu.com.cn/upload/image_hosting/l1qyzpie.png)