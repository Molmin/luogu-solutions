我们注意到那些之间没有边的点对，它们显然必须异色，而且这个也显然是合法的充分条件。

于是我们对其补图判二分图。然后考虑如何求最小答案？对黑部 $x$ 个点，答案显然是 $\dbinom x2+\dbinom{n-x}2$。我们只需要求出哪些 $x$ 可以凑出来即可。

显然对于补图的每个连通分量只有两种染色方法，其一是 DFS 出来的那个，其二是反过来。于是我们可以类似背包，记录当前 $x$ 是否可以凑出来，然后对于每个连通分量就用两种值更新它。

然后现场我挂掉的原因是：DP 数组每轮不能直接或上两种决策，如果它本来就是 `true`，那么这个 `true` 不能算数。而 01 背包算数的原因是其中一种决策是 `dp[i-0]`。

复杂度平方，**_[code]( https://www.luogu.com.cn/paste/ra9ghbeb )_**。