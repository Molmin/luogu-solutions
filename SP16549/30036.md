~~这是一个萌新求助~~

显然暴力做因为度数的缘故所以非常的麻烦，于是我们考虑一个常见的 trick

对于每个点维护 $f_{u,0},f_{u,1}$ 表示子树内到他的白点/黑点的数量，那么查询只需要找到最顶部的一个父亲满足沿途其与其颜色相同，直接输出这个父亲的数组就是答案了。

于是只需要考虑维护，我们发现每次每次其实只会影响一段父亲的 $f$ 数组，那么只需要通过链修改计算答案即可，所以类似于查询处理即可。

通过树链剖分/LCT维护，复杂度为 $\mathcal O(n\log^2 n)$ 或 $\mathcal O(n\log n)$

LCT 的话前后者都通过 Splay 二分处理即可，然而我华丽丽的 TLE 了...

说好的 $1\log$ 呢... 不过感觉是写挂了，所以这里贴一份代码[求助](https://www.luogu.com.cn/paste/5twc5w4g)