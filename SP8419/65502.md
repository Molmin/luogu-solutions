如果不考虑第四种操作，我们可以发现这些过程很像辗转相除法的逆序。

另外，我们还可以通过组合获得 $(x-y,y)$，也就是说，我们可以通过前三种操作，到达 $(x,y)$ 的辗转相除法中**任意一种状态**。

由简单证明可得，**只用前三种操作时，$(x,y)$ 的 $gcd$ 是不变的**。

如果排开第四种操作，我们只需检验 $(x,y) , (a,b)$ 的 $gcd$（记为 $g_1 , g_2$）是否相等，再特判一下两个都为 $0$ 的情况即可。

那么第四种操作又对问题造成了什么影响呢？

不难发现，第四种操作只会将 $g_1$ 乘上 $2$ 的次幂，或者不变。

那么再判断一下 $g_2$ 是不是 $g_1$ 的 $2$ 的次幂倍即可。

**注意：操作只能应用于 $g_1$，所以并不能交换 $g_1 , g_2$。**

附上代码：

```cpp
void solve(){
	int x=llabs(read()),y=llabs(read()),a=llabs(read()),b=llabs(read());
	int g1=__gcd(x,y),g2=__gcd(a,b);
	if(g1&&g2%g1==0&&__builtin_popcount(g2/g1)==1)puts("YES");
	else if(!g1&&!g2)puts("YES");
	else puts("NO");
}
```