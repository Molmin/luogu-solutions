第一反应，先tarjan缩点。之后我们得到一个没有环的新图。
 
如果不走逆向边，那么从1出发回到1，新图没有环，走过的点数就是原图1所在的环点的数目
 
但是我们又一次走逆向边的机会，所以在没有环的情况下，我们可以主动制造一个环
 
 
 
考虑如何制造一个环？
 
因为我们可以走反向边，假设对于边j反向得到了一个环。
 
那么就相当于在这里由环断为两条链 
 
链中存在两种点 ：一个是1可以到达的点 ， 另一种是可以到达1的点
 
对于这个可以用拓扑排序处理出来（预处理时要注意细节，详见代码）
 
 
 
考虑怎样得到答案：
 
我们可以枚举某一条边，把它反向，
 
ans=从1到此边一点的数目+另一点到1的点的数目-1所在强连通分量点的数目(因为这个环被加了两次)
代码见博客
[安然流香](http://www.cnblogs.com/adelalove/p/8490391.html)
