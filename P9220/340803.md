key observation：如果某个人没有必胜策略，他总是可以操作上一轮的人操作的节点。

这说明了如果先手有必胜策略，他必然在第一轮胜利。

考虑其第一轮胜利的条件，当且仅当存在一个黑色节点能够到达其他所有黑色节点，且无法到达任意一个白色节点。

注意到若一个强连通分量内有异色点，则上述条件一定不满足，缩点后在 DAG 上 dp 即可。

考虑后手，后手如果要胜利则必须在第二轮胜利。考察入度为 $0$ 的白点，若存在，当且仅当全图为白色时后手胜利。

若不存在，则当且仅当存在如下情况后手胜利：只有两点，黑点连白点；两个孤立黑点。

否则直接判平局。