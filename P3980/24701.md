[代码太占篇幅，放这了](https://blog.csdn.net/qq_33831360/article/details/94151862)

## 分析与建模
设第 $i$ 天需要 $x_i$ 个志愿者，记 $a_{ij}$ 为第 $i$ 天第 $j$ 个志愿者是否能工作。
题目要求总费用最低，即求：$Min \, z = \sum_{i=1}^{n}{C_i * x_i}$。
它们需要满足要求：

$$\begin{cases}  a_{11}x_1+a_{12}x_2+a_{13}x_3...+a_{1m}x_m \geq A_1 \\a_{21}x_1+a_{22}x_2+a_{23}x_3...+a_{2m}x_m \geq A_2 \\ ...\\a_{n1}x_1+a_{n2}x_2+a_{n3}x_3...+a_{nm}x_m \geq A_n \\ x_1,x_2,x_3  ... x_m \geq 0 \end{cases}$$

这明显是一个的线性规划问题,但它不是标准形式,需要一些改造。
### 方法一 转化为对偶问题
观察它的对偶问题：$Max \, w = \sum_{i=1}^{m}A_i*y_i$。
设$b_{ij} = a_{ji}$, 为第 $i$ 个志愿者第 $j$ 天是否能工作,新的约束条件为：

$$\begin{cases}b_{11}y_1+b_{12}y_2+b_{13}y_3...+b_{1n}y_n \leq C_1 ;\\b_{21}y_1+b_{22}y_2+b_{23}y_3...+b_{2n}y_n \leq C_2 ;\\ ...;\\b_{m1}y_1+b_{m2}y_2+b_{m3}y_3...+b_{mn}y_n \leq C_n ;\\ y_1,y_2,y_3  ... y_n \geq 0;\end{cases}$$

添加松弛变量后为：

$$\begin{cases}b_{11}y_1+b_{12}y_2+b_{13}y_3...+b_{1n}y_n+y_{n+1} = C_1 \\b_{21}y_1+b_{22}y_2+b_{23}y_3...+b_{2n}y_n+y_{n+2} = C_2 \\ ...\\b_{m1}y_1+b_{m2}y_2+b_{m3}y_3...+b_{mn}y_n+y_{n+m} = C_n \\ y_1,y_2,y_3  ... y_{n+m} \geq 0\end{cases}$$

这是线性规划的标准形式，对偶问题可以使用原始单纯型法求解。
根据对偶定理，若原问题有最优解，那么对偶问题也有最优解，且目标函数值相等。题目要的只有目标函数值，所以可以直接求解对偶问题，但这种方法得到的解不是原问题的解，所以这种方法实际上不太合适，不过它只要最基本的单纯形法，故放第一位。

### 方法二 人工变量法
在加入剩余变量后，分别给每个约束方程加入人工变量$x_{m+n+1},...,x_{m+n+n}$,得到初始基可行解。

$$\begin{cases}a_{11}x_1+a_{12}x_2+a_{13}x_3...+a_{1m}x_m - x_{m+1} + x_{m+n+1} = A_1 \\ a_{21}x_1+a_{22}x_2+a_{23}x_3...+a_{2m}x_m - x_{m+2} + x_{m+n+2} = A_2 \\ ...\\a_{n1}x_1+a_{n2}x_2+a_{n3}x_3...+a_{nm}x_m - x_{m+n} + x_{m+n+n} = A_n \\ x_1,x_2,x_3  ... x_m+n+n \geq 0\end{cases}$$

#### 1. 大M法
人工变量不能影响目标函数取值，必须从基变量中换出来。为此，可以在目标函数中把人工变量的系数设成M(一个充分大的数/惩罚系数)，使得在求Min的过程中，人工变量变为非基变量可以大大减小目标函数值
$Min \, z = \sum_{i=1}^{n}{C_i * x_i}+\sum_{j=m+n+1}^{m+n+n}M*x_j$


#### 2. 两阶段法
两阶段法则更为直接，第一步，目标函数为$Min \, w = \sum_{i=m+1}^{m+n}{x_i}$，即尽量使人工变量取值为0，如果$w>0$，说明人工变量换不出去，即无解。若$w = 0$，说明有可行解，进行第二阶段，把矩阵中人工变量部分删掉，目标函数换回原问题的，即$Min \, z = \sum_{i=1}^{n}{C_i * x_i}$

### 方法三 对偶单纯形法

将所有式子同乘$-1$后得到类似标准形式，但是b列出现负数，不能用原始单纯形法。
整理一下式子：$Max \,z_{'} = \sum_{i=1}^{n}{-C_i * x_i}$

$$\begin{cases}-a_{11}x_1-a_{12}x_2-a_{13}x_3...-a_{1m}x_m + x_{m+1} = -A_1 \\ -a_{21}x_1-a_{22}x_2-a_{23}x_3...-a_{2m}x_m + x_{m+2} = -A_2 \\ ...\\-a_{n1}x_1-a_{n2}x_2-a_{n3}x_3...-a_{nm}x_m + x_{m+n} = -A_n \\ x_1,x_2,x_3  ... x_m \geq 0\end{cases}$$

这里只介绍一下步骤，正确性证明请百度。
 1) 对线性规划问题是所有检验数<=0,即对偶问题为基可行解。(本题初始既满足)。
 2) 检验：若b列都非负，检验数都非正，已达到最优解，停止计算。
 3) 按$min[(B^{-1}b)_i,|(B^{-1}b<0)_i]=(B^{-1}b)_l$对应的基变量$x_l$为换出变量
 4) 检查$x_l$行各系数$a_{lj}$，若所有$a_{lj}>=0$，说明无解。否则，计算$\theta = min_j(\frac{c_j-z_j}{a_{lj}} |a_{lj}<0) = \frac{c_k-z_k}{a_{lk}}$，以对应的$x_k$ 为换入变量($\theta$规则保证对偶问题的解仍为可行解)。
 5) 以$a_{lk}$为主元素，进行迭代，得到新表。
重复(2)～(5)。
