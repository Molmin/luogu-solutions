这是本人的第 $002$ 篇题解。

---

## 1 题意简述

有 $n$ 个事件，要求在时间不冲突的情况下完成尽量多的事件。（完成一个事件后可以立即开始下一个事件。）

## 2 思路分析

这道题就是个贪心题。

贪心，是一种**仅考虑当前决策、不顾全大局**的思想，与 DP（动态规划）正好相反。正因为如此，许多贪心代码很短，许多贪心代码都是错的。

在这道题上，我们该根据什么贪心呢？下面有几个选择，我们需要选出正确的。判别贪心正确与否的方法是找反例和证明。

1. 先做早开始的事件。
1. 先做持续时间短的事件。
1. 先做早结束的事件。

或许你认为还有别的可能性，但这里只列举 $3$ 个。

下面是这三种贪心的证明过程。

### 2.1 先做早开始的事件

表面看看很正确，但如果一个事件开始的时间很早，而持续时间很长，那这个算法就爆炸了。**举出反例**：

输入：

```
3
1 100
2 1
3 1
```

正确的输出：

```
2
```

对“先做早开始的事件”贪心的输出：

```
1
```

所以明显地 `WA` 了。应该先做 `2`，再做 `3`，而根据这个算法，程序认为 `1` 开始的时间早，这样 $100$ 时间过去了，只做了一个事件，忽略了 `2` 和 `3`。所以这种算法是错误的。

### 2.2 先做持续时间短的事件

吸取了上一次的教训，发现事件的持续时间很重要。那么，先做持续时间短的事件是否可行呢？

看看也十分正确，但仍然可以轻松举出反例。

输入：

```
4
1 100
2 2
4 1
5 2
```

正确的输出：

```
3
```

对“先做持续时间短的事件”贪心的输出：

```
2
```

所以又明显地 `WA` 了。应该先做 `2`，再做 `3`，再做 `4`，而根据这个算法，程序认为 `3` 持续的时间短，但先做 `2` 就多做了一件事情。所以这种算法是错误的。

### 2.3 先做结束时间早的事件

吸取了上一次的教训，发现事件的结束时间很重要。那么，先做结束时间早的事件是否可行呢？

看看也十分正确，实际上也十分正确。

为什么呢？

当一个事件结束得较早时，它便为下一个事件留下了更多的时间，就能做更多的事件。所以明显正确。

也举不出反例了。（读者可以自己试试。）

## 3 算法流程

清晰明了。有了 1 的阅读基础，可以得出：先按照结束时间排序，再一个个地判断能否参加。

## 4 代码实现

```c++
#include <cstdio>
#include <cstring>
#include <iostream>
#include <algorithm>

using namespace std;

const int N = 1e4 + 10;

struct Node {           // 定义结构体，存储的是每个事件
    int start;          // 事件的开始时间
    int end;            // 事件的结束时间
    int last;           // 事件的持续时间
} event[N];

bool operator<(Node i, Node j) {
    // 重载运算符，用来对结构体排序。
    // 除此之外，常用的对结构体排序的方法还有自定义比较函数。不懂的可以百度。
    return i.end < j.end;
}

int n;

int main() {
    cin >> n;
    for (int i = 1; i <= n; i++) {  // 读入
        scanf("%d%d", &event[i].start, &event[i].last);
        event[i].end = event[i].start + event[i].last;  // 计算结束时间
    }
    sort(event + 1, event + n + 1); // 排序
    // 下面遍历每个事件，判断开始时间是否在做的上一个事件的结束时间后。
    int cur = event[1].end;         // 做完这些选择的事件的结束时间。第一个事件肯定做。
    int ans = 1;
    for (int i = 2; i <= n; i++) {
        if (event[i].start >= cur) {// 判断。
            ans++;
            cur = event[i].end;
        }
    }
    cout << ans;
    return 0;
}
```

## 5 总结

这道题用了贪心的思想。这个思想不能随便用，需要证明其正确性或举出反例。这样才能保证不出错。

贪心的思维过程很重要。您在必要的时候可以画图或列式子。如本题，您可以把每个事件的开始和结束的时间连起来简化成线段，一起画到数轴上，整体地观看便于思考。

## 6 其他

这篇题解纯手打（废话），如有任何错误或不妥之处请评论。谢谢。