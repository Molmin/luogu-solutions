#### Description

> 给定一棵点数为 $n$ 的树，并给定 $q$ 组询问，每一组询问给出 $a,b$，求与点 $a$ 和点 $b$ 距离相等的点的个数。

#### Solution

LCA 好题，但是处理的时候会有点麻烦。

下文中 $path(a,b)$ 为点 $a$ 到点 $b$ 的路径长度，$sz_i$ 为以点 $i$ 为根的子树大小。

首先我们把问题简化一下，简化为一条链的两边为点 $a$ 与点 $b$，求有多少个点到点 $a$ 和点 $b$ 的距离相等，不难发现，当 $path(a,b) \bmod 2\ne 0$ 时，就没有满足要求的点，当 $path(a,b) \bmod 2=0$ 时，就有满足要求的点，即为中点。

那我们可以把树改成从这条链引申出若干条边形成的树，那么，不难发现，从中点引出的所有点均满足要求。所以我们分类讨论一下：

- $path(a,b) \bmod 2 \ne 0$，答案为 $0$。
- $path(a,b) \bmod 2=0$：
	- $a$ 和 $b$ 到 LCA 的距离相等：答案为 $n-sz_{f(a)}-sz_{f(b)}$，其中 $f(a),f(b)$ 定义为点 $a$ 和点 $b$ 的祖先中深度为他们 LCA 深度 + $1$ 的点。
    - $a$ 和 $b$ 到 LCA 的距离不等：中点与 $a,b$ 的距离即为 $\dfrac{path(a,b)}{2}$，中点的编号即为 $a$ 和 $b$ 中深度较大的向上爬 $\dfrac{path(a,b)}{2}$ 个点的位置，假设他为 $k$，计算 $sz_k$ 减掉 $a$ 和 $b$ 中深度较大的点所在的子树大小即可。
- $a=b$，答案为 $n$。