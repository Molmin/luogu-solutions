首先，想让最终序列是一个排列，那么一定不会有重复的元素，所以第一步就应该把重复的元素都只保留一个，其余全删掉。

设去重后序列长度为 $l$，然后将去重后的序列排序。

枚举一个 $i$，计算要把序列搞成是一个长度为 $a_i$ 的排列，需要多少花费。想让排列长度为 $a_i$，首先就要补齐 $1\sim a_i$ 中缺失的数，但你现在只有 $i$ 个数，所以要增加 $a_i-i$ 个数；其次需要把 $a_i$ 后面存在的数字全删掉，也就是删掉 $l-i$ 个数。总花费即为 $(a_i-i)\times d+(l-i)\times c$。

每枚举一次后更新答案即可。记得这个答案要与第一步去重所用的花费相加！

注意还有一种需要特判的特殊情况：将序列删完后再补上一个 $1$。

有人可能会问为什么最终排列长度一定是一个在序列中的某个元素的值（排除最终需要特判的特殊情况）。因为如果长度是 $x$，而 $a_{i-1}<x<a_{i}$，那么你为啥不把排列长度搞成 $a_{i-1}$？搞成长度为 $x$ 的话你还要用一些花费去增加一下 $a_{i-1}+1\sim x$ 这些元素啊。

[Code](https://codeforces.com/contest/1810/submission/200098422)