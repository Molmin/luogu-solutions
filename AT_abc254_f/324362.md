有点意思，但是线段树写挂了，没赛场调出来。   

先把答案的式子表示出来，为了方便，把每一个横行的 $\gcd$ 表示成 $f(x)$ ，$f(x) = \gcd(a_x, a_x + b_i, a_x + b_{i + 1}, \dotsb, a_x + b_j)$，总的答案就是 $\gcd(f(i), f(i + 1), \dotsb, f(j))$。   

要用到一个数论知识 $\gcd(a_1, a_2, a_3, \dotsb, a_n) = \gcd(a_1, a_2 - a_1, a_3 - a_2, \dotsb, a_n - a_{n - 1})$。   

把 $f(x)$ 重新表示为 $f(x) = \gcd(a_x, b_i, b_{i + 1} - b_i, \dotsb, b_j - b_{j - 1})$，把后面那一块单独拎出来，记为 $g = \gcd(b_i, b_{i + 1} - b_i, \dotsb, b_j - b_{j - 1})$，因为是个矩形，所以每一个横行的 $g$ 的是一样的，答案就重新表示成了 $Ans = \gcd(g, a_x, a_{x + 1}, \dotsb, a_y)$。   
这个就变成了一条直线上的连续的关系，可以直接用两个线段树维护。   