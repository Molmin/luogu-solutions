[AtCoder ABC309 D - Add One Edge](https://atcoder.jp/contests/abc309/tasks/abc309_d)

## 题目描述

有一张 $(N_1 + N_2)$ 个点 $M$ 条边的无向图，且保证：

- 对于所有 $u, v \in [1, N_1]$，$u$ 点和 $v$ 点连通；
- 对于所有 $u, v \in [N_1 + 1, N_1+N_2]$，$u$ 点和 $v$ 点连通；
- $1$ 点和 $(N_1 + N_2)$ 点不连通。

现在你需要选择一个点 $u \in [1, N_1]$ 和一个点 $v \in [N_1 + 1, N_1+N_2]$，连接这两个点。

问连接后从 $1$ 点走到 $(N_1 + N_2)$ 点的最短路径（路径上的边数）最大是多少。

$1 \le N_1, N_2 \le 1.5 \times 10^5$，$0 \le M \le 3 \times 10^5$。

## 分析

题目中给的 $3$ 个输入的保证其实就是说明读入的实际上是两个连通图，其中第一个图有 $N_1$ 条边，第二个图有 $N_2$ 条边。

现在要从两个完全独立的图中选择两点连接，使得从 $1$ 点走到 $(N_1 + N_2)$ 点的最短路径最大。

我们可以分别求每一张图的最大答案，然后相加，这样就能得到最大的最终答案。

具体地，如果要让总路程最大，那么也就是要在图一中找到一个距离 $1$ 点最远的点，再从图 $2$ 中找到一个距离 $(N_1 + N_2)$ 最远的点，然后连接这两个点即可。当然，这里的距离指最短距离。

因为两图相互独立，所以两边同时取最大是不会出现问题的。

假如图一中距离 $1$ 点最远距离为 $k_1$，图二中距离 $(N_1 + N_2)$ 点最远距离为  $k_2$，那么答案为 $(k_1 + k_2 + 1)$。

找最短路最大的距离，可以先求出 $1$ 点和图一中每个点之间的距离，再求出 $(N_1 + N_2)$ 点和图二中每个点之间的距离，然后分别取 $\max$，计算答案输出即可。

由于是无权图，求最短路可以直接 `BFS`。总时间复杂度为 $\Theta(n)$。

一些细节在[代码](https://atcoder.jp/contests/abc309/submissions/43395661)中有所体现。

