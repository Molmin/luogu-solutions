注意到最终每个雪球对答案的贡献一定是一个区间。

注意到所有雪球的每一时刻的区间左右端点单调递增。

考虑第 $i$ 个雪球分别向左右滚到的第一个已经被别的雪球滚到过的位置，这个位置一定分别被第 $i-1$ 和 $i+1$ 个雪球滚到过，于是我们只需要对第 $i$ 个雪球考虑 $i-1$ 和 $i+1$。

对于第 $i$ 个雪球，记 $p_i$ 为第 $i$ 时刻的位置，我们需要分别找到第一个 $j$ 使得 $p_j$ **在此时**被左区间覆盖过，$p_j$ 被右区间覆盖过，相当于是找这样一个**瓶颈**。

二分即可。