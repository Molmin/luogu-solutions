#### Description

> 给定一个长度为 $n$ 的序列 $a_i$，每次可以旋转一个左界为 $1$ 的区间，求至少需要多少次旋转能使得这个序列递增。

#### Solution

考虑爆搜，不可接受，所以剪枝。

首先进行离散化，然后考虑最优性剪枝，也就是考虑估价函数 $g$。这里我们可以将连续的差为 $1$ 的一块作为翻转的整体，也就是无需对本身有序的一块进行操作，所以只需要对连续差大于 $1$ 的两个数估价为需要操作，因此估价函数 $g$ 可以写成这个样子：

$$g=\sum\limits_{i=1}^{n-1}[|a_{i+1}-a_i|>1]$$

如果当前步数加上 $g$ 大于等于最优解时，就可以减掉。

还需要减掉已经是有序的时候，判断的时候可以考虑 $g=0$ 且 $a_1$ 已经是最小的时候，就是有序的，这时更新答案，回溯。

然后就是暴力枚举了，在 $[2,n]$ 中枚举 $i$，每次翻转 $[1,i]$ 即可。

#### Code


```cpp
void dfs (int step) {
	if (step + g() >= Min) return;
	if (g() == 0 && a[1] == 1) {
		Min = min(Min, step);
		return;
	}
	for (int i = 2; i <= n; i++) {
		reverse(i);
		dfs(step + 1);
		reverse(i);
	}
}
```