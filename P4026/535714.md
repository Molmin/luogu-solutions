思考量比较大，代码量很小的一道思维~~水~~好题。

解决这道题的核心在于将三人的交换 转换为大家 **把钱摊在桌子上，然后分别拿取自己应该获得的钱财。**

我们定义 $dp$ 状态 $ f(i,j,k) $ 为考虑前 $i$ 种货币， 第一个人还应该获得 $j$ 元 ， 第二个人还应该获得 $k$ 元的最小交换数。

不记录第三个人的信息，是因为可以通过前两个维度推出第三人的信息。

我们接下来考虑怎么转移。

$$\ F(i,j,k) = Max(F(i,j,k),
F(i-1,j-x \cdot v[i],k-y \cdot v[i]) 
+ abs(a[i]-x)+abs(b[i]-y) + abs(x+y-a[i]-b[i])) $$

**当然,要满足 $j>x \times v[i] ,k>y \times v[i] $ , 以及 $ x+y  < $ 货币 $i$ 的总数量。**

这玩意是什么意思呢？

我们前面说到，我们已经把所有货币放到了桌子上，那么转移方程就是在讨论如何分配这个桌子上的某一类型的货币。

$x$就是这种货币分配给第一个人的数量。
$y$就是给第二个人的数量。

这样子分配的代价是什么呢？有可能有人拿走了原本不属于自己的货币，有人少拿了原来自己的货币，那么对应到原来的交换模型就相当于是发生**一次交换**。当然，这一次交换会被重复计算两次。

对应到方程中，代价就是自己实际拿的与自己原本有的这种货币的绝对值。（不要忘记考虑第三个人！）

在输出答案时，因为每次原本的交换行为都被记录了两次，因此需要把答案除以$2$。
    
