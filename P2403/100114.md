题意简明 看完题目心中窃喜以为是缩点水题

大体的思路是 建边 缩点 之后 topsort

之后看完数据范围  ~~~~ 

为什么 R C 范围是1000000 啊

为什么 N 的范围是 100000 啊

这个数据很大 

建边是最大的问题 

因为 N^2 的枚举是我们无法承受的

肯定需要优化 

蒟蒻就想到一种方法 

开两个 vector xi 和 yi

xi [ x ]  就表示 横坐标为x的所有点下标

yi [ y ]  就表示 纵坐标为y的所有点下标

那么建边就变得简单 

假如我在坐标为 x y 的地方有横天门 

我只需要把 xi [ x ] 里面的所有的点 建一条边 

纵天门以此类推 不予以例子 

任意门的做法就与题解区里所有做法都不相同 

蒟蒻的方法是 枚举 横坐标为x x-1 x+1 的所有点 

再判断纵坐标是否能被任意门所达到 

这个方法有点蠢 但是可以免去二分和排序的代码量 

有些大佬用 map 之后被卡 MLE 

其实关于任意门的建边解法 

最好的应该是千年之狐大佬的hash 可以左转观摩 

tarjan 粘一遍板子 拓扑排序前的重处理边不要出锅

基本上也就没什么问题了 

还有疑问的在其他大佬的题解中已经十分详细 这里就不再献丑

[代码](https://www.luogu.org/paste/g2ikdk1a) 要抄的请自便

~~窝竟然1h1A省选题 蛤蛤蛤~~
