## 思路

题目肯定不会让你真去维护个什么支持排序的数据结构。

手玩几组数据我们会发现，如果存在 $i,j$（$i < j$），满足 $r_i \le r_j$，那么操作 $i$ 是不起作用的。

于是我们弄一个单调栈，每次弹出前面所有 $r_j$ $\le$ 当前 $r$ 的元素，最终就形成了一个从栈底到栈顶 $r_i$ 严格递减的栈。因为 $r_i$ 是严格递减的，所以可以很轻松地实现排序了，使用 STL 的 `priority_queue` 或者 `multiset` 都可以完成。

## 代码

[code](https://pastebin.ubuntu.com/p/9nSVXYyv2B/)