- 考虑反向思考这个问题。

- 假设你的印章长度是任意的，可以随便盖，将答案设为 $ans_1$；假设你的印章长度是不等于 $k$ 的，那么再将这种条件下的答案设为 $ans_2$，那么真正的答案就是 $ans_1-ans_2$ 了。

- 考虑 $ans_1$ 怎么算，你每个格子都有 $m$ 种可能的颜色覆盖，一共有 $n$ 个格子，所以 $ans_1=m^n$。

- 对于 $ans_2$，考虑通过动态规划来求。

- 设 $f_i$ 表示到了第 $i$ 个格子的答案，所以答案即为 $f_n$。

  - 假设 $i<k$，那么第 $i$ 位可以随便涂，一共有 $m$ 中颜色，所以 $f_i=f_{i-1}\times m$。这里需要定义 $f_0=1$。
  
  - 而若 $i\ge k$，我们发现，最后一次涂，一定会出现长度为 $k$ 的颜色相同的子序列。然后我们设一个 $j$，表示将 $[1,i]$ 分为两段 $[1,j]$ 和 $[j+1,i]$，并且第二段的长度要 $<k$，而第二段只有 $m-1$ 种选择，为什么呢？因为你 $[1,j]$ 的某一段，假设以 $j$ 为右端点，那么，肯定会有一段 $[l,j]$ 使得这一段与 $[j+1,i]$ 构成长度为 $k$ 的颜色序列。所以得到了状态转移方程 $f_i=\sum_{j=i+k-1}^{i-1}f_j\times (m-1)$。
  
  - 但你发现这个 $dp$ 转移时 $O(n^2)$ 的，所以可以套一个前缀和，这道题就做完了。