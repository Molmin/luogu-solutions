[题目传送门](https://www.luogu.com.cn/problem/CF431D)

看到数据范围肯定会想到二分，再加上 $[n+1,2n]$ 的奇怪限制，可以直感答案是有单调性的。

具体地，记录 $f(n)$ 表示 $[n+1,2n]$ 中二进制表示有 $k$ 个 $1$ 的数的数量，则有 $f(n) \le f(n+1)$。

证明就是比较 $[n+1,2n]$ 和 $[n+2,2n+2]$，中间部分是一样的，只有头尾不同。前面多了 $n+1$，而后面多了 $2n+1$ 和 $2n+2$，$2n+2$ 含有的 $1$ 数量显然与 $n+1$ 相同，于是得证。

然后二分答案即可，check 部分直接求 $[1,n]$ 有 $k$ 个 $1$ 的数量，数位 dp 或者直接利用组合数计数都行。