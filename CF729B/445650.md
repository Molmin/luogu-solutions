### [题目传送门](https://www.luogu.com.cn/problem/CF729B)
### 题目解释
求矩阵中数值为 $0$ 的位置的四个方向有 $1$ 的个数的和。

举个例子：

![](https://cdn.luogu.com.cn/upload/image_hosting/gylkx5qk.png)

位置为 $(2,2)$ 的点上、左方都有 $1$ ，而右、下方虽然没有相邻，但也算，所以 $(2,2)$ 点的价值和为 $4$ 。其他点雷同，价值和为 $16$ 。

### 思路
最开始我们想到的是暴力，每次向四个方向循环查找，但 $n$ 和 $m$ 最大 $1000$ ，所以暴力必 $TLE$ 。

然后我们想优化。因为要求四个方向有无 $1$ ，我们就可以在输入时判断当前位置的值如果是 $1$ ，那么说明当前行和列都有 $1$ 。这样算贡献值时，如果当前行有，就查左、右方；如果当前列有，就查上、下方。

继续想，因为每个点只要求每个方向前面有无 $1$ ，所以只要算出每一行、列 $1$ 出现的第一个位置和最后一个位置就可以了。

### 求值细节
算每行、列第一个 $1$ 可以在输入时同时求值，算最后一个 $1$ 时，可以分开算行和列的，两次双重循环，比较好理解。

### 代码和记录
[代码（稍长，放在此处）](https://www.luogu.com.cn/paste/tkwbajck)

[记录（最优解）](https://www.luogu.com.cn/record/98877364)