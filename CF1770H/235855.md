> solution of CF1770H

写这篇题解的时候忘记保存所以重新写一遍。

由于是贺的题解，所以这里讲述一下题解的做法。

不难猜到答案不会大于 $2$ ，排除特殊情况 $p_i=i,q_i=i$ 后接下来就是如何构造 $2$ 的问题 。

对于一个问题 $(p,q)$ , 设 $n$ 为当前问题矩阵大小 。 可以这样划分边缘路径 。

1. $(1,1) \rightarrow (n,p_1) $ ，可以用左侧边和下侧边到达。
2. $(1,1) \rightarrow (q_1,n) $ ，可以用上侧边和右侧边到达。
3. $(1,n) \rightarrow (n,p_n) $ ，可以用右侧边和下侧边到达。
4. $(m,1) \rightarrow (1,n) $ ，可以用左侧边和上侧边到达。

容易发现这样的话每条边最多都经过两次。

对于本轮没有影响的点 , 可以这样对他们进行平移 :

$$tp_i \rightarrow p_i-(p_i>p_1)-(p_i>p_n)$$
$$tq_i \rightarrow q_i-(q_i>q_1)-(q_i>q_m)$$

这样就变成了一个 $(tp,tq)$ 的子问题。

对于 $n=0$ 和 $n=1$ 的处理是平凡的 ， 递归求解子问题即可 。