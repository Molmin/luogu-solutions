题目真的很阅读理解……这里给出简化版的题意。

## 题意

给定一颗二叉树，每个叶子结点均有参数 $(a_i,b_i,c_i)$，而每个非叶子结点可以对于连通其左右儿子的边进行修缮，一共能够修缮 $n-1$ 条边。

对于每个叶子结点 $x$，在其到根节点的路径上，若有 $x$ 条左边未被修缮，$y$ 条右边未被修缮，则其权重为：

$$c_i(a_i+x)(b_i+y)$$

求问最小的权值和是多少？

## 解法

我们显然要用 DP，首先需要两维的状态表示左边和右边。那我们可以从叶子结点向上进行推演，设计状态如：

- $f(x,i,j)$ 表示从根到 $x$ 有 $i$ 个左边和 $j$ 个右边未被修缮。
- 若 $f(x,i,j)$ 是叶子结点，直接计算 $c_x(a_x+i)(b_x+j)$。
- 反之，则分类讨论是公路还是铁路。

那么状态转移方程就是：

$$f(x,i,j)=\begin{cases}c_x(a_x+i)(b_x+j)\\\min\big\{f(l,i,j)+f(r,i,j+1),f(l,i+1,j)+f(r,i,j)\big\}\end{cases}$$

这个东西带着 $\texttt{DFS}$ 实现一下难度不大，注意点：

- 适当的时候需要开 $\texttt{long long}$。
- 注意使用的内存空间。



