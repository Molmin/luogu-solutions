考虑什么样的数组是好的。

1. $q$ 中有多于 $n$ 个 $0$。

由于任意 $n$ 个数乘积为 $0$，因此任意 $n$ 个数和也为 $0$，所以所有数相等且等于 $0$。

2. $q$ 中有恰好 $n$ 个 $0$。

取所有 $0$ 加起来，和为 $0$，则剩下的非 $0$ 部分乘积也为 $0$，矛盾。

3. $q$ 中有 $0$ 且有少于 $n$ 个 $0$。

从 $q$ 的非 $0$ 部分中任选 $n$ 个数，其和都等于另一部分的乘积 $0$。因此非 $0$ 部分所有数相等且等于 $0$，矛盾。

综上，如果 $q$ 中有 $0$，则必然全是 $0$。

4. $q$ 中所有数相等且非 $0$。

设所有数都等于 $x$。

则 $x^n=nx$，可得 $x^{n-1}=n$。

$n=1$ 时，$x$ 可以是任意非 $0$ 整数。

$n>1$ 时，$|x|\neq1$，因此 $n=|n|=|x^{n-1}|\geq2^{n-1}$。此时由 $n\geq2^{n-1}$ 得 $n=2$。

$n=2$ 时，解得 $x=2$。

5. 其它情况（所有数非 $0$ 且存在 $2$ 个数不相等）。

考虑任意 $2$ 个数 $c,d$ 应满足的性质。

设剩下的 $2n-2$ 个数中，其中 $n-1$ 个的乘积为 $a$，另外 $n-1$ 个的和为 $b$。

则有：

$ac=b+d$

$ad=b+c$

两式相减，得 $a(c-d)=d-c$

因此有 $c=d$ 或 $a=-1$。

为了避免 $c=d$，我们选取 $2$ 个不同的数。

这样，对于除 $c,d$ 外的任意 $n-1$ 个数，其乘积为 $-1$。

由于没有 $0$，因此除 $c,d$ 外的所有数都相等。

设其余 $2n-2$ 个数均为 $x$，则 $x^{n-1}=-1$。

得到 $x=-1$ 且 $2|n$。也就是说，$n$ 是奇数时这部分情况无解。

现在我们有 $2n-2$ 个 $-1$，$1$ 个 $c$，$1$ 个 $d$。考虑 $c,d$ 之间的关系。

选取 $c,d$ 和 $n-2$ 个 $-1$ 求和，另外 $n$ 个 $-1$ 求积，得 $c+d-n+2=1$。

选取 $c,d$ 和 $n-2$ 个 $-1$ 求积，另外 $n$ 个 $-1$ 求和，得 $cd=-n$。

即：

$c+d=n-1$

$cd=-n$

解得 $c=n,d=-1$ 或 $c=-1,d=n$。

总结一下好的序列满足的充分条件：
- 所有数为 $0$。

- $n=1$ 且 $q_1=q_2$。

- $n=2$ 且 $q_1=q_2=q_3=q_4=2$。

- $2|n$ 且 $q$ 中有 $1$ 个 $n$ 和 $2n-1$ 个 $-1$。

枚举 $4$ 种情况即可。