### 前言

堆是一个好东西，能干很多事。

### 正轨
此题方法很多，我用的是扫描线+堆。首先题目把平面分成等大的2m个角度。我们要求的答案就是每个角度中第k大的被覆盖的扇形半径的平方加起来的和。求第k大，@zhengrunzhe想到的是平衡树，其实没必要，两个堆也可以解决（毕竟堆比平衡树好打太多了）。

第一个堆（下称A堆）用来储存前k大半径，并且是小根堆，这样堆顶就是我们要求的；第二个堆（下称B堆）用来储存其他的，是大根堆。

**每次加入新元素**：
- 如果A堆元素个数小于k，加入A堆。
- 否则如果新元素大于A堆堆顶元素，A堆堆顶元素换到B堆，新元素加入A堆。
- 否则加入B堆

**删除元素**：
- 如果为B堆元素直接删。
- 如果为A堆元素删除之后，若B堆非空，则B堆堆顶元素换到A堆。

还有一个问题，描述扇形时l可能大于等于r，这个问题@zhengrunzhe讲的很清楚，可以戳[这里](https://www.luogu.com.cn/blog/van/solution-p3997)看。

## 注意
让我们算算答案有多大： $r^2*m$有16位，不开**long long**见祖宗！

代码就不发了，你们写的都比我好~~刚转c++的蒟蒻一枚啊~~。