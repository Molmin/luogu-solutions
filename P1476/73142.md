这题数据<=100确实可能令人想到Floyd,不过我认为此题可以用拓扑计数

首先,用拓扑需要保证图中没有环,根据题意,若有环则无法到达每一个点,与要到达每一个点矛盾,所以图中无环

设`f[v]为到达v点所需用时,u->v为一条由u到v的边,则有`
$$f[v]=\max_{u->v}f[u]+w(u->v)$$

然后求一下f[1~n+1]的最大值(我也不知道为什么到n+1),就是第一问.

第二问只要在记录f时记录前驱pre[v],然后从最大的点往前找并将这个序列按升序排列即可

时间复杂度$O(n+m)$
