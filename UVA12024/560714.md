## 大致题意

每人一顶帽子，求每个人的帽子的不在自己脑袋上的概率。

## 思路

这是一道错排的模板题。我们可以通过分子、分母两方面来分析。

### 分子

由于求不在自己头上的概率，故用错排。错排即为错开的排序，令数字不再原来的地方：$D_n=(n-1)\times(D_{n-1}+D_{n-2})$ 其中 $D_1=0,D_2=1$。

#### 证明

其实证明也不难。我们可以假设共有 $n$ 个元素，先随意选出一个，设之为 $a$，那么不在自己位子上，共有 $n-1$ 种选择方式。之后选择一个 $b$，这时有了两种情况。

1. $b$ 恰好在 $a$ 的位置上，那么就对剩下的 $(n-2)$ 个元素进行错排，方案数为 $D_{n-2}$。

2. $b$ 不在 $a$ 的位置上，那么就还有 $n-1$ 个位置，可供选择，为 $D_{n-1}$。

最后，根据加法原理与乘法原理，可得 $D_n=(n-1)\times(D_{n-1}+D_{n-2})$。

------------

### 分母

分母就是 $n$ 的全排列，即 $A_n^n$，也就是 $n!$。

这样，就完美的 AC 了。

## AC code
```cpp
#include<bits/stdc++.h>
using namespace std;
const int MAXN=1000+10;
const int MAXM=100000+10;
const int INF=100000;
int a[MAXM],b[MAXM];
void yuchuli()
{
	for(int i=2;i<=12;++i)
	{
		a[i]=(i-1)*(a[i-2]+a[i-1]);
	}
	for(int i=2;i<=12;++i)
	{
		b[i]=b[i-1]*i;
	}
}
int main()
{
	a[0]=1;
	b[1]=1;
	yuchuli();
	int n;
	cin>>n;
	for(int i=1;i<=n;i++)
	{
		int x;
		cin>>x;
		cout<<a[x]<<"/"<<b[x]<<endl;
	}
}
```