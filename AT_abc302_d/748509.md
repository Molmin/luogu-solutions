## 题目描述

有两个序列 $a$ 和 $b$，$a$ 长度为 $n$，$b$ 长度为 $m$，需要求出 $\max_{\left| a_i - b_j\right| \le d} a_i + b_j$ 的值。若不存在满足条件的，输出 $-1$。

$1 \le n, m \le 2 \times 10^5$

## 分析

显然我们可以暴力枚举两个元素分别是什么，但是这样的时间复杂度为 $\Theta(nm)$，并不能通过本题。

考虑二分查找。由于二分需要具有单调性，所以计算前输入后需要对两个数组排序。

接下来枚举每一个 $a$ 中的元素，然后找一个满足条件的 $b$ 中的元素，更新最大值。

这里的满足条件是什么呢？小于等于 $a_i + d$ 的元素中最大的。 

这样的时间复杂度是 $\Theta(n \log m)$ 的，可以通过本题。

那么如何找到**小于等于** $a_i + d$ 的最大的 $b_j$ 呢？

考虑这样解决，首先找到第一个**大于** $a_i + d$  的 $b_j$，这里我们可以使用 `STL` 里的 `upper_bound`。然后找到这个位置的上一个位置，那么这个位置就一定是最大的小于等于 $a_i + d$ 的 $b_j$ 了。此时再更新答案即可。

[Code](https://atcoder.jp/contests/abc302/submissions/41581445)