## 题意简述

存在 $n$ 个体积为 $a_i$ 的物体放入一个无穷大的背包，若体积和为 $k$ 收益为 $p^k$，请问所有选择方案的收益和。

答案对 $998244353$ 取模。

## 解法简析

方法很多，怎么办呢？

考虑一共有 $7$ 个物品，而我们选择了 $1,3,5,7$，这时候总收益是：

$$p^{a_1+a_3+a_5+a_7}=p^{a_1}\times p^{a_3}\times p^{a_5}\times p^{a_7}$$

你会发现，在这个连乘的式子当中，没有选中的物品，对于整个式子的贡献是 $\times 1$。

那我们发现，对于每一种情况，$a_i$ 的贡献要么是 $1$ 要么是 $p^{a_i}$，这意味着我们用乘法原理就可以枚举它的两种贡献。

同时，对于所有的 $2^n$ 种方案，答案就是把两种贡献分别计算，类比二项式定理，发现可以写成这种形式：

$$(p^{a_1}+1)(p^{a_2}+1)\cdots(p^{a_n}+1)$$

也就是

$$\prod\limits_{x=1}^{n}(p^{a_x}+1)$$

然后快速幂+取模即可，每次操作的复杂度 $O(\log n)$，那么总复杂度就是 $O(n\log n)$。