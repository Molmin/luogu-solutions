结论就是 $ans=\max_{i=1}^{n}w(i,i+n-1)$ ，其中 $w(l,r)$ 表示 $[l,r]$ 中 W 的个数。

令 $w(k,k+n-1)=ans$ 。
对于所有 $l<k$ ，一定可以找到一个右端点使得 $w(l,R_l)=ans$ ，并且 $R_l\leq k+n-1$ ；
对于所有 $r>k+n-1$ ，一定能够找到一个左端点使得 $(L_r,r)=ans$ ，并且 $L_r\geq l$ 。
所以至少能够找到 $n$ 个 $w(l,r)=ans$ 的区间。