#### Description

> 给定一棵 $n$ 个节点的树，第 $i$ 个节点的点权可以选择为 $0$，也可以选择为 $a_i$。每个节点的价值为自身加上子树的点权和。求对于所有的 $2^n$ 种放置方式，得到的价值和总和是多少。

#### Solution

有点像 P7223 的树上形式。

如果第 $i$ 个节点被选择了，那么他的点权 $a_i$ 就会被计算在内。能被他影响的只有所有子树中有节点 $i$ 的，即他的祖先。假设第 $i$ 个节点的祖先有 $cur_i$ 个，那么对于每个祖先节点的价值都会算上 $a_i$，也就是可以提取公因数一下，对总答案的贡献 $k_i=cur_i \times a_i$。

最后算 $k_i$ 的和，但是注意，每次有一半的情况是让这个节点的点权计算在内的，所以答案应该是：

$$\sum\limits_{i=1}^n(2^{n-1} \times k_i)=2^{n-1}\times \sum\limits_{i=1}^nk_i$$