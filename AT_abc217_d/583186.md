[题目传送门](https://www.luogu.com.cn/problem/AT_abc217_d)

## 思路

用 STL 中的 set 来做此题，set 中存每次切断的位置（每段木头的头尾位置）。

首先在 set 中插入 $1$ 和 $L$，保存初始的一段木头。读入 $Q$ 组数据后分类讨论操作的情况。

**对于每次操作 $1$**：在 set 中插入 $x$ 和  $x+1$，表示又切断了一节（增加 $2$ 个端点）。

**对于每次操作 $2$**：用 ``upper_bound`` 函数二分查找当前位置所在的木头段的**右端点**，保存为 $r$，之后向前枚举**一个**端点保存为 $l$（此时的位置就是当前位置所在木头段的**左端点**）。最后输出 $r-l+1$（包含两端点所以 $+1$）。

这里不放代码了，根据上面的思路一步步写即可。