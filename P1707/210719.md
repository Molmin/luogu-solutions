
矩阵乘法的恶心题。
# 配矩阵
可以配一个 $11$ 行 $11$ 列的矩阵，具体见下:

初始矩阵：
$$\begin{pmatrix} a_k & a_{k+1} & b_k & b_{k+1} &c_k & c_{k+1} & k^2 & k & z^k & w^k & 1 \end{pmatrix}\quad$$
那么系数矩阵怎么配呢？

前六个数的系数直接套公式。

根据以下几个公式可配出后面几个：
$$ (k+1)^2=k^2+2 \cdot k+1^2 $$


$$ z^{k+1} =z^k \cdot z$$

$$ w^{k+1}=w^k \cdot w$$

于是系数矩阵就出来啦！
$$\begin{pmatrix} 0 & q &0 & 0&0&0&0&0&0&0&0\\
1 &p& 0&1&0&1&0&0&0&0&0\\
0&0&0&v&0&0&0&0&0&0&0\\
0&1&1&u&0&1&0&0&0&0&0
\\
0&0&0&0&0&y&0&0&0&0&0\\
0&1&0&1&1&x&0&0&0&0&0
\\
0&r&0&0&0&0&1&0&0&0&0\\
0&t&0&0&0&1&2&0&0&0&0\\
0&0&0&0&0&1&0&0&z&0&0\\
0&0&0&1&0&0&0&0&0&w&0\\
0&1&0&0&0&2&1&1&0&0&1
\end{pmatrix}\quad$$


------------

# 龟速乘：
每个数都可以表示为一个或多个 $2^k$ 的和，于是：
$$ a \times b=a \times 2^{b_1} + a \times 2^{b_2} + \cdots(b_1 +b_2 +\cdots=b)$$

类似于快速幂。
这样算虽然会将乘法 $O(1)$ 的时间提升到 $O(\log(b))$，但这样可以在乘的过程中取模就不会爆数据类型了！
# AC CODE
懂了前面这些代码也就简单了！
```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
int n,m,q,p,r,t,u,v,w,x,y,z;
int a[12][12],b[12][12],c[12][12];
int ch(int a,int b)//龟速乘
{
    int ans=0;
    for(int i=1;i<=b;i<<=1)
    {
        if(b&i)
        {
            ans+=a;
            ans%=m;
        }
        a=a*2%m;
    }
    return ans;
}
void Mul(int a[12][12],int b[12][12])//矩阵乘法
{
    for(int i=1;i<=11;i++)
    {
        for(int j=1;j<=11;j++)
        {
            c[i][j]=0;
            for(int k=1;k<=11;k++)
            {
                c[i][j]+=ch(a[i][k],b[k][j])%m;
                c[i][j]%=m;
            }
        }
    }
}
signed main()
{
cin>>n>>m>>p>>q>>r>>t>>u>>v>>w>>x>>y>>z;
n--;
a[1][1]=1,a[1][2]=3,a[1][3]=1,a[1][4]=3,a[1][5]=1,a[1][6]=3,a[1][7]=1,a[1][8]=1,a[1][9]=z,a[1][10]=w,a[1][11]=1;
b[1][2]=q,b[6][4]=1,b[2][1]=1,b[2][2]=p,b[2][6]=1,b[3][4]=v,b[4][2]=1,b[4][3]=1,b[4][4]=u,b[5][6]=y,b[6][2]=1,b[6][5]=1,b[6][6]=x,b[7][2]=r,b[7][7]=1,b[8][2]=t,b[8][6]=1,b[8][7]=2,b[9][6]=1,b[10][4]=1,b[9][9]=z,b[10][10]=w,b[11][2]=1,b[11][6]=2,b[11][7]=1,b[11][8]=1,b[11][11]=1,b[2][4]=1,b[4][6]=1,b[8][8]=1;//初始化矩阵
for(int i=1;i<=n;i<<=1)//矩阵快速幂
{
    if(n&i)
    {
        Mul(a,b);
        for(int j=1;j<=11;j++)
        {
            for(int k=1;k<=11;k++)
            {
                a[j][k]=c[j][k];
            }
        }
    }
    Mul(b,b);
    for(int j=1;j<=11;j++)
    {
        for(int k=1;k<=11;k++)
        {
            b[j][k]=c[j][k];
        }
    }
}
cout<<"nodgd "<<a[1][1]<<"\n";
cout<<"Ciocio "<<a[1][3]<<"\n";
cout<<"Nicole "<<a[1][5]<<"\n";
return 0;
}
码字不易（特别是矩阵那一块）求过awa~