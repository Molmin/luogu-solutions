## [题意](https://www.luogu.com.cn/problem/SP18965)
给定一些数，要选出一个序列，第 $i$ 个数的值为 $g_i$，位置不能超过 $d_i$，求能够选出的最大和。

## 题解
### 算法 1
反悔贪心。
按照时间从小到大排序。从 $1$ 到 $N$ 枚举 $i$，如果当前时间可以让奶牛 $i$ 挤奶，那么就挤。否则我们找到产奶量最低的奶牛不挤，把时间腾出给当前这头。用堆维护产奶量即可。时间复杂度 $\mathcal O\left(N \log N\right)$。

### 算法 2
直接贪心。
按产奶量从大到小排序。从 $1$ 到 $N$ 枚举 $i$，第 $i$ 头奶牛如果可以挤奶，就把这头奶牛放在能挤奶的最后时间挤奶。这样使用并查集跳过这些已经被占用的点。时间复杂度 $\mathcal O\left(N \log N\right)$。

### 算法 3
直接贪心。
按照时间从大到小排序。从 $10000$ 到 $1$ 枚举时间，把所有在现在时间愿意挤奶的奶牛放进一个按产奶量排序的大根堆里。那么如果堆中有奶牛，就把答案加上堆顶奶牛的产奶量，并从堆中弹出。正确性显然。时间复杂度 $\mathcal O\left(N \log N\right)$。

代码写的是 算法 3 的，因为最好写。

## [代码](https://rbtree.archi/lib/Code/Luogu/P3093.txt)