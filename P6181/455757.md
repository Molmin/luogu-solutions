**这是本蒟蒻第二十六次写的题解，如有错误点请好心指出！**

## 问题简述

给你一个整数 $n$ 和长度为 $n$ 的数组 $a$，在 $a$ 数组中找到一个最长连续单峰子序列，输出其长度。

## 解法综述

用 $i$ 从 $1$ 到 $n$ 遍历数组 $a$，设 $t$ 为某个连续单峰子序列的长度，$b$ 为上一个连续下降子序列末尾前一个的数，$s$ 为两个连续单峰子序列公共部分的长度。

因为单峰就是先增后减，所以当 $a_{i-1}<a_i$ 且 $b>a_{i-1}$ 的时候，说明有新的连续单峰子序列，于是更新 $t$ 为 $s+1$，否则继续计算所在序列的长度。

如果 $a_{i-1}>a_i$，说明此时序列严格下降，不存在两个连续单峰子序列有公共部分，于是更新 $b=a_{i-1}$ 和 $s=1$，否则让 $s$ 计算所在两个序列公共部分的长度。

用 $ans$ 求 $t$ 的最大值，输出 $ans$ 即可。

## 代码描述
```cpp
#include<cstdio>
#include<iostream>
using namespace std;
int n,a[100005],b,s,t,ans;
//t为某个连续单峰子序列的长度，b为上一个下降子序列末尾前一个的数，s为两个连续单峰子序列公共部分的长度
int main()
{
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
	{
		scanf("%d",&a[i]);
		if(a[i-1]<a[i]&&b>a[i-1]) t=s+1;//有新的连续单峰子序列
		else t++;//继续计算该序列的长度
		if(a[i-1]>a[i]) b=a[i-1],s=1;//此时序列严格下降
		else s++;//让s计算公共部分的长度
		ans=max(ans,t);//求t的最大值
	}
	printf("%d",ans);
	return 0;
}
```