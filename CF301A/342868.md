# 题解

- 分类讨论。

- $n$ 为奇数，那么无论 $a_i$ 里有几个数小于零，都可以变为正。原因：当一段 $a_i<0$ 数量为奇数，那么我们可以翻转包含这段的区间（或者这段区间里面长度为 $n$ 的区间，这取决于 $n$ 的大小），那么负数的数量会变为偶数个，偶数个时，翻转包含这段的区间（或者这段区间里面长度为 $n$ 的区间，这取决于 $n$ 的大小），那么又变回奇数个负数，最后会剩下 $n$ 个连在一起的负数。

- $n$ 为偶数，$a_i$ 中如果有奇数个负数，那么无法全部变为负数，但总会只剩下一个负数。原因：基本同上，无论翻转包含这段的区间，还是这段包含这段翻转区间，剩下的负数个数都为奇数个，最终会剩下 $n + 1$ 个连在一起的负数。$a_i$ 中如果有偶数个负数，可以全变为正，原因完全同上。

- 所以，对于可以全变为正的情况，答案即为 $\sum\limits_{i=1}^{2\times n-1}abs(a_i)$。对于剩下一个为负的情况，为了保证最优，要减去 $a_i$ 中绝数值最小的数两倍。

- 代码十分简单，就不放了。