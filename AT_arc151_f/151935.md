不用分类讨论，暴力出奇迹做法。

下面设三种牌数量为 $a_{1,2,3},b_{1,2,3}$，并设 $c_i = \min(a_i,b_i)$。

我们可以猜测，一个很大的状态都会和一个 $a_i,b_i\le 10$ 的很小的状态等价，而很小的状态直接暴搜可以出结果。

经过一些尝试和猜测，如果满足下面这些条件都相等的六元组，结果是等价的：

- $a_i$ 和 $b_i$ 是否为 0
- $a_i$ 与 $b_i$ 的大小关系
- $c_i$ 的奇偶性
- $c_i$ 之间的大小关系
- $c_i$ 与 $c_j+c_k$ 之间的大小关系

写成代码就是：

```cpp
int clamp(int x,int l,int r){
	return min(max(x,l),r);
}
vector<int> state(vector<int> a,vector<int> b){
	vi c={min(a[0],b[0]),min(a[1],b[1]),min(a[2],b[2])};
	return {
		clamp(a[0]-b[0],-1,1),
		clamp(a[1]-b[1],-1,1),
		clamp(a[2]-b[2],-1,1),
		clamp(c[0]-c[1],-1,1),
		clamp(c[1]-c[2],-1,1),
		clamp(c[2]-c[0],-1,1),
		clamp(c[0]-c[1]-c[2],-1,1),
		clamp(c[1]-c[0]-c[2],-1,1),
		clamp(c[2]-c[0]-c[1],-1,1),
		c[0]&1,c[1]&1,c[2]&1,
		a[0]==0,a[1]==0,a[2]==0,
		b[0]==0,b[1]==0,b[2]==0
	};
}
```

如果两个六元组的 state 是一样的，那博弈结果是一样的。

于是暴搜所有 $a_i,b_i\le 10$ 的结果，就可以得到所有可能的 state 的胜负，输入很大的六元组就直接求出 state 就得到答案了。[代码。](https://atcoder.jp/contests/arc151/submissions/35803744)

这个等价关系是怎么试出来的？

首先先乱猜一些条件，写暴力求所有 $a_i,b_i\le 10$ 的结果，根据条件划分出等价类，此时等价类可能答案有冲突的，那就输出哪组出错了，继续加条件，加到不会出错为止。