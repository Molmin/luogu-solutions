## Description

已知 $1$ ～ $n$ 的一个排列 $a$，你可以选择它的一个非空子序列将其翻转，求正好翻转一次后可以得到的字典序最小的 $1$ ～ $n$ 的排列。

$t$ 组数据。





## Solution

先给思路：从 $1$ ～ $n$ 遍历这个排列，如果位置 $i$ 上的数非 $i$， 则跳出循环，将 $i$ 作为子序列的开头，将数 $i$ 所在的位置 $j$ 作为子序列的结尾。



**正确性证明：**

首先我们要证明对于每一个位置 $i$ 上的数非 $i$ 的情况，数 $i$ 都在位置 $i$ 的后面。

此证明非常简单：若数 $i$ 不在位置 $i$ 的后面，由于位置 $i$ 上的数非 $i$，所以数 $i$ 一定在位置 $i$ 的前面，也就是说存在 $j$ 使得 $a_j ≠ j$ 且 $j < i$，所以遍历的时候先遇到了位置 $j$ 上的数非 $j$，这时我们已经跳出了循环。

接下来，我们就要证明这个贪心的正确性了，其实也不难，由于  $1$ ～ $n$ 的排列中最小的是 $1,2,3,\dots,n$，而显然我们跳出循环前，数列里的数为 $1,2,3,\dots,i - 1$，且在位置 $i$ 上的数 $j$ 大于 $i$。接下来考虑两种不采取刚才策略的策略：

1. 不将位置 $i$ 作为子序列的开头。则位置 $i$ 上的数 $j$ 大于 $i$，由于在采取刚才的策略之后，位置 $i$ 上的数为 $i$，所以刚才的策略相较于这种策略来说更优。

2. 将位置 $i$ 作为子序列的开头，但是不将数 $i$ 所在的位置 $j$ 作为子序列的结尾。则由于 $1$ ～ $i - 1$ 的数已出现过，则剩下的数均大于等于 $i$，所以这种情况位置 $i$ 上的数 $j$ 同样大于 $i$，劣于刚才的策略。

由于除了这三种策略囊括了所有的情况，故证毕。



## Summary

贪心重要的不是结论，而是证明过程，这里使用了一种叫 **exchange argument** 的证明思想，即证明在任何时候换一个决策都不会有更好的结果，许多的贪心题目都可以用这种思路证明，希望读者多多思考。

