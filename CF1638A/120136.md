# CF1638A

## 题意

给你一个 $1 \sim n$ 序列（不含重复元素)，让你找到一个 $l$ 位置和 $r$ 位置。将 $l \sim r$ 位置上的元素翻转，即变成 $p_1,p_2,…p_{l-1},p_r,p_{r-1},…p_l,p_{r+1},p_{r+2},…p_n$ 的形式，使翻转后的序列的字典序最小。

## solution

注意此题的原序列是不含重复元素的，所以本题的解题难度大大下降。我考场上由于没看到这个条件白白浪费了一个小时……首先我们来思考，让一个数字序列的字典序尽量小该怎么操作？显然，让字典序越小的元素放在序列越靠前的位置。考虑代码实现，由于原序列中无重复元素，所以排序后的序列一定是严格递增的，而且原序列中一定只有一个点使翻转后的序列的字典序最小。在考场上我的思路是将原序列 $p$ 记录一个 $id$ 即这个值所在的位置（原序列的下标）。将原序列复制到一个新的序列 $b$ 中，将 $b$ 排序。之后枚举每个位置 $i$ 比较 $p_i$ 和 $b_i$ 找到第一个 $b_i<p_i$ 的位置，将该位置记为 $l$，$id_{b_i}$ 记为 $r$ 然后按题意输出即可。

## 证明

因为此时 $b$ 是有序的

 
$$
b_1<b_2<b_3…b_i…b_n
$$
若此时的 $i$ 为找到的第一个 $b_i<p_i$ 的位置，则此时的 $p$ 序列满足
$$
p_1<p_2<p_3…<p_i…
$$
$i$ 之前的位置一定已经为最小字典序，所以 $l$ 即为 $i$ 位置。

又因为此时 $b_i<p_i$，所以一定有一个 $p_k<p_i$ 并且 $k>i$。

将 $k$ 位置与 $i$ 位置进行翻转操作所得的序列一定是最优的。