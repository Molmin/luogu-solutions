## P7677 [COCI2013-2014#5] LADICE 题解

~~这道题这么水怎么会有蓝题的难度？~~

首先，对于每一个物品，我们只用知道它能不能放在某一个抽屉里即可，所以并不需要跟题意一模一样的模拟。

那么如何判断一个物品是否能放在某一个抽屉里呢？使用并查集就可以很快解决这个问题。

对并查集就不过多解释了，具体可以看一下 [P3367 【模板】并查集](https://www.luogu.com.cn/problem/P3367) 这一道题。

**初始化**环节。

对于每一个物品，用 `father` 数组保存这个物品对应的另一个抽屉，也就是这个物品可以存在哪一个别的抽屉里。

再用一个 `vis` 数组保存哪些抽屉里放有物品。

接下来是**并查集**遍历抽屉。

先看这个可以存放的抽屉 $A_i$ 。

如果这个物品的抽屉被另一个物品占用时，就顺着当前抽屉里的物品能到达的抽屉遍历，直到找到一个抽屉为空时。

如果并查集遍历到达终点时都没有抽屉可以存放物品，那么就按照遍历$A_i$同样的方式去遍历 $B_i$ 。

如果都没有抽屉可以存放物品，就只能将这个物品丢弃。

给出**关键代码**

```cpp
while(n--) {
	scanf("%d%d", &a, &b);
	x = findset(a), y = findset(b);
	if(!vis[x] || !vis[y]) {
		if(!vis[x]) vis[x] = true, father[x] = y;
		else vis[y] = true, father[y] = x;
		puts("LADICA");
	} else puts("SMECE");
}
```
 `findset` 函数记得加上优化，个人比较喜欢**路径压缩优化**，简单易懂实现方便。