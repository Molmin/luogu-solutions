# CF142C Help Caretaker 题解

[更好的阅读体验](https://www.luogu.com.cn/blog/chengjiayi666/solution-cf142c)

[题目传送门](https://www.luogu.com.cn/problem/CF142C)

### 题目大意：

有一个大小为 $n \cdot m$ 的平面仓库和一种T形的机器（就像这样）

```
AAA
 A 
 A
```

我们要尽可能多的在这个仓库内放置这种T形的机器，机器可以顺时针或逆时针旋转，但是不可前后翻转，放置时不能重叠。

### 正文:

虽说这是一道~~超水的~~黑题，但是看到 $1 \le n,m \le 9$ 的时候第一反应就是这个题可以用

**暴力打表！**

我们可以定义一个 $3$ 维的字符串数组，前两维分别记录 $n$ 和 $m$,第三维记录当前输出的行下表，每个字符串记录当前输出的这行数据。至于如何打表，这里提供一个简单~~又高效~~的方法：

**人工计算！**

这个题输入数据最多 $81$ 组，在比赛中手写完全来得及，如果说你的 dfs（打表用的）技术不精，写代码和调代码的时间远比你计算答案所耗费的时间与精力多。为了保证稳妥，手算是一个不错的选择。

我们定义一个打表用的字符串数组，将打表的基本框架写好后（[作者用的框架与框架生成代码点这里](https://www.luogu.com.cn/paste/aiir2bje)），直接根据题目要求在框架上展开计算就好了。

比如说在 $n$ 和 $m$ 都等于 $5$ 的情况下，我们要根据框架中这一串代码计算：
```
    f[5][5][1]=".....\n";
    f[5][5][2]=".....\n";
    f[5][5][3]=".....\n";
    f[5][5][4]=".....\n";
    f[5][5][5]=".....\n";
```
这时候，我们就要充分发挥人类智慧了，我们要先确定第一个机器的位置用大写字母```A```表示：
```
    f[5][5][1]="A....\n";
    f[5][5][2]="AAA..\n";
    f[5][5][3]="A....\n";
    f[5][5][4]=".....\n";
    f[5][5][5]=".....\n";
```
接着，我们再确定第二个机器的位置：
```
    f[5][5][1]="A.BBB\n";
    f[5][5][2]="AAAB.\n";
    f[5][5][3]="A..B.\n";
    f[5][5][4]=".....\n";
    f[5][5][5]=".....\n";
```
直到仓库被我们填的足够满，无法继续放置机器，就完成了。（像这样）
```
    f[5][5][1]="A.BBB\n";
    f[5][5][2]="AAAB.\n";
    f[5][5][3]="AD.BC\n";
    f[5][5][4]=".DCCC\n";
    f[5][5][5]="DDD.C\n";
```
注意，在我们计算过程中，如果结果出现空位过多，或者机器之间位置冲突可以酌情考虑推掉重做或者删除一些机器重新计算。

[附上作者打的表](https://www.luogu.com.cn/paste/98b2nt13)

但是，题目还要求统计机器的个数，我们可以用一个字符找到表中 ASCII 值最大的字符（```.```除外），再将该字符的 ASCII 值减```A```的 ASCII 值再加上 $1$，即计算这个字符是第几个大写字母。这样所得的得数就是题目要求统计的机器的个数。

统计机器个数代码：
```cpp
char Max='.';
for(int i=1;i<=n;i++)
	for(int j=0;j<m;j++)
		if(f[n][m][i][j]!='.') 
			Max=max(Max,f[n][m][i][j]);//找ASCII码值最大的字符 
if(Max=='.') cout<<"0\n";//没有更新说明没有机器 
else cout<<int(Max-'A'+1)<<'\n';//计算机器个数 

```
结合打表与统计机器个数的代码，就可以得到 AC 代码。

[AC Code点这里~~](https://www.luogu.com.cn/paste/7o9knyqt)

实测 AC。