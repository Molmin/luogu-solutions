注意到 $n=m=4$ 的时候只有 $10$ 种方案。对于下面这两种对称的方案，是没有办法成为更大的棋盘的子矩形的：

```
1010
0011
1100
0101

0101
1100
0011
1010
```

对于其他的 $8$ 种方案，容易发现可以进行归纳。以一种矩形加一行为例：

```
1100
0011
1100
0011
abcd
```

显然 $a=b=1$，$c=d=0$，原因是上面的跳三。

对于这些方案都只有唯一的拓展方式。所以 $\forall n,m\ge 4\land (n,m)\neq (4,4)$，答案为 $8$。

不妨设 $n\le m$，那么 $n\ge 4$ 的情形已经解决了。

考虑 $n=3$，当 $m=4$ 时，有 $20$ 种方案，其中 $4$ 种无法拓展。对于其他的，只有唯一拓展方式。所以 $n=3,m\ge 5$ 时，均只有 $16$ 种方案。

考虑 $n=1$ 和 $n=2$，都是类似的。

所以预处理 $n,m$ 小的情况即可。