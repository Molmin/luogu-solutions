#### 最大费用最大流。
匹配问题，考虑费用流。
 
先考虑一下每个神奇宝贝球的贡献：

不用，贡献为$0$

只用一个$A$球，贡献为$P_a$

只用一个$B$球，贡献为$P_b$

都用，贡献为$1-(1-P_a)*(1-P_b)$

也就是用总期望减去都失败的期望。

然后考虑怎么连边。

新建$A$,$B$两个点限制球的个数。

连$S$到$A$，流量$a$，费用$0$，连$S$到$B$，流量$b$，费用$0$

连$A$到$i$，流量$1$，费用$P_a$，连$B$到$i$，流量$1$，费用$P_b$。

连$i$到$t$，流量$1$，费用$0$。

现在考虑怎么减去都用多出来的贡献，化减一下。

原式子$$P=1-(1-P_a)*(1-P_b)$$
 $$=1-1+P_a+P_b-P_a*P_b=P_a+P_b-P_a*P_b$$

注意到$P_a,P_b$的贡献已经算进去了，所以连$i$到$t$，流量$1$，费用$-P_a*P_b$。

做最大费用最大流即可，剩下的都是套模板了。

注意精度问题，~~调了好久~~，我设的$eps$为$1e-10$

 ~~贪心题单里面混进来了一道费用流流~~
 
 代码就不贴了，都是板子