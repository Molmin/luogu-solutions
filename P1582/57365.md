前言：翻了几页题解，发现大家主要是用二进制做的，也有极少几份题解用的是像我一样的类似贪心的做法。但是思路不外乎将$2$的整数次幂预处理出来，这里提供一个用数学进行这个步骤的方法。
## 前置知识：
- ###  log函数（指数学上的log函数）
~~自行baidu 这个高中数学应该会很详细的讲的吧？~~

注：这一段是基础内容，已经了解的请直接跳过

**log函数即对数函数，用于在知道底数和幂的情况下求指数。**

如果我们设
$$a^n=b$$
那么就有
$$\log_ab=n$$
**举个例子：**

我们知道
$$2^5=32$$
那么就有
$$\log_232=5$$

- ### log函数在解这道题中需要推出一个柿子
$$\log_ab=\frac{\log_cb}{\log_ca}$$
证明：

我们设$c^m=a,a^n=b$，那么易知:
$$c^{mn}=b$$
分别将$c^m=a,c^{mn}=b$改写为对数形式就有：
$$\log_ca=m\log_cb=mn$$
用后边的柿子去除以前边的柿子，就得到了：
$$\frac{\log_cb}{\log_ca}=n$$
其中$n$又等于$\log_ab$，代入就推出了原来的柿子。

## 下手题目
- ### 从样例下手：
样例2：
```
1 1 1 1 1 1 1 1 1 1 1 1 1
```
首先我们会想到将尽可能多的$1$倒到一起，这样就变成了
```
2 2 2 2 2 2 1
```
重复进行这一操作，最后会得到：
```
8 4 1
```
这样我们只需要再来$3$桶水，与剩下的$1$倒到一起，即可与剩下的$4$合并,只剩下$2$桶。

容易发现，任何一个桶中水的量，必定是$2$的非负整数次幂。

这样，我们就有了这个近似贪心的做法：

一开始，我们有$13$桶水。将其中的$2^3$桶水合并成一桶，剩下$5$桶水需要合并成一桶，我们就需要$3$桶来补齐到$2^3$桶，才能合并成$1$桶。

类似的，我们对样例3进行一下测试：(电脑计算器在燃烧！)

第一桶水量为$524288$，第二桶$262144$，第三桶$131072$，第四桶$65536$，还有$16960$桶，这时就需要补齐到$32768$桶，因此就需要再买$15808$桶。

多次测试后发现，我们的贪心思路是正确的。

因为$2^n$这个函数的值会随着$n$的增大越来越稀疏，所以剩下的桶越少，想要补齐到$2$的整数次幂需要的桶数也就越少。
- ### 如何实现
每一次，都要取到尽可能大的非负整数$n$，使得$2^n\leq N$（注意这两个$n,N$的大小写，前者是指数后者是桶数）。$p$可以这样求:
$$p=\lfloor \log_2N\rfloor$$
此时将$2^p$桶合并为一桶，从$N$中减去这个数，再对剩下的同属进行这个操作。

当需要将剩下的桶合并为$1$桶时，先判断剩下的桶数是否已经是$2^p$的形式。（判断方法：求出$p$，判断$N$是否等于$2^p$）

如果是就输出$0$，否则就输出$2^{p+1}-N$，即补齐需要的桶数。

在过程中如果总桶数还没有到$K$，就已经合并完了所有的桶，就直接输出$0$.

c++中自带$log$函数，但是它是以$e$为底的，这时我们就需要用到刚刚推出的柿子：将$\log_eN$去除以$\log_e2$，得到的结果就是$\log_2n$

- ### 小问题
在做这道题的时候，第10个测试点，由于得数比较大，直接输出`pow(2,log2(N)+1)-N`的话，$luogu$评测姬会输出一个科学计数法，导致WA，因此需要先将其存入一个变量再输出。

最后贴上~~写得奇丑的~~AC代码：

```
#include<bits/stdc++.h>
#define log2(p) floor(log(p)/log(2))
using namespace std;
long long N,K;
int main()
{
    cin>>N>>K;
    for(int i=1;i<K;i++)
    {
        N-=pow(2,log2(N));
        if(N==0)
        {
            cout<<0;
            return 0;
        }
    }
    if(N==pow(2,log2(N))) cout<<"0";
    else
    {
        long long ans=pow(2,log2(N)+1)-N;
        cout<<ans;
    }
    
    return 0;
}
```