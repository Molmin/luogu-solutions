
有 $n$ 个骰子，每个骰子有 $K$ 个面，上面有 $1$ 到 $K$。骰子都是一样的。

现在对于 $[2,2K]$ 中的每一个数 $x$，要求出任意投这个 $n$ 个骰子使得不存在任意两个骰子的点数和为 $x$ 的方案数。

- $n,K\le 2000$

---

$\rm Sol:$

设考虑到的数为 $y$

考虑假设权值 $i$ 出现了，那么 $y-i$ 就不能出现，所以这样的权值会因为 $y$ 而两两配对。

枚举一个 $y$，将权值进行两两配对，这样会有 $\frac{y}{2}$ 个配对权值以及 $K-x$ 个单独权值，还有一个仅能出现一次的 $\frac{y}{2}$（如果 $y$ 为奇数）（若 $y\le K$，另一边处理方式类似）

然后由于骰子本质相同，我们只需要每种权值的出现次数即可，考虑配对权值贡献的 OGF 必然形如：

$$1+2x+2x^2+...=\frac{x+1}{1-x}$$

考虑仅能出现一次的权值的 OGF 必然形如：

$$1+x$$

考虑单独权值的 OGF 必然形如：

$$1+x+2x+...=\frac{1}{1-x}$$

于是我们得到答案为：

$$\frac{(1+x)^m}{(1-x)^k}$$

$m,k$ 需要根据 $y$ 进行推算，然后需要考虑展开式里面的 $[x^n]$ 前面的系数即可，将答案视为 $(1+x)^m\cdot (1-x)^{-k}[x^n]$，前者的系数为 $\binom{m}{i}x^i$，后者为 $\binom{k+i-1}{i}[x^i]$，对于某个 $y$，计算答案显然为一个 $\mathcal O(n)$ 的卷积，所以暴力即可，复杂度为 $\mathcal O(nK)$ 