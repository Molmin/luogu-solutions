~~好爱博弈论~~

通过分析我们可以知道，有以下两种情况：

- 如果 $n$ 是偶数，那么后手必胜，因为他可以模仿先手的每一步；

- 如果 $n$ 是奇数，又要分类讨论：

	- 如果能分割，我们让先手第一次完全切割一根，那么就转化为了后手为“先手”面对偶数根的情况，那么由上面的分析可知，先手必胜；
   
   - 如果不能分割，先手直接输掉。
   
所以问题就转化为判断奇数根或偶数根以及判断先手能否首先处理木棍的问题。

优化：求先手能否首先处理，只用枚举到 $\sqrt{m}$ 即可。

代码主体如下（要自己思考哟！）：
```cpp
    while(~scanf("%d%d%d",&n,&m,&k))
    {
        int flag=0;
        if(n&1)
        {
            for(int i=1;i*i<=m;i++)
                if(m%i==0)
                {
                    if(i>=k&&m/i>1||i>1&&m/i>=k)
                    {
                        flag=1;
                        break;
                    }
                }
        }
        printf("%s\n",flag?"Timur":"Marsel");
    } 
```