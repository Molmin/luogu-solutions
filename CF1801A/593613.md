## 思路
题目要求每个 $4 \times 4$ 大小的子矩阵都要满足：

- 左上角四个元素异或和等于右下角四个元素异或和
- 右上角四个元素异或和等于左下角四个元素异或和

那么我们不妨从 $2 \times 2$ 大小的矩阵开始构造。

因为异或和相等，所以可以先考虑直接让异或和等于 $0$，那么容易构造出一个矩阵为：

$$\begin{Bmatrix}0 & 1 \\2 & 3\end{Bmatrix}$$

那么相应的，$4 \times 4$ 大小的矩阵也容易构造出：

$$\begin{Bmatrix}
0 & 1 & 4 & 5\\
2 & 3 & 6 & 7\\
8 & 9 &12 &13\\
10&11 &14 &15\\
\end{Bmatrix}$$

但是很明显如果 $n \times m$ 略大一点这个子矩阵就会挂掉，我们需要修改这个子矩阵让他具有更广泛的适用性：

$$\begin{Bmatrix}
 0 & 1 & 4 & 5\\
 2 & 3 & 6 & 7\\
512&513&516&517\\
514&515&518&519\\
\end{Bmatrix}$$

因为 $n,m \le 200$，每两行最多出现 $400$ 个数字，所以将构造方案中将每两行之后的下一个 $base$ 设置为 $512$，可以保证矩阵内的数字不重复。

接下来考虑更大一点的矩阵如何构造。

我们先考虑 $4 \times 5$ 大小的矩阵。因为只有两个 $4 \times 4$ 大小的矩阵，且我们已经构造出了其中一个，现在只需要考虑如何构造出另一个矩阵即可，取出前面矩阵的部分元素：

$$\begin{Bmatrix}
 1 & 4 & 5 &x_1\\
 3 & 6 & 7 &x_2\\
513&516&517&x_3\\
515&518&519&x_4\\
\end{Bmatrix}$$

取出左上角和左下角四个元素，发现 $1 \oplus 4 \oplus 3 \oplus 6 = 513 \oplus 516 \oplus 515 \oplus 518 = 0$，刚好异或和为 $0$，现在我们只需要让 $x_1 \oplus x_2 = 5 \oplus 7,x_3 \oplus x_4 = 517 \oplus 519$ 即可。

我们又发现，$5 \oplus 7 = 517 \oplus 519 =2$，那么我们就可以从 $7$ 和 $519$ 开始向后枚举 $a,b$ 使 $a \oplus b =2$，发现枚举出了 $(8,10)$ 和 $(520,522)$，放到之前的矩阵中：

$$\begin{Bmatrix}
 0 & 1 & 4 & 5 & 8\\
 2 & 3 & 6 & 7 &10\\
512&513&516&517&520\\
514&515&518&519&522\\
\end{Bmatrix}$$

发现 $4 \times m$ 的矩阵呼之欲出了：

$$\begin{Bmatrix}
 0 & 1 & 4 & 5 & 8 & 9 &11+1&11+2&\cdots\\
 2 & 3 & 6 & 7 &10 &11 &11+3&11+4&\cdots\\
512&513&516&517&520&521&522+1&522+2&\cdots\\
514&515&518&519&522&522&522+3&522+4&\cdots\\
\end{Bmatrix}$$

简单手玩一下发现矩阵合法，那么接下来需要考虑 $n>4$ 时的矩阵如何构造。仍然保持当前规律不变，设 $n=6,m=4$，尝试按照当前规律构造：

$$\begin{Bmatrix}
 0 & 1 & 4 & 5\\
 2 & 3 & 6 & 7\\
512&513&516&517\\
514&515&518&519\\
1024&1025&1028&1029\\
1026&1027&1030&1031\\
\end{Bmatrix}$$

简单手玩，发现矩阵仍然合法，设置 $n>6,m>6$，再次检查，仍合法，最终得到构造方案：

$$\begin{Bmatrix}
 A_{1,1} & A_{1,2} & A_{1,2}+3 & A_{1,2}+4 & A_{1,2}+7&\cdots\\
 A_{2,1} & A_{2,2} & A_{2,2}+3 & A_{2,2}+4 & A_{2,2}+7&\cdots\\
A_{1,1}+512&A_{1,2}+512&\cdots&\cdots&\cdots&\cdots\\
A_{2,1}+512&A_{2,2}+512&\cdots&\cdots&\cdots&\cdots\\
A_{1,1}+1024&A_{2,2}+1024&\cdots&\cdots&\cdots&\cdots\\
\cdots&\cdots&\cdots&\cdots&\cdots&\cdots\\
\end{Bmatrix}$$

## 代码
代码实现上可能略有不同，但构造出的矩阵是相同的。
```cpp
#include<iostream>
using namespace std;
int main(){
int t;
cin>>t;
while(t--){
	int n,m;
	cin>>n>>m;
	cout<<n*m<<'\n';
	int i=0;
	long long bas=0;
	while(i<n){
		i++;
		for(int j=0,cnt=0;j<m;j++){
			cout<<bas+j+cnt<<' ';
			if(j&1)cnt+=2;
		}
		cout<<'\n';
		if(i&1)bas+=2;
		else bas+=510;
	}
}
return 0;
}
```