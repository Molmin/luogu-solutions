# 题解 P3908 【数列之异或】
## 先讲一下打表法：
### 看到这个题目和范围，我们就会想到绝对有log级别的数位dp做法，可能有O（1）级别的数论做法。太菜了，不会数位dp，所以就开始乱搞。依次算出n=1-20的答案后就成功找到了规律。
### 规律太脑残不想说，直接贴代码吧。

```cpp

if (n%4==0) printf("%lld",n);
if (n%4==3) printf("%lld",0ll);
if (n%4==1) printf("%lld",1ll);
if (n%4==2) printf("%lld",n+1ll);

```
## 但是因为这不是考试，所以我认为还需要想到正解。
### 可设数列为 1,2,3,4,...,n-1,n。
### 1.n为奇数，所以可设n的二进制形式为 ABCD1, n-1的二进制形式为ABCD0，此刻，可得出，n^(n-1)=1；然后对于数列中前面的所有数，便可以拆分为若干个1异或，所以这种情况便转化为求若干个1异或的值
### 2.n为偶数，可以把序列拆为前n-1个奇数的异或值，再把这个值异或n即可，而对于前n-1个奇数的异或值，求法与（1）相同。

## 以下代码：
```cpp

#include <bits/stdc++.h>
using namespace std;
long long n,ans;
int main(){
scanf("%lld",&n);
if (n&1)
	{ 
	ans=(n-1>>1)+1;
    ans&=1;
	}
else 
	{
	ans=(n-1-1>>1)+1;
	ans&=1;	
	ans^=n;    
	}
printf("%lld\n",ans);
return 0;	
}


```
