## 0.前言

[博客题解传送门](https://www.luogu.com.cn/blog/Rolling-blog1424/solution-p7610)

大模拟好评！

特别鸣谢：@[$\texttt{\color{black}{s}\color{red}{henmadongdong}}$](https://www.luogu.com.cn/user/71491)。

（具体而言是帮作者调出了两个大错误。）

## 1.正文

既然是大模拟那么没什么好说的了。

主要分几个部分：

1. 技能
2. 普攻
3. 各种回合加成
4. 天赋

其中天赋和技能较为类似。

对于普攻，主要需要注意的就是受到伤害以及天赋的加成，算是这几个里面最为简单的一个；

对于技能而言，分 $10$ 种情况分类讨论即可。

需要注意的是：

1. 对于受到伤害/产生增减益的效果需要判断这两个先后顺序；
2. 对于技能 $10$，所谓的全场不只有自己一队，还有对手的队伍技能也要改为 $0$ 号技能；
3. 增/减益型效果，在下面会提到；

个人认为 回合加成 是最容易写错的内容（

一个比较坑的点：对于超过 $23333$ 回合后的增益效果没有用，可以将其视为只持续到第 $23333$ 回合为止（除非开大数组，否则会有RE）；

对于防御/攻击型的增减益，生效在技能结束（行动结束）后，而结束则是在回合结束。

注意到**对手的减益效果**也是在**自己**行动结束后产生的。

易错点：不要忘记在普攻以后增益。（本人错误 $\times 1$）

而实现方法可以分两个队分别用差分记录。

（当然效果的结束也可以在下回合开始后，$\texttt{Alice}$ 行动之前处理掉。）

至于每回合都会生效的 $\texttt{mp}$ 的回复可以直接每回合增加；

最后的效果就是技能 $10$ 发动后的判断本队死亡的效果，直接在那个回合打上一个 $\texttt{tag}$ 就可以了。


还有一些其他比较容易错的点：

1. 攻击的顺序不要写错！（作者就不小心写错了计算伤害的函数调了半天。）
2. 不要把变量名写错！

代码扔在[剪贴板](https://www.luogu.com.cn/paste/y4t7zmes)里了。
