[题目传送门](https://www.luogu.com.cn/problem/P8032)

[博客传送门](https://www.luogu.com.cn/blog/hellafxybk/solution-p8032)

细节很多，主要是处理缩进。主要思路大概如下：

* 提前说明一下，$cnt$ 代表当前缩进长度。在每次输出前，先按照 $cnt$ 的个数打空格。
* 遇到逗号 `,` 时，输出逗号 `,` 和换行 `\n`。
* 遇到小写字母直接输出。
* 遇到左大括号 `{` 时，输出左大括号 `{` 和换行 `\n`，并把 $cnt$ 加 $2$。
* 遇到右大括号 `}` 时，输出右大括号 `}` 和换行 `\n`，并把 $cnt$ 减 $2$。
* 还有：前面的大括号缩进后是处理字母的，那大括号本身呢？需要放在输出缩进的前面。个人语文水平有限，如果您看不懂描述可以试一下这组样例：`{a,b,{c,d},e,{}}`。
* 注意：千万不能打完空格再换行，不然等于没打。~~（废话）~~

代码：

```cpp
#include <iostream>
using namespace std;
string s;
int cnt; //处理缩进长度 
int main(){
    cin >> s;
    for(int i=0;i<s.size();i++){
        if(s[i] == '}'){
            if(s[i - 1] != '{')
                cout<<endl;
            cnt -= 2;
        } //注意大括号的缩进要放在输出前面。
        if(s[i] == '{' && i != 0){ //防止越界，右大括号不存在这种情况。 
            if(s[i - 1] >= 'a' && s[i - 1] <= 'z') cout<<endl;
        }
        //有些换行的处理要放缩进前面，不然缩进再换行等于没有缩进。 
        if(s[i] != 0){ //防止越界
            if(!(s[i - 1] >= 'a' && s[i - 1] <= 'z' && s[i] >= 'a' && s[i] <= 'z')){ //如果这个字符和上一个字符都是字母，那他们是一个单词内的，不用缩进。 
                if(!(s[i] == ',')){ //逗号直接加单词后面，不用缩进。
                    for (int j = 0; j < cnt; j ++ ) cout << " ";
                }
            }
        }
        if(s[i] == '{'){
            cnt += 2;
            cout<<"{"<<endl;
        }
        if(s[i] >= 'a' && s[i] <= 'z'){ //小写字母
            cout << s[i];
        }
        if(s[i] == ','){
            printf(",\n");
        }
        if(s[i] == '}'){
            printf("}");
        }
    }
    return 0;
}
```