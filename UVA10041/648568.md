我们不难发现，如果要使他们的距离和最小，应该选择在所有房子最中间的位置，即求这个序列的中位数。

中位数代码如下：
```cpp
/*输入*/
int t=0;
if(n%2==0) t=n/2;
else t=n/2+1;
```

经过这样的计算，中位数的位置就为 $t$。

我们再计算距离，我们可以发现，第 $i$ 个和第 $t$ 个的位置差距为 $|a_i-a_t|$，所以说总共的距离为：
$$\sum\limits_{i=1}^{n}{|a_i-a_t|}$$
最后我们只需要这样计算即可。