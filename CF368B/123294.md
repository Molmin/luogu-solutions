题意：输入 $n,m$ 和 $n$ 个数 $a_i$，之后是 $m$ 次询问：输入一个数 $l$ ，输出 $a_l,a_{l+1},……a_n$ 之间有多少个不同的数

#### 思路：如果根据题意模拟，时间复杂度高可达到 $O(mn)$，所以需要优化

优化：

- #### 用一个 $map$ $k$（当然数组也可以，因为 $a_i$ 的范围比较小）判断一个值是否出现过

- 开一个数组 $s,s_i$ 记录 $a_i,a_{i+1},……a_n$ 之间不同的数的个数

预处理一下，**从后往前**枚举，对于第 $i$ 个数，如果 

$a_i$ 没有在 $a_{i+1},……a_n$ 中出现，即 $k[a_i]=0$，则 $s_i =s_{i+1}+1$，否则 $s_i=s_{i+1},$ **别忘了把 $k[a_i]$ 标记成 $1$**

对于每次询问 $l$，输出 $s_l$ 即可

- #### 加上优化时间复杂度为 $O(\max(m,n))$

#### 代码：
```
#include<bits/stdc++.h>
using namespace std;
map <int,bool> k;
int n,m,a[100100],s[100100],l;
int main()
{
	cin>>n>>m;
	for(int x=1;x<=n;x++)cin>>a[x];
	for(int x=n;x>0;x--){//从后向前枚举 
		if(!k[a[x]])s[x]=s[x+1]+1;//优化
		else s[x]=s[x+1];
		k[a[x]]=1;
	}
	for(int x=1;x<=m;x++)cin>>l,cout<<s[l]<<endl;
	return 0;
}
```
#### 珍爱账号，远离抄袭

如果有错误请私信我，我会及时改正！

求赞 $qwq$

$\small{\text{Upd 2019.8.17 : 添加Latex，之前的文章有点丑}}$