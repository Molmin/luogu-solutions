注意到对于固定的i，$x~mod~i$为$0,1,2,...,i-1,0,1,2...$这样循环。


考察$x~mod~i-x$的值，那么它就为$0,0,...,0,i,i,...,2i,2i...$这样，每个i的倍数差值增加i。


那么我们只要用一个数组记录$x~mod~i-x$的值，每次枚举i的倍数将其减i，最后前缀和一下。对于每个i都这么做，最后一起前缀和即可。


$\sum_{i=1}^n \frac{n}{i}=O(nlogn)$。
