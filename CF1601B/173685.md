可以冲一发 [线段树优化建图](https://www.moyujiang.com/982.html) 莽过去，但是太难写了。

考虑 bfs，每个点 $y$ 被跳上来，下滑 $b_y$ 米之前第一次到达就是最优的，所以每个点只会被搜到一次。

那么我们就可以把 $[0,n-1]$ 塞进 STL::set，每次把 $[u-a_u,u]$ 中还没被访问过的点拉出来更新并放入下滑后的点入队列，然后把它们删除掉，每个点只会贡献一次删除和入队，时间复杂度 $O(n\log n)$。

[code](https://codeforces.com/contest/1601/submission/133001541)。