### Raney 引理

> 对于**和为 $\bm 1$** 的整数序列，其**存在唯一**循环移位满足所有前缀和均为**正数**。

证明：找到前缀和最小的位置（如有相同取最后），以其**后一位**为首，该循环移位满足条件且唯一。

### 本题题解

转化题意，令 $w_i-1\to w_i$，有序列和为 $\bm{-1}$ 且末位为 $-1$，对序列重排，要求末位不动且任意前缀和**非负**。


考虑另一个问题：

> $n$ 个 $1$，$n$ 个 $-1$，求前缀和**非负**的重排方案数。

解法：

另外加入一个 $1$，现在所有数的和为 $1$。容易发现，新序列重排使得前缀和为正数的方案和原序列前缀和非负的方案是一一映射的关系！因为首位必定为 $1$。

回归本题，同样可以加入 $-1$，此时和为 $-1$。容易发现，新序列重排使得前缀和为正数的方案和原序列前缀和非负的方案是一一映射的关系！因为末位必定为 $-1$，把序列取反再翻转，这样要求前缀和是正数，就构成了映射。

综上，答案即为 $\dfrac{m!}{(m-n+1)}$。$m!$ 是 $m+1$ 的圆排列，除掉是因为要求末位不动。

