**题目**：P1152 欢乐的跳              //萌新的首篇题解，尽可能详实一些，有可能过于啰嗦。  **C**

**题设**：一个**n**个元素的整数数组，

如果数组两个连续元素之间差的绝对值包括了**[1,n-1]**之间的所有整数，则称之符合“欢乐的跳”；

给定一个数组，判断该数组是否符合“欢乐的跳”。

如：数组 1 4 2 3 符合“欢乐的跳”；

因为差的绝对值分别为：3 2 1。


**分析样例：**

(1)
4 1 4 2 3

4 （表示该数组有4个元素）1 4 2 3（表示数组元素的值）//[该样例中n=4,数组元素为1 4 2 3]

计算一下 “两个连续元素之间差的绝对值” 得到  3 2 1；而 “[1,n-1]之间的所有整数” 为 1 2 3；

所以 “数组两个连续元素之间差的绝对值包括了[1,n-1]之间的所有整数，称之符合‘欢乐的跳‘"

那么输出结果是 Jolly

(2)
5 1 4 2 -1 6

5 （表示该数组有5个元素）1 4 2 -1 6（表示数组元素的值）//[该样例中n=5,数组元素为1 4 2 -1 6]

计算一下 “两个连续元素之间差的绝对值” 得到  3 2 3 7；而 “[1,n-1]之间的所有整数” 为 1 2 3 4；

所以 “数组两个连续元素之间差的绝对值不包括了[1,n-1]之间的所有整数，称之不符合‘欢乐的跳‘"

那么输出结果是 Not jolly


**结论：**

由于该题目不甚复杂，所以其可用模拟解决。

按照题目意思，可以开两个数组(a,b)，一个(a)存放数据（大小：n），一个(b)存放差值（大小：n-1）。

可以用第i个元素减去第i+1个元素得到差值，4-1=3,2-4=-2, 发现出现负数，于是还需要计算绝对值。

//绝对值判断可以用if完成，情况只两种： >=0  <0，可以用if else。

存放差值时需要注意，数据大小是n，差值只有n-1个；所以比较是只能循环i到n-1，数组下标从0循环到n-2。

通过样例(1)，发现得到的差值与 1至n-1 数的顺序不同，所以需要给差值排序，这里推荐快排【效率高】。


//求省事则使用qsort【快排函数】。

---------------------------------------------------愉快的码**代码**-coding~--------------------------------------------------


```c
#include<stdio.h>//基本的头文件
#include<stdlib.h>//qsort需要的头文件
int cmp(const void *a, const void *b)//qsort需要的函数[起到比较的作用]
{
    return *(int*)a - *(int*)b;//qsort的结果为从小到大排列
    }
int J(int x)//自定义的绝对值函数
{
    if(x>=0)//若此数为非负数
    return x;//返回原值
    else//否则
    return x*(-1);//返回其数的相反数
    }
int main()//主函数
{
    int n;//定义变量n
    scanf("%d",&n);//读入值，赋予n
    int a[n],i;//定义变量  数组a , i     [注：这样写不好，容易超过空间限制，最好开一个全局变量 如：a[10000000]]
    for(i=0;i<n;i++)//循环n次
    {
        scanf("%d",&a[i]);//读入值，赋予a
        }
    int b[n];//定义变量  数组b          [注：这样写不好，容易超过空间限制，最好开一个全局变量 如：b[10000000]]
    for(i=0;i<n-1;i++)//循环n-1次
    {
        b[i]=J(a[i]-a[i+1]);//计算(第i个元素与第i+1个元素的)差值的绝对值，存入b数组
        }
    qsort(b,n-1,sizeof(int),cmp);//将b数组按从小到大顺序快排
    int o=0;//定义变量o,初始化为0【设置检验是否符合“欢乐的跳”规律的"开关"，初始状态为关】
    for(i=1;i<n;i++)//循环n次，
                           //检验数组两个连续元素之间差的绝对值是否包括了[1,n-1]之间的所有整数，是否符合‘欢乐的跳‘"
    {
        if(b[i-1]!=i)//若数组下标为i-1,即第i个差(的绝对值)的值不为第i个整数i（不符合“欢乐的跳”规律）
        {
            o=1;//变量o值赋1【不符合“欢乐的跳”规律，"开关"打开】
            break;//若出现如此情况，跳出整个循环（因为有1例不符合“欢乐的跳”规律，整个数组都不符合“欢乐的跳”规律）
            }
        }
    if(o==0)//若o值为0【"开关"状态为关，该数组符合“欢乐的跳”规律】
    printf("Jolly");//输出 Jolly （输出 符合“欢乐的跳”规律）
    else//否则【"开关"状态为开，该数组不符合“欢乐的跳”规律】
    printf("Not jolly");//输出 Not jolly （输出 不符合“欢乐的跳”规律）
    return 0;//结束，返回0
              //return 0；表示程序正常结束。 return 非0； 表示程序异常结束。
             //这是C标准对编译器的一项建议，不是必须的。没有return 0；也可以，不过某些编译器有强制要求。
    }
```

萌新之首篇题解，不甚详实，异常啰嗦，见谅。
