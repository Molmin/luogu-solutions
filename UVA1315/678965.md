看到这道题，决定先推一推数学上的递推公式：

这里规定有 $n$ 个人需要互换 $a_{n}$ 次。

如果$n=1$，那么不需要互换，$a_1=0$。

如果$n=2$，那么也不需要换，$a_2=0$。

如果$n=3$，互换一次即可，$a_3=1$。

如果$n=4$，设有$A$，$	B$，$C$，$D$共四人，原来是$A-B-C-D-A$，那么$A$和$D$互换，$B$和$C$互换即可，$a_4=2$。

如果$n=5$，那么五个人需要比 $n=4$ 的情况多交换$1$次，则$a_5=a_4+1=3$。

这样，可以直接算出 $a_{10}$ 以内的所有情况找找规律，$a_6=6$，$a_7=9$，$a_8=12$，$a_9=16$，$a_{10}=20$。

然而这有什么规律呢？

把 $a_{n+1}-a_{n}$ 的结果记录为 $b_n$ ，可以发现：分别为$0$，$1$，$1$，$2$，$2$，$3$，$3\cdots \cdots$

即可得到递推的公式。

但是，这样似乎有点复杂，不如得到一个通项公式，方便计算。

如果 $n$ 为偶数时，那么$a_n=1+1+2+2+\cdots \cdots+(\dfrac{n}{2}-1)+(\dfrac{n}{2}-1)=(1+(\dfrac{n}{2}-1))\times(\dfrac{n}{2}-1)=(\dfrac{n}{2}-1)\times\dfrac{n}{2}$

那如果 $n$ 为奇数时，只需要用偶数去减就可以了。$a_n=(\dfrac{n+1}{2}-1)\times\dfrac{n+1}{2}-(\dfrac{n+1}{2}-1)=\dfrac{n-1}{2}\times\dfrac{n-1}{2}$

依靠通项公式，即可得到计算 $a_n$ 的函数。注意 $1$ 和 $2$ 的特判。

```cpp
long long f(long long n)
{
   if(n==1||n==2)return 0;
   if(n%2==0)return n/2*(n/2-1);
   else return n/2*n/2;
}
```