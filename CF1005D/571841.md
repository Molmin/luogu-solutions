挺简单的，至少代码跟思路都很好想。

如果 $\forall i(1\le i\le n),a_1\dots a_i$ 已经确定最大值，那跟后面就没有关系了，所以可以直接 $O(n)$ 推。

假设现在加的数字为 $a_x$，那么分三种情况：

1. 可以直接整除，即 $0,3,6,9$。
2. 与之前连接的加起来可以被 $3$ 整除，如 $1,2$ 这种连接起来又可以相加。
3. 最难想到的一点，连接超过三个数肯定可以被 $3$ 整除。

---

这里给出第三条的证明：

我们可以发现，有这几种情况：

$x,x,x$

$x,x,y$

如果 $3$ 个数相同，我们就可以相加，如果有不同的，那么肯定有一个 $1$，有一个 $2$，那么这也是可以被整除的。

注意要记得使用 string 存储，不然会炸。