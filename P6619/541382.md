考虑不修改。

答案就是求两者满足条件的和的偏小值的两倍。而又因为要求 $\max$ ，所以要使得最小值大。设两个序列为 $a,b$ 。即找到一个温度使得 $a$ 刚好小于等于 $b$ ，一个温度使得 $b$ 刚好小于等于 $a$ 。取这两个温度的较大值，就是答案。可以用二分简单的得到。

考虑修改。

需要离线将所有温度存下来，然后离散化。建出两棵线段树一棵是 $a$ 的，一棵是 $b$ 的。每次增添操作，就在对应节点上加，删除操作就在对应节点上减。然后每次线段树二分，找到不修改的那两种情况即可。时间复杂度 $O(q\log q)$