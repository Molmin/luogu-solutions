题目要求的是使每个格子都能通向外界所需要拆的最小的墙数。

可以转化为将每个格子和外界都视为连通块，每次在相邻两个之间连一条边，求为了连通需要加的最少边数。

最优策略就直接跑个生成树出来，答案为 $a \cdot b$。