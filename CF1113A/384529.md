这道题是一道巧妙的结论题。我们先需要明确一下，城市数为 $n$ 因此里程数为 $n-1$。首先我们考虑的情况是，如果油箱的容量大于等于走的里程数，即 $v \geq n-1$ 时，我们只需要加 $n-1$ 升油，即可从起点走到终点并保证花费最小。另外的一种情况，油箱的容量小于走的里程数，即 $v < n-1$ 时，首先我们需要在第一个城市将油加满，花费为 $v$。接下来，从第二个城市开始一直到第 $n-v$ 个城市，每走一个城市就将油加满，即在每个城市只需加一升油。由于第 $i$ 个城市中一声油的价格为 $i$，因此这时就构成了一个首项为 $2$，末项为 $n-v$ 的等差数列，随后我们使用等差数列求和公式即可求出最终答案。时间复杂度为 $O(1)$，是解决本题的最优复杂度。
```cpp
#include<iostream>
#include<cstdio>
using namespace std;
int main(){
    int n,v;
    cin >> n >> v;
    if(v>=n-1) cout << n-1;
    else{
        cout << v+(2+n-v)*(n-v-1)/2;//等差数列求和公式
    }
    return 0;
}

```
