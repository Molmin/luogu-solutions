只胡不写选手。

对于式子 $a_1k_1+b_1=a_2k_2+b_2$，可以写成 $a_1k_1-a_2k_2=b_2-b_1$。

这是一个不定方程的形式，所以我们设 $A=a_1,B=-a_2$，$C=b_2-b_1$，则可以写出不定方程：

$$Ak_1+Bk_2=C$$

求一组**特解**是简单的，设 $g=\gcd(A,B)$，则可以通过 exgcd 求出 $Ax_0+By_0=g$ 的一组特解，然后两边同时乘以 $\frac{C}{g}$ 得到 $A\frac{Cx_0}{g}+B\frac{Cy_0}{g}=C$，然后就得到了特解。

但我们的目的是求**通解**，对于一个整数 $p$，考虑到 $A\frac{Bp}{g}-B\frac{Ap}{g}=0$，所以我们可以把它加到上面。

于是得到 $A\frac{Cx_0+Bp}{g}+B\frac{Cy_0-Bp}{g}=C$，求出了通解 $k_1,k_2$。

然后就可以列出不等式了：

- $k_1,k_2\ge 0$。

- $L\le a_1k_1+b_1\le R$。

- $L\le a_2k_2+b_2\le R$。

然后求出 $p$ 的范围后，也就是 $x$ 的取值个数。

注意一下对于正数和负数，向下取整和向上取整的写法就好了。
