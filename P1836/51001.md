**~~打表大法好~~**

Q1: 直接暴力能不能过？ A1: 不能，时间复杂度大到$O(10^9)$。

Q2: 多大规模的暴力能过？ A2: 1e7。洛谷在线IDE实测400ms（不开O2）。

Q3: 需要打多大的表？  A3: $\frac {10^9} {10^7}=100$。

明白了以上三点，就可以愉快地打表了。

----

我们先写一个最朴素的暴力：

```cpp
#include <bits/stdc++.h>

using namespace std;

long long sum(int i){//计算一个数字各数位上数字的和
	long long ret=0;
	while(i){
		ret+=i%10;
		i/=10;
	}
	return ret;
}

long long f(int l,int r){//计算[l,r]区间内所有数字sum值的和
	long long ret=0;
	for (int i=l;i<=r;i++){
		ret+=sum(i);
	}
	return ret;
}

int main(){
	for (int i=1;i<1000000000;i+=10000000){
    	printf("%d,",f(i,i+9999999));//每隔一千万打一个表
    }
    return 0;
}
```
运行结果如下图所示：

![](https://cdn.luogu.com.cn/upload/pic/18331.png)

然后我们把它复制到程序里面，开始写正解：

----

分块打表其实很简单，就是先算整块再算零散。

```cpp
#include <bits/stdc++.h>

using namespace std;

long long sum(int i){
	long long ret=0;
	while(i){
		ret+=i%10;
		i/=10;
	}
	return ret;
}

long long f(int l,int r){
	long long ret=0;
	for (int i=l;i<=r;i++){
		ret+=sum(i);
	}
	return ret;
}

long long res[110]={0,315000001,325000001,335000001,345000001,355000001,365000001,375000001,385000001,
395000001,404999992,325000001,335000001,345000001,355000001,365000001,375000001,
385000001,395000001,405000001,414999992,335000001,345000001,355000001,365000001,
375000001,385000001,395000001,405000001,415000001,424999992,345000001,355000001,
365000001,375000001,385000001,395000001,405000001,415000001,425000001,434999992,
355000001,365000001,375000001,385000001,395000001,405000001,415000001,425000001,
435000001,444999992,365000001,375000001,385000001,395000001,405000001,415000001,
425000001,435000001,445000001,454999992,375000001,385000001,395000001,405000001,
415000001,425000001,435000001,445000001,455000001,464999992,385000001,395000001,
405000001,415000001,425000001,435000001,445000001,455000001,465000001,474999992,
395000001,405000001,415000001,425000001,435000001,445000001,455000001,465000001,
475000001,484999992,405000001,415000001,425000001,435000001,445000001,455000001,
465000001,475000001,485000001,494999983};//一个100大小的表

int main(){
	int n;
	cin>>n;
	long long s=0;//存放和
	int i;
	for (i=1;i*10000000<=n;i++){//按一千万算整块
		s+=res[i];
	}
	s+=f((i-1)*10000000+1,n);//然后暴力算一千万以下的小块
	printf("%lld",s);
	return 0;
}
```

不要忘开long long，10个点总共640ms愉快AC~