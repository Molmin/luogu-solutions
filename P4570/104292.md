这题的证明似乎前面几篇题解贪心证明的都不是很好。。。

那我来完整证一个（代码就不贴了）

### 待证命题

将矿石按 Magic 值大到小排序后逐一插入线性基，若能插入，则将其 Magic 加入 ans，否则不加入。这样可以得到最大的 ans

### 证明：

设矿石编号为 ${a_n}$ 

我们任取一组不按此贪心策略来的选择 $\{b_k\}$，则 

$\exists_{a_i}(a_i \notin \{b_k\}) \land (\exists_{(a_j \in \{b_k\})\land(i<j)})\land($ $a_i$ 由 $a_j$ 和 $\{b_k\}$ 中其它一些元素 $\operatorname{xor}$ 得到$)$

即有一个大元素 $a_i$ 由于一个小元素 $a_j$ $(i < j)$的存在无法插入线性基。

那如果我们按照贪心把那个 $a_j$ 换成 $a_i$ 会怎样呢？

首先答案肯定变大了，但是我们还应该证明此时新的 $\{b_k\}$ 符合要求（很多题解并没有说明这一点）

##### 反证

假设现在 $\exists_{\{c_m\} \subset \{b_k\}}\{c_m\}$中元素 $\operatorname{xor}=0$，则：

若 $a_i \notin \{c_m\}$, 则原来的 $\{b_k\}$ 不符合要求，矛盾。

故 $a_i \in \{c_m\}$。

我们把 $a_i$ 用被遗弃的 $a_j$ 和现在 $\{b_k\}$中的其它元素表示出来，

发现这些元素和 $\{c_m\}$ 中的其它元素都是原来的$\{b_k\}$中的，

而他们 $\operatorname{xor}=0$, 故原来的 $\{b_k\}$ 还是不符合要求，矛盾

故新的 $\{b_k\}$ 使答案变大，且符合要求！

这就证明我们的贪心完全正确！

### 证毕


