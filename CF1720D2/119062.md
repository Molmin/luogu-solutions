有暴力的 dp

$$f_i = \max_{i \ \text{xor} \ a_j < j \ \text{xo}r \ a_i}\{f_j + 1\}$$

---

D1 中满足 $a\le 200$，于是可以得到一个明显的 $j > i-400$ 的限制，因为 $\text{xor}$ 至多有 $200$ 的正或负增量。

---

D2 中，$a \le 10^9$。按位从高到低考虑，则以上不等式表明，左右式一段前缀 $k$ 位都相同，第 $k+1$ 位，满足 $(i \ \text{xor} \ a_j)_{k+1} = 0$, ${(j \ \text{xor} \ a_{i})}_{k+1} = 1$。 那么前面 $k$ 位满足都相等，那么 $i\ \text{xor} \ a_i = j \ \text{xor} \ a_j$。

那可以把算完 dp 值的位置 $i\ \text{xor} \ a_i$ 丢到 01trie 上，那么更新的时候，需要求 按自己的走，下一个不是自己应该走的子树，满足上面那个 $k+1$ 位的条件的最大值。

那么记个 $f[x][0/1][0/1]$ 表示 trie 树上 $x$ 子树内，$a[i]$ 的第 $k$ 位为 $0 / 1$，和 $i$ 的 $k$ 位为 $0 / 1$。 $k$ 表示 $x$ 点是第几位。 这个插入时容易维护。

时间复杂度 $\mathcal{O(n\log a)}$。