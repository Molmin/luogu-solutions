[题目传送门](https://www.luogu.com.cn/problem/CF1779B)

## 题意简述
构造一个长度为 $n$ 的整数序列，使得这个序列相邻两个数的和等于整个序列所有数的和。你还需要保证序列没有等于 $0$ 的数，且值域在 $[-5000,5000]$ 之间。
## 思路
分两种情况讨论。

### 当 $n$ 为偶数时
显然奇数位填 $1$，偶数填 $-1$ 即可。

当然填其他数，或者奇偶位互换都可以。
### 当 $n$ 为奇数时

根据题意我们可以得到：$a_1+a_2=a_1+a_2+a_3+\cdots+a_n$。

化简得 $a_3+a_4+a_5+\cdots+a_n=0$，我们称之为结论 $1$。

根据题意我们还可以得到：$a_2+a_3=a_1+a_2+a_3+\cdots+a_n$。

化简得 $a_1+a_4+a_5+\cdots+a_n=0$，我们称之为结论 $2$。

我们可以根据结论 $1,2$ 得到 $a_1=a_3$。

根据题意我们还可以得到：$a_3+a_4=a_1+a_2+a_3+\cdots+a_n$。

化简得 $a_1+a_2+a_5+\cdots+a_n=0$，我们称之为结论 $3$。

根据结论 $2,3$ 可以得到 $a_2=a_4$。

以此类推，我们可以得到 $a_1=a_3=\cdots=a_{2k+1}=\cdots=a_n$ 且 $a_2=a_4=\cdots=a_{2k}=\cdots=a_{n-1}$，我们称之为结论 $4$。

为了表述方便，设所有奇数位的数都等于 $A$，所有偶数位的数都等于 $B$。

我们再尝试推一下：

先引用一下结论 $1$：$a_3+a_4+a_5+\cdots+a_n=0$。

根据结论 $4$，我们可以得到 $\dfrac{n-1}{2}\times A+\dfrac{n-3}{2}\times B=0$。

移项得 $\dfrac{n-1}{2}\times A=-\dfrac{n-3}{2}\times B$

两边同乘 $2$ 得 $(n-1)\times A=-(n-3)\times B$。

两边同除 $n-1$ 得 $A=-\dfrac{n-3}{n-1}\times B$。

显然当 $n=3$ 时无论 $B$ 取何值 $A$ 永远等于 $0$，故 $n=3$ 时无解。

由于 $n\ge 2$，故不存在 $n=1$ 的情况。

对于其他情况，由于我们需要保证 $A,B$ 都为整数，所以 $B$ 最好取 $n-1$，此时 $A=3-n$。

当然你可以取任何值，只要在值域范围内。
## 代码
仅给出主要部分。

```cpp
/*R()为快读函数，writesp()为快输函数+再输出一个空格*/
#define rep(a,b,c) for(int a=b;a<=c;a++)
void solve(){
	n=R();
	if(n==3) puts("NO");
	else{
		puts("YES");
		if(n&1){
			rep(i,1,n){
				if(i&1) writesp(3-n);
				else writesp(n-1);
			}
		}else{
			rep(i,1,n){
				if(i&1) writesp(1);
				else writesp(-1);
			}
		}
		puts("");
	}
}
```
