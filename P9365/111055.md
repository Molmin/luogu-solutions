小正太能不能不要攻击我了。

假设我们有 $m$ 种本质不同的数。

不难发现先 XOR 然后 AND 然后 XOR 最后 OR 是非常优的。

没 AND 的情况非常平凡就不说了。

先考虑有一个没贡献的数怎么做，我们用它来将整个序列全部置为 $0$，一个位置最后是 $1$ 当且仅当这个数最后 OR 了一次或者 XOR 了一次，非常非常简单，随便做。

然后就是很阴间的要处理全取到的情况，同时满足多条优先判断上方的。

- 有 $\geq m$ 个 XOR/OR，$m+1=n$，Yes。
- 有 $\geq m$ 个 XOR/OR，$m+2\leq n$，有 $\geq 1$ 个 OR，Yes。
- 有 $m+2k$ 个 XOR，$m+2\leq n$，只有一个数出现了 $>1$ 次，Yes。
- 有 $m+2k+1$ 个 XOR，$m+2\leq n$，只有一个数出现了 $>1$ 次，No。
- 有 $\geq m$ 个 XOR，$m+2\leq n$，有 $\geq 2$ 个 AND，Yes。
- 有 $\geq m$ 个 XOR，$m+2\leq n$，有一个数出现了偶数次，Yes。
- 剩下的所有情况，No。

一些构造：

- AND $x$，AND $y$，OR $z_1,z_2,\cdots,z_n$。
- OR $x$，AND $x$，XOR $y_1,y_2,\cdots,y_n$。

我确信我做烦了，不过我都快退役了，能 AC 就是胜利吧。

这题他肯定会做。