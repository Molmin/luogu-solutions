# CF1584B题解

[链接](https://codeforces.ml/problemset/problem/1584/B)

## 题意

给定一个 $n\times m$ 的棋盘，你要将它沿格线切割成若干个小长方形（面积不为 1 ）。

你要将小长方形中一些 $1\times1$ 的格子（下文称作单位格）涂色，保证对于任意小长方形，任意两个相邻单位格不同色。

求最小涂色次数。

$$
1\le n,m\le 3\times10^4,nm\ge1
$$

## 解法

考虑涂色格子占的概率：

- 面积偶数： $\frac{1}{2}$
- 面积奇数： $\frac{\left\lfloor \frac{S}{2} \right\rfloor}{S}$

显然，面积奇数更优，面积越小越好，最小占比 $\frac{1}{3}$ 。

考虑构造：

- $n,m$ 中有 $3$ 的倍数的，直接分；
- 余数为 $1,1$ 或 $2,2$ 的，剩下一个 $S=4$ 的长方形，要涂 $2$ 个；
- 余数为 $1,2$ 的，剩下一个 $S=2$ 的长方形，要涂 $1$ 个。

综上，答案为 $\left\lceil \frac{nm}{3} \right\rceil$ 。

## 代码

```c++
void run(){
	int n,m;
	cin>>n>>m;
	cout<<(n*m+2)/3<<"\n";
}
```