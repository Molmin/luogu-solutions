乍一看很难实际上很水的博弈论。

对于博弈论，两种做法：

1. 局部考虑，对于每一回合，分析每个玩家的策略，找到一个规律。

	算法：暴力模拟。时间复杂度较高，有时需要优化。

2. 整体考虑，宏观开头和结局，从而大致推出回合次数及结果。

	算法：数学方法，时间复杂度较低，一般为 $O(1)$ 或 $O(log\ n)$。

其中第一种思路基本上可以说是**通解**，但是第二种思路在某些特定情况下的做法比第一种简单很多。

这一题，很显然，采用第二种思路。

因为第一种思路主要是对于数据较小、玩家较多的题进行手玩~~口胡~~一下推出结论的。而且它有一个很重要的特征：**操作情况与玩家有关**。比如说第 $i$ 位玩家取走 $i$ 个石子，或者说第 $j$ 位玩家在第 $k$ 位玩家后进行等等诸如此类的情况，特征就是操作与玩家各种因素有关，比如编号。

然而这一题并非如此。两个玩家实际上没有任何区别，而且操作情况是与当前具体石子数量相关，与玩家因素**无关**。这一题具体分析每个人的做法其实也能做，只不过并不太适合。当然了，还是有[用第一种思路解题的题解](https://www.luogu.com.cn/blog/Loi---ys/solution-p4101)。

~~所以说到现在才讲正解是个什么玩意。~~

正解第二种思路。

来，看结果。题目中说明了结束边界：

>当谁不能再操作时，谁就输了。

怎么样是不能操作？当两堆石子不能合并时。

**石子数量是不变的**，总量为 $n$。所以，石子结局应该是这样的：

 $$\begin{matrix}\underbrace{m,m,\cdots,m}\\ \left\lfloor\dfrac{n}{m}\right\rfloor \times  m\end{matrix}+n \% m$$

共有 $\left\lceil\dfrac{n}{m}\right\rceil$ 堆，合并了 $n-\left\lceil\dfrac{n}{m}\right\rceil$ 次。

决定胜负的应该是最后一次合并时轮到的玩家，而这个正好与**合并次数的奇偶性**有关。

所以判断奇偶即可。

总结。先决策博弈思路，其次发现石子总数不变，再求出结局情况，然后推出合并次数，最后找出决定胜负的因素。


在线 $O(T)$。
