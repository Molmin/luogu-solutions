题意：

有 $n$ 个点，每个点有点权，另有 $m$ 条边和定值 $x$，你需要选择一个生成树和一个树边的顺序，使得按照这个顺序建树，建每条边时两边连通块的点权和不小于 $x$；建立一条边后新连通块的点权和要减少 $x$。

---

题解：

个人觉得是这场 CGR 最有趣（可能也是唯一有趣的）的题目！

首先，如果图不连通，或者所有点权和不到 $(n-1)\times x$，那么无解。

否则，我们证明：

**对于任意一棵生成树，都存在一种合法的修建方案。**

证明是归纳的：

在 $n$ 个点的树中，我们先随便选出一个叶子，考虑其点权 $a_u$：

1. $a_u\ge x$，那么我们最早修建 $u$ 和其父亲的边，将它们缩成一点，然后转化成 $n-1$ 个点的树，仍然满足条件。

2. $a_u<x$，那么我们如果从树中删除这个叶子和其父边，因为 $(n-1)\times x$ 减少了 $x$ 而点权减少了 $a_u$，所以剩余树仍然满足条件，所以我们把这条边最后修建即可。

所以做法就很简单了！

我们先随便选出一个生成树，进行一次 DFS，如果一个点 $u$ 的父亲为 $v$，当前 $u$ 的子树访问完毕，那么分类讨论：

- 如果当前 $a_u\ge x$，那么令 $a_v\leftarrow a_v+a_u-x$，将 $(v,u)$ 加入一个队列中。

- 如果当前 $a_u<x$，那么将 $(v,u)$ 加入一个栈中。

- 最后先按序输出队列中的边，再按序输出栈中的边，即可。