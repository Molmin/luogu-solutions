### ~~一道恐怖如斯的**构造**题~~

让我们定义 $f(a,b)$ 为取值范围从 $a$ 到 $b$ 的合法数列，那么 $f(a,b)=x+f(a,x-1)+f(x+1,b)$。

如何证明呢？我们可以操作为在字符串 $s$ 中加入 $x$，再把 $f(a,x-1)$ 加入字符串 $s$，然后把 $f(a,x-1)$ 和 $x$ 分别加入 $a$，最后把 $f(x+1,a)$ 加入 $a$，这样就构造出了一个合法的。

然后**贪心**一下，假设当前区间没有**任何限制**，那么 $b$ 到 $a$ **倒着**填数，否则就填当前限定的数。如果当前无法填数，则不存在合法解，输出 `-1`。

主要代码如下：

```
void solve(const int &d,const int &e,const int &l,const int &r){//d为a，e为b
	if(l>r){
		for(int i=e;i>=d;i--)//倒着
			b[++b[0]]=i;
		return ;
	}
	int &x=b[++b[0]]=a[l];
	if(x<d||x>e){//无法填数
		puts("-1");
		exit(0);
	}
	solve(d,x-1,l+1,min(l+x-d,r));
	solve(x+1,e,l+x-d+1,r);
}
```
