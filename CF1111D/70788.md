# 吐槽

先吐槽一波，这场CF我Bfst，D差一秒没交上去。然后喜闻乐见的掉了不少。还有这场CF考验的是你的英语能力，不得不说这位出题人是真的英语好，我光看懂题可能就花了四、五十分钟。。。

# 题意

题意大概是说，给你一个字符串，字符集大小56。

q次询问x和y，让你任意重排它，要求满足

1.同一种字符只能在左边或右边出现。

2.原来x和y位置上的字符在新串中必须在同一边。

# sol

先发现就是给你56个数，你要把它们中的一部分组成$\frac n2$,每一种贡献是$\frac {n!}{\prod a_i!}$。

简单背包好吧。

先处理出最后的背包，每次询问的时候直接删除，记得记忆化。

复杂度大概是$O(56*n+56*56*n)$?反正很快就对了。

代码就不贴了。