每次询问获得的信息只有当前所在位置的数字。考虑这样一件事情，如果我们询问了 $b_1, b_2, ..., b_k$ 之后，走到了询问 $b_1$ 前所在的数字，就说明 $n \mid \sum\limits_{i = 1}^k b_i$。可以考虑构造一个步数序列 $a_1, a_2, ..., a_m$，如果能满足任何一个 $x \in [1, 10^6]$ 都存在 $1 \le l \le r \le m$ 使得 $\sum\limits_{i = l}^r a_i = x$，那么就做完了。

先考虑 G1 $2023$ 次询问怎么做。发现是 $2 \sqrt{n}$ 级别，启发我们类似 BSGS 地，构造 $a_1 = a_2 = \cdots = a_{1000} = 1, a_{1001} = a_{1002} = \cdots = a_{2000} = 1000$。所用询问次数为 $2000$，[可以通过 G1](https://codeforces.com/contest/1840/submission/208838446)。