### [原题链接](https://www.luogu.com.cn/problem/AT_abc218_d)

## 题意简述：

给定 $n$ 个点的坐标，求有多少个矩形，使这些点中的 $4$ 个点为顶点，所有的边都平行于 $x$ 或 $y$ 轴。

## 思路分析：

如下图所示：

![xxxalq](https://cdn.luogu.com.cn/upload/image_hosting/ma8hz38t.png)

对于图 $A,B,C,D$ 四个点，当且仅当：

$$x_A=x_D,x_B=x_c,y_A=y_B,y_C=y_D$$

因为 $ (x_i,y_i)\ \neq\ (x_j,y_j) $ $ (i\ \neq\ j) $，所以可以通过 pair 或结构体类型的 map 或桶存储每个 $xy$ 坐标是否有点，$0$ 表示没有，$1$ 表示有，$-1$ 表示已经被访问过。

接着进行标记，$O(n^2)$ 的时间复杂度 $(n\le 2000)$ 枚举所有点，对于每个点，枚举剩下所有点，如果符合条件。就把这个点和另外 $3$ 个点都标记成 $-1$，且答案加一，下次就不重复访问了。

经过以上分析和推理，很容易即可得出代码了。