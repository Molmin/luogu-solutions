大家都在从连续段的角度考虑啊。

讲一种与众不同的处理方法。

令 $x$ 为 $A,B$ 集合选的数的差。

然后每次如果 $x<n$，那么随便从 $A$ 集合中选一个数。

否则的话，从 $B$ 集合中选一个数。

不难发现任意时刻 $x\in[0,2n)$。

如果存在两个时刻满足对应的 $x$ 相等，那么就直接做了。

不难发现如果 $A$ 集合所有数都被选了，那么 $x=0,1,2,\cdots,n-1$ 都被遍历过一遍了，所以下次 $x\le n$ 时就结束了，对于 $x>n$ 同理。