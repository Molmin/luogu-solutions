转化问题：求二进制数 $S=\sum 2^{a_i}$ 的最高位，需要支持 $\{a_i \}$ 的修改。

相当于快速维护一个二进制数的加或减一个 $2$ 的方幂。

可以无脑用 $\text{bitset}$ 模拟二进制加减法，复杂度 $O(\frac{nq}{w})$，可以手写压位跑过去。

但更简单的方法是用珂朵莉树维护二进制数中连续的 $1$ 段。

加上一个 $2^x$ 相当于加上一个 $1$ 段或者把一个 $1$ 段从第 $x$ 段以上的部分去掉再加上一个单独的 $1$。

减掉 $2^x$ 同理，可以用珂朵莉树轻松完成。

复杂度 $O(n \log n)$。