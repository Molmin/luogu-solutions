**题意简述**

**交互题。**

有 $2n$ 位英雄，每位英雄有一个战力 $p_i$，你和交互器轮流选择英雄。这些英雄中有 $m$ 对仇敌，当自己的仇敌被选择时，这位英雄必须立刻被另一位玩家选择。先后手由交互器决定，试最大化你选择英雄的战力和。

数据范围：$1\le n\le 10^3,0\le m \le n,1\le p_i \le 10^3,1\le a_i,b_i \le 2n,a_i \not= b_i$。

**简要题解**

挺简单的交互题，也挺有意思。

容易发现先手具有主动权，因此先考虑先手怎么做。

### 先手

发现仇敌之间是互相限制的状态，显然我们可以先将 $m$ 对仇敌解决掉，每次选择战力更高的那位。显然这样做完以后我们最大化了 $m$ 对仇敌中选择的战力和，并且这 $m$ 次选择可以看作为 **“先手权利”**，选完之后依然处于先手状态。然后每次选择剩余的英雄中战力最大的那一位。容易证明没有更优的方案。

### 后手

如果交互库选择了有仇敌的英雄，我们只能选择他的仇敌。

如果交互库选择了没有仇敌的英雄，那么我们可以任意选择，此时就回到了先手问题，直接按照先手方案解决即可。

然后就做完了。代码不难实现，就不放了（其实是我写的太乱了