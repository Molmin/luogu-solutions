### 前言
我又打破了一道0提交0通过

------------

### 题意
给定n个函数 y=max(0, kx+b)中的k和b的值，将所有这些（被截断的一次）函数相加得到一个新的函数，求这个新函数的图像中有多少个拐点

------------

### 思路
如果你只是不了解题意，请再思考一会！此题比较简单  
如果依然没有思路，请继续往下看：  

------------
若两函数在x轴上方没有交点，如下图：  
![](https://i.loli.net/2020/03/10/oHt54izmvJ3LXsS.png)  
显然它们的和的图像几乎与原图像相同，拐点全部出现在x轴上，数目为2

------------
若两函数在x轴上恰有一个交点，如下图：  
![](https://i.loli.net/2020/03/10/5FxigH2YSnKNekU.png)  
它们的和的图像仍几乎与原图像相同，拐点出现在x轴上，数目为1

------------
若两函数在x轴上方恰有一个交点，如下图：  
![](https://i.loli.net/2020/03/10/up4FhWYiBXocgO6.png)  
不难证明，加和后，在D左侧和A右侧的图像仍不变，AD之间的图像在加和后仍为一次函数图像的一部分，解析为(k1+k2)x+(b1+b2)   
故在A和D正上方各存在一个拐点，数目为2

------------
至此不难发现，拐点数目=所有函数与x轴的不同的交点数  
我们知道，一次函数与x轴的交点横坐标为 -b/k  
用map或set维护之即可  
注意k, b数据范围正负1e9，相除后为确保不错误重复，要使用long double存储

------------

### 代码
```cpp
#include<bits/stdc++.h>
using namespace std;

int n; long double k, b;
map<long double, bool> mp;

int main(){
	ios::sync_with_stdio(0);
	cin.tie(0);

	cin >> n;
	while(n --){
		cin >> k >> b;
		if(k) mp[-b/k] = 1;
	}
	cout << mp.size() << "\n";

	return 0;
}

```

------------

### 后记
希望此次疫情早日结束，让大家拥抱心仪的女孩纸 qwq