设 $f_{i,j}$ 表示现在选 $1\sim i$ 个数，第 $i$ 个数值为 $j$ 的方案数。

容易发现 $f_{i,j}$ 可以由所有满足条件的 $f_{i-1,k}$ 进行转移，也就是 $f_{i,j} = \sum_{i=a_{i-1}}^j f_{i-1,k}\bmod 998244353$。

然而时间复杂度是 $O(n^3)$ 的，会超时。

容易发现 $f$ 值更新时求的是一段连续区间的和，那么可以用前缀和维护。时间复杂度 $O(n^2)$。

可以滚动一维状态。

[Code（大号的）](https://atcoder.jp/contests/abc222/submissions/35980739)