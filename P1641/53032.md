首先我们发现正面计算比较困难，转化成不受限制的方案减去不合法的方案。

考虑建立一个坐标系，x轴表示选了的字符数，y轴表示1与0的差，终点就是(n+m,n-m);

不受限制的方案数就是从原点出发到终点的方案数。

不合法的方案数就是直线会经过y=-1的方案数，这个方案显然无法直接计算，因为它的直接计算无法保证肯定经过y=-1。

根据坐标系的对称性，将原直线与y=-1相交前的部分关于y=-1进行对称，等价于从(0,-2)出发到(n+m,n-m)的方案数,这样就能保证它与直线的相交了。

逆元线性逆处理即可。