提出一种新的思路。

首先寻找“每个同色极大连通块都是矩形”的性质，~~容易发现~~有两种：

1. 等价于每个 $2\times2$ 正方形内黑色和白色格子的个数都是偶数

2. 等价于每一行颜色都与上一行完全相同或相反。

题解区的两篇题解都是关于性质 2 的做法，不如考虑性质 1.

有一个显然的做法，预处理出所有不合法的 $2\times2$ 正方形，暴力搜索+可行性剪枝。可以通过本题。

如何证明性质 1 成立。~~易证。~~

如果某个联通块不是矩形，感性理解就必然有一块突出来，此时突出部分的 $2\times2$ 正方形就必然无法满足都是偶数的限制条件。

如

```
0110
1111
```

显然可以我们选取
```
01
11
```
这样一个小正方形。

代码易实现。