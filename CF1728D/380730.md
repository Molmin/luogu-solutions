板子区间 dp，直接用记搜实现。
状态：$f_{i, j}$ 表示 $s_is_{i+1}\dots s_j$ 的输赢情况（$\text{Alice}$ 赢是 $0$，平局是 $1$，$\text{Bob}$ 赢是 $2$）。注意区间长度一定是偶数。

$\text{Alice}$ 有两种决策，对应的，$\text{Bob}$ 的回应使得每个决策有两种转移：

- 如果 $\text{Alice}$ 选择取 $s_l$，$\text{Bob}$ 选择肯定是取 $s_r$ 或 $s_{l+1}$ 中较好的那一项，即 $\max(f_{l+2, r}, f_{l+1, r-1})$（这只是一般情况，下面会探讨特殊情况）。
- 如果 $\text{Alice}$ 选择取 $s_r$，同理，$\text{Bob}$ 选择肯定是取 $s_{r-1}$ 或 $s_l$ 中较好的那一项，即 $\max(f_{l, r-2}, f_{l+1, r-1})$（一般情况）。

上述两个取更小值就得到了 $f_{l, r}$。

什么是特殊情况呢？特殊情况就是当会平局时，现在的输赢状态是被此字符决定的（因为是把字符添加到前面，所以越后选的字符越能决定胜负）。所以当平局时要比较现在的这个字符（比如 $\text{Alice}$ 取了 $s_l$，且 $\text{Bob}$ 的第一种转移（取 $s_r$）是平局，则这时需要比较 $s_l$ 和 $s_r$ 来确定胜负）。

代码：[178923048](https://codeforces.com/contest/1728/submission/178923048)