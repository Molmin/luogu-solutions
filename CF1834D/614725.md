很妙的题，可惜赛时没想到那个关键结论。

首先，我们考虑如果两个人所处的区间确定为 $a,b$ 的情况下怎么做。显然，我们只需要选出所有只有 $a,b$ 之一会的题即可。因此，答案是 $a$ 去掉 $b$ 中元素后的大小，或者反过来。先只考虑第一种情况，第二种把区间反转一下就行。

首先将区间按照左端点从小到大排序。先考虑当 $a$ 和 $b$ 不存在包含关系时，显然选择左端点最大的区间和 $a$ 相交。

如果存在包含关系，注意到关键结论：**只有最短的区间才可能产生更优的结果。**

考虑证明，如图。其中区间 $b$ 是左端点最大的区间，$c$ 是被 $a$ 完全包含的区间。

![](https://cdn.luogu.com.cn/upload/image_hosting/y3lbi1nj.png?x-oss-process=image/resize,m_lfit,h_1700,w_2250)

如果区间 $c$ 更优，那么，蓝色部分一定小于红色部分。则当然有区间 $c$ 的长度小于区间 $b$ 的长度。

那么，对于第三种情况，我们只需要枚举每一个区间，看是否把长度最小的那个区间完全包含，并更新答案即可。

总时间复杂度 $O(n\log n)$，即排序的复杂度。当然可以通过记录最大最小值避免排序从而降到 $O(n)$，不过懒得改了。[代码](https://codeforces.com/contest/1834/submission/210199376)。