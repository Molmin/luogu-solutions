CRTyyds.

显然对于模不同的素数的同余方程我们可以用中国剩余定理合并。（但是用到这个性质放 B 一定偏难吧？）

因此我们只要考虑对于每个不同的素数是否存在相应的 $f_0$ 然后 CRT 合并答案即可。

接下来对于给定的素数 $p$， 我们标记出每个 $p_i=p$ 的位置 $i_1,i_2,\dots,i_k$。首先处理 $f_{i_1}$，若 $a_1,\dots,a_{i_1}$ 中有 $p$ 的倍数则从最后一个 $p$ 的倍数开始计算 $f_{i_1} \bmod{p}$（此时这个值是确定的），否则直接令 $p \mid f_{i_1}$（显然可以解出对应的 $f_0$）。然后此时后面所有 $f_{i_t} \bmod{p}$ 的值都是确定的了，只要暴力计算就行了。只要有一个地方计算得到的不是 $0$ 答案就是 `No`，否则就是 `Yes`。

时间复杂度 $O(n^2)$。~~网太卡了找不到代码，就不放了。~~