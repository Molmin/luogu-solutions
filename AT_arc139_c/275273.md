~~闲话：做这场的 B 用时跟 C 差不多![](//图.tk/6)~~

不会直接构造，因此这是一个无脑做法。

考虑对于 $\forall x \in [1, n], y \in [1, m], (x + 3y, 3x + y)$ 看成一个点，那么选择的 $(x, y)$ 要满足，不存在一行或一列有超过 $1$ 个点。

这启发我们对于合法的点 $(a, b)$，行和列连边，即 $a \to b$，那么就是要构造出这个二分图的一个最大匹配。

考察合法的连边，$a, b$ 应满足什么条件。不难推出：

- $8 \mid (3a - b)$；
- $\max(3a - 8m, \frac{a + 8}{3}) \le b \le \min(3a - 8, \frac{8n + a}{3})$。

所以如果知道了 $a$，那么 $a$ 连出去的 $b$ 模 $8$ 都相等，并且在所有模 $8$ 与它相等的数中是一段区间，并且由式子可得 $a$ 越大这个区间越靠后。

因为 $a$ 有 $O(n + m)$ 个，所以直接枚举 $a$，贪心取出最小的满足要求的 $b$，即可构造。实现时可以开 $8$ 个 `set`。

时间复杂度 $O((n + m) \log (n + m))$。

[code](https://atcoder.jp/contests/arc139/submissions/41643911)