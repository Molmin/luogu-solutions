**这是本蒟蒻第二十七次写的题解，如有错误点请好心指出！**

## 问题简述

有 $n$ 栋楼连在一起，每栋楼有其宽度 $d$ 和高度 $w$，现在你要用一些矩形海报去贴满这些楼的一侧，问最少要用多少张海报将其贴满。

## 解法综述

因为每一栋楼的一侧都可看作是一个矩形，所以可以用一张海报将其贴满。

有一种情况可以节约用海报的数量，当一栋楼 $i$ 的两边各有一栋高度相同且低于楼 $i$ 的高度的楼时，可以节约一张海报。因为对于上述情况，用每一栋楼贴一张海报的方法要贴 $3$ 张海报，如果我们用 $1$ 张海报将两边的楼贴满，再用 $1$ 张海报将中间那栋楼的剩余部分贴满，一共要用 $2$ 海报，所以要比原本方法少 $1$ 张。

我们可以用单调栈来解决这个问题，每次读入一栋楼的高度 $w$ 就判断其是否大于等于栈顶元素，如果是则考虑上述情况，先判断 $w$ 是否等于栈顶元素，如果是则可以节约 $1$ 张海报，再将栈顶元素弹出，记得每次读入的 $w$ 在上述操作完后要入栈。

最终答案为原本方法要花海报的数量减去节约海报的数量。

## 代码描述
```cpp
#include<stack>
#include<cstdio>
using namespace std;
stack<int> a;
int n,d,w,s;
int main()
{
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
	{
		scanf("%d%d",&d,&w);
		while(!a.empty()&&a.top()>=w)//每次读入一栋楼的高度w就判断其是否大于等于栈顶元素（因为有出栈操作所以栈要不为空）
		{
			if(a.top()==w) s++;//先判断w是否等于栈顶元素，如果是则可以节约1张海报
			a.pop();//再将栈顶元素弹出
		}
		a.push(w);//记得每次读入的w在上述操作完后要入栈
	}
	printf("%d",n-s);//最终答案为原本方法要花海报的数量减去节约海报的数量
	return 0;
}
```