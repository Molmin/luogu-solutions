- 题意翻译（本题还没有翻译，望添加）：
	- 有 $n$ 个圆盘，第 $i$ 个圆盘半径为 $i$。
	- 有 $m$ 个塔，初始时每个塔上至少有一个圆盘。在**任意**时刻，每个塔上的圆盘半径自底向上从大到小**递减**。
	- 定义一次**移动**操作为选择两个塔 $i,j(i\neq j)$，将 $i$ 自顶向下的若干圆盘移到塔 $j$ 的顶端，顺序不变。需保证操作完后局面**仍合法**。
	- 定义一次**合并**操作为对于两个塔 $i,j(i\neq j)$，通过若干次移动操作，将塔 $j$ 上的圆盘全部移到塔 $i$ 上。
	- 定义一个局面的**困难值**为将所有塔上的圆盘移到一个塔上所需进行的移动操作数的最小值。
	- 给定 $(m-1)$ 次合并操作，对于 $\forall k\in[0,m-1]$，求出做完前 $k$ 次合并操作后，当前局面的困难值。
	- $2\le n,m\le 2\times 10^5$。 

- 首先有一个很妙的结论：一个局面的困难值为满足半径为 $i(1\le i<n)$ 和 $i+1$ 的圆盘不在同一个塔上的 $i$ 的个数。证明：
	1. 困难值不可能小于这个值。对于每一个满足条件的 $i$，必然至少需要进行一次移动操作，将 $i$ 和 $i+1$ 移到同一个塔上。
	2. 困难值也不会大于这个值。我们可以按照 $1\rightarrow 2$，$1,2\rightarrow 3$，$1,2,3\rightarrow 4$，$1,2,3,\cdots,n-1\rightarrow n$ 的顺序进行移动操作，故最坏情况下操作数不超过 $(n-1)$ 次。显然，如果有一对 $(i,i+1)$ 在同一个塔上，对应的操作就不用进行了。
    
- 考虑如何处理询问。这里介绍两种方法：
	1. 启发式合并 DSU。对于每次合并操作，我们将圆盘少的塔 $y$ 合并到圆盘多的塔 $x$，遍历 $y$ 中的每个圆盘更新答案。注意还要记一个数组 $id_i$ 表示初始编号为 $i$ 的桶当前的编号。每个圆盘最多被合并 $\mathcal O(\log_2 n)$ 次，故复杂度为 $\mathcal O(m\log_2 n)$。
    
	2. 转化为树上问题 LCA。我们发现，每个圆盘 $i(1\le i<n)$ 对的答案的贡献为 $1$ 或 $0$。初始贡献为 $0$ 的 $i$ 就不用考虑了。我们要对初始贡献为 $1$ 的 $i$ 快速求出其贡献变为 $0$ 的合并操作的编号。我们建出一棵有 $2m-1$ 个节点的树，节点 $1\sim m$ 表示初始的每个塔，节点 $m+1\sim 2m-1$ 表示每次合并操作新建的节点，并且有 $2$ 个儿子，表示它合并的两个塔所对应的节点。显然，节点 $2m-1$ 便是根。考虑到如果节点 $x$ 是节点 $y$ 的祖先，那么 $x$ 一定包含了 $y$ 的所有圆盘。记录每个节点的高度 $h_x$（叶子的高度为 $0$）。记 $t_i$ 表示半径为 $i$ 的圆盘初始所在的塔的编号，那么令 $p=\text{LCA}(t_i, t_{i+1})$。显然 $p$ 就是高度最小的并且同时包含圆盘 $i$ 和 $i+1$ 的节点。所以 $h(p)$ 就是我们要求的了。复杂度 $\mathcal O(n\log_2 m)$。
    
- 后记：第一步的结论非常重要，移动操作的形式非常多样，需要我们去归纳这些操作里共有的性质，从而发现真正有效的操作，具有一定思维难度。之后方法二的转化也非常优美和自然，难度评分 *2300 也合理。综上所述，这是这场 edu 中不可多得的好题。