做这题你首先要知道一个常用的泰勒展开公式。

$e^{cx}=\sum_{i\ge 0}c^i\frac{x^i}{i!}$

然后，三种限制的生成函数是：

$A(x)=\sum_{i\ge 0}\frac{x^i}{i!}=e^x$

$B(x)=\sum_{i\ge 0}\frac{x^{2i}}{(2i)!}=\frac{e^x+e^{-x}}{2}$

$C(x)=\sum_{i\ge 0}\frac{x^{2i+1}}{(2i+1)!}=\frac{e^x-e^{-x}}{2}$

因为每种都有四个，所以最后答案的生成函数是$Ans(x)=(A(x)B(x)C(x))^4$。

手算一下$Ans(x)=\frac{e^{12x}-4e^{8x}+6e^{4x}+e^{-4x}-4}{256}$

把每一项泰勒展开得到：

$Ans(x)=\frac{\sum_{i\ge 0}12^i\frac{x^i}{i!}-4\sum_{i\ge 0}8^i\frac{x^i}{i!}+6\sum_{i\ge 0}4^i\frac{x^i}{i!}+\sum_{i\ge 0}(-4)^i\frac{x^i}{i!}-4}{256}$

合并之后，第n项的系数(即答案)就是$\frac{12^n-4\times8^n+6\times4^n+(-4)^n}{256}$(因为$n<4$的时候答案为0，而上面那个式子最后的-4只和常数项有关，所以不用考虑。不过就算你考虑了，$n<4$时，答案也是0)。

~~不知道为什么读入要写scanf，不能用快读，我因为这个T到自闭~~