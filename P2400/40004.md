区间DP+KMP的next数组

我们不妨把一个由多个重复字符串拼接成的字符串称为 周期串

不难想到区间dp

    dp[i,j]表示子串[i,j]的最优解

    若[i,j]不含周期串，则其最优解一定是子串[i,j]本身

    若子串[i,j]含周期串则把[i,j]分割成两段，枚举断点k，dp[i,j]由dp[i,k] dp[k+1,j]转移

    [i,j]如果是一个周期串 则dp[i,j]可以由

    dp[i,i-1+子串[i,j]的最小周期]转移得来

那么我们下一步就要考虑如何快速判定一个字符串是否为周期串，以及如何快速求出一个周期串的最小周期

一个字符串如果是周期串，那么它可以自己和自己匹配，我们可以用KMP的next数组来解决这个问题

首先对原字符串的每一个后缀求出next数组，为了方便，以第i位为首的后缀的next数组下标从i开始

可以证明:当且仅当
(j-i+1-next[i,j])%next[i,j]==0 时 [i,j]为周期串

其最小周期就是(j-i+1-next[i,j])/next[i,j]

处理完next数组后处理出一个bool数组记录每一个子串是否包含子串

就下来就可以愉快的dp啦~

总时间复杂度O(n^3)

O(n^3)的复杂度看似十分暴力，但是由于n<=100，所以AC绝对没问题

注意:

	1)输出任意解不一定正确，必须输出字典序最大的解. STL的string重载了比较运算符>和<可以比较两个字符串的字典序大小

	2)string的length函数的时间复杂度时O(n)的