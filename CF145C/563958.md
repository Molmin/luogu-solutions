考虑到幸运数字特别少，只有 $2^9=512$ 个，可以考虑枚举幸运数字的数量 $i$，然后乘上在非幸运数字里面选择 $k-i$ 个的方案。

定义 $s$ 为 $[1,n]$ 中不同的幸运数字的数量，$cnt_i$ 表示第 $i$ 个幸运数字的出现次数，$c$ 表示非幸运数字的个数。

设 $dp_{i,j}$ 表示前 $i$ 个幸运数中选择 $k$ 个的方案数，那么这个数可以选，也可以不选，就有 $dp_{i,j}\gets dp_{i-1,j}+dp_{i-1,j-1}\times cnt_i$。

答案就是 $\sum\limits_{i=0}^kdp_{s,i}\times C_c^{k-i}$。