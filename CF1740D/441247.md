~~临了给整出来了~~

![](https://cdn.luogu.com.cn/upload/image_hosting/aezfiiiu.png)

主要就是一个思想，然后实现也比较简单。

 **定理：** 如果这个棋盘上有至少一个空位，那么总有一种方法可以让棋盘上任何一个卡片移到任何一个位置。
 
 **证明：** 
 
 - **公理1：** 空位置可以转到其上下左右任何一个位置。
 
 - **定理1：** 空位置可以转到棋盘上任意一个位置。
 
 - **证明：** 重复公理1即可。
 
 - **定理2：** 任意一个卡片可以转到其上下左右任意一个位置。
 
 - **证明：** 根据定理1，将空位置转移到目标位置即可。
 
 - **定理3：** 任意一个卡片可以转到棋盘上任意一个位置。
 
 - **证明：** 重复定理2即可。
 
 于是题目就很简单了，哪一个卡片在哪里不重要，我们关注的是那些卡片在场上（不在 $(1,1)$ 和 $(n,m)$ ），我们从 $n$ 到 $1$ 枚举需要的卡片，如果场上没有就去 $(1,1)$ 从上往下开，如果开的卡片把棋盘占满了就无解，如果到最后都没有占满就无解。
 
 **Code**:
 
 ```cpp
void work()
{
    se.clear();
    int x,y;
    cin>>x>>y;
    int n;
    cin>>n;
    int now=n;
    for(int i=1;i<=n;i++)cin>>a[i];
    for(int i=1;i<=n;i++)
    {
        if(a[i]!=now)
        {
            se.insert(a[i]);
            if(se.size()>=x*y-3)
            {
                cout<<"TIDAK\n";
                return ;
            }
        }
        else
        {
            now--;
            while(se.find(now)!=se.end())
            {
                se.erase(now);
                now--;
            }
        }
    }
    cout<<"YA\n";
}
```

