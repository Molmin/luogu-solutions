本题关键是求每月13日是星期几，至于星期几各有几天，只要桶计数即可解决。

用day++/week++模拟天数和星期几一天天过去是不必要的，只需要计算与上月13日的间隔天数，即可确定当月13日的星期数。而与上月13日的间隔天数，正是上月的月末最大值。比如：

1900.1.1是周一，那么1900.1.13是(13-1+1)%7=6周六，减1是间隔天数，加1是因为起始日是周一。继续可推断出1900.2.13是(31+6)%7=2周二。由此可知，每月的13日是周几，取决于上月是28、29、30还是31天，因为这关系到前后两个月间隔的天数，这个天数再模7，就可求得当月13日的星期数。

这样，就可以确定基本思路是：外循环遍历年份，从而可确定2月末天数；内循环遍历月份，上月末天数与上月13日星期数求和之后，再模7取余，即是当月13日的星期数。
公式是：当月13日星期数x=(上月末天数+上月13日星期数）%7。

这个思路还需要上月13日的星期数。由于本月13日星期数同时也是下月13日的上月星期数，这正好是变量赋值的特点，所以，以上公式又可简化为：x=(mi+x)%7，mi为当月末天数。

本思路需要上月13日星期数的初始值，因为1900.1.13是与1899.12.13来计算间隔天数的，需要先求出。由(31+x)%7=6，根据同余性质推出(3+x)%7=6，可知x=3，即周三。

现在用两个方法来减少代码量，一是设定每月天数数组，m[13]={0,31,28,31,30,31,30,31,31,30,31,30,31}，下标是月份、元素值是当月天数；二是年份循环用19**，好处是可直接判断当前年份i是不是闰年。

本题注意2月的天数问题，闰年为29平年为28，必须根据当年年份来更新，否则改变为闰年的29天后，会一直保持29这个值。

以下代码只需20行。

```cpp
#include<cstdio>
int b[8],m[13]={0,31,28,31,30,31,30,31,31,30,31,30,31};//周几作b桶，1-12月天数列到m数组 
int main()
{
	int n,i,j,x=3;//1899.12.13为周三，作为x初始值 
	scanf("%d",&n);//总计年度数 
	for(i=1900;i<=1900+n-1;++i)//年为外循环
	{
		if((i%4==0&&i%100!=0)||i%400==0) m[2]=29;//直接根据年号判断闰年 
		else m[2]=28;//根据年份确定2月末天数，此步不能省 
		for(j=1;j<=12;++j)//月为内循环 
		{
			if(j==1)//特判1月的上月为12月
				x=(m[12]+x)%7;//与上年12月13日间隔天数+12.13周几 
			else x=(m[j-1]+x)%7;//非1月则取上月间隔天数+上月13日周几 
			b[x]++;//桶计数
		}
	}
	printf("%d",b[6]);//周六数
	for(i=0;i<=5;++i)
		printf(" %d",b[i]);//周日-周五数
	return 0;
}

```