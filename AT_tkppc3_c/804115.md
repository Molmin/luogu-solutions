读一遍题，我们发现题目并没有告诉我们要多少个数乘起来。那么我们可以先把数列中的数按顺序乘，并且在中途判断 $ans$（目前的乘积）是否等于 $p$，如果等于了输出并直接结束程序。

否则再判断 $ans$ 是否大于 $p$，如果大于说明乘得太多了，就将结果与前面的数相除。

否则，就继续往后乘，直到乘到数列的最后一项（即标记乘到哪的 $r$ 大于 $n$），那么一定无解了（不然中途已经结束了），于是输出 `:(` 并结束。

值得注意的是，必须开 `long long`，因为 $ans$ 的最大值可以达到 $100000 \times 10^9$，越过了 `int` 的极限。

关键代码：

```cpp
long long n, p, a[100010], l = 1, r = 1, ans = 1; // 开 long long，l 标记除到哪，r 标记乘到哪。
while(r <= n) {
        if(ans == p) {cout << "Yay!" << endl; return 0;} // 正好找到答案，输出并退出。
        else if(ans > p) ans /= a[l++]; // 乘过了，除以前面的数。
        else ans *= a[r++]; // 没过就继续乘。
    }
    cout << ":(" << endl;
```

完结撒花！