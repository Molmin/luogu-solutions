这题我们首先看题目给的一张图，我们发现这个图很优美，为什么？因为它每次都从右下角取一个最大的正方形，然后将楼梯分成两部分，对于每一部分都继续分下去。 

既然是分成两份，那么我们就要去考虑 $2$ 的次幂。我们发现这个阶梯的阶数正好是 $2^3-1$。那么是不是所有 $2^n-1$ 阶的楼梯都是好楼梯？我们来证明一下。  
首先，阶数为 $1$ 的是好楼梯。然后，每次把一个好楼梯分成两个，放在右上和左下，中间再放一个大正方形，就又形成了一个好楼梯。而这样分下去，假设 $a_1=1$，那么
$$a_2 = a_1 \times 2+1=1 \times 2+1=3$$
$$a_3 = a_2 \times 2+1=3 \times 2+1=7$$
$$\vdots$$
观察可以发现 $a_i = 2^i-1$。于是就可以证明 $2^n-1$ 阶的楼梯都是好楼梯。

那么又有一个问题，是不是只有 $2^n-1$ 阶的楼梯是好楼梯？  
再证明一下。  
首先我们要知道，对于楼梯的每个角，都不能和其他的角放在同一个正方形里，那么如果一个楼梯是好楼梯，则每个正方形都必须包括一个角，。  
然后，若阶梯的阶数是偶数阶，那么每个角都有一个正方形后，可以发现右下角一定有一块空白，可以自己模拟一下。那么这块空白又要用至少一个正方形来填补，就不满足条件。  
对于不是 $2^n-1$ 阶的奇数阶阶梯，我们也像 $2^n-1$ 阶那样分，可以发现最后总会遇到偶数阶的情况，也不满足条件。  
由上可知有且仅有 $2^n-1$ 阶的楼梯是好楼梯。

接着，我们考虑最多能搭出多少不同的好的楼梯。由于每个楼梯对于答案的贡献是一样的，都是 $1$，所以只要贪心取最小的即可。

我的证明有些繁琐，但一步步走下来应该会很容易理解QAQ。

贴代码：
```cpp
#include<cstdio>
#define int long long
using namespace std;
int T,n,ans;
signed main()
{
    scanf("%lld",&T);
    while(T--)
    {
        ans=0;
        scanf("%lld",&n);
        int k=2;
        while(true)
        {
            int x=k-1;
            int res=(1+x)*x/2;
            if(n>=res) n-=res;
            else break;
            ans++;
            k*=2;
        }
        printf("%lld\n",ans);
    }
    return 0;
}
```