虽然代码看起来有点长 但是实际上还是比较容易理解的  我这代码的核心思想 在小数部分的代码 其实还可以用自定义函数优化 但是我有点懒 

****这个题我的思路比较简单 就是考虑特殊符号前后的倒转和去零 ********

重点是 好多特殊值 比如说  0000.0000 12/1200 我也是不断在错误中修改 

重点是小数的代码 其他的都是复制粘贴 稍微修改的 



```c

#include<stdio.h>
#include<string.h>

int main ()
{
	char a[30];
	int n,i,sum=0,c;
	gets(a);
	c=1;
	for(n=0;a[n]!='\0';)//标记这个字符串的长度  
	{
		n++;
	}
	///////////////////////////////////////////////////////
	for(i=0;a[i]!='\0';i++)
	{
		if(a[i]=='.')//小数 找出小数点的下标 
		{
			for(sum=i-1;sum>=0;sum--)
				if(a[sum]!='0')
					break;
					if(sum==-1)//如果小数点前面都是0  比如 00000.0  只剩一个0 的情况 
			  printf("0");
			for(int x=i-1;x>=0;x--)//小数之前 
			{	
				if(a[x]!='0'||c==0)//两个条件 同时限制  第一个条件是0都去掉 但是中间的0也去掉了  所以要用c来限制 
				{
					printf("%c",a[x]);
					c=0;
				}
			}
			printf("%c",a[i]);//小数点的输出  
			
			for(c=i+1;a[c]!='\0';c++)//把前面的0给计数 
				if(a[c]!='0')
					break;
			for(int  x=n-1;x>=c;x--)//
			{
				printf("%c",a[x]);
			}
			if(c==n)//如果 c==n说明小数点的后面都是0  前面没有输出这里补上 
			  printf("0");
		}
	}
	/////////////////////////////////////////
		for(i=0;a[i]!='\0';i++)//分数 
	{
		if(a[i]=='/')//小数 找出小数点的下标 
		{
			for(sum=i-1;a[sum]!='\0';sum--)
				if(a[sum]!='0')
					break;
					if(sum==-1)//如果小数点前面都是0  比如 00000.0  只剩一个0 的情况 
			  printf("0");
			   
			for(int x=i-1;x>=0;x--)//分子  	
				if(a[x]!='0'||c==0)
				{
					printf("%c",a[x]);
					c=0;
				}
			printf("%c",a[i]);
			
			for(c=n-1;a[c]!='\0';c--)//去掉分母前面的0   比如 12/0012 去掉0 
				if(a[c]!='0')
					break;
			for(int  x=c;x>i;x--)//分母 
				printf("%c",a[x]);
		}
	}
	//////////////////////////////////////////////////
		for(i=0;a[i]!='\0';i++)//百分数 
	{
		if(a[i]=='%')
		{
			for(sum=i-1;a[sum]!='\0';sum--)
				if(a[sum]!='0')
					break;
					if(sum==-1)
			  printf("0");
			for(int x=i-1;x>=0;x--)
			{	
				if(a[x]!='0'||c==0)
				{
					printf("%c",a[x]);
					c=0;
				}
			}
			printf("%c",a[i]);
		}
	}
	/////////////////////////////////////////

		for(i=0;a[i]!='\0';i++)//整数 
	{	
		for(int x=0;a[x]!='\0';x++)
		{
			if(a[i]=='.'||a[i]=='/'||a[i]=='%')
			    sum=1;
		}//////////判断为整数 
		 
	}
	
	   if(sum!=1) 
	   {
	   		for(c=n-1;a[c]!='\0';c--)//标记 0 
				if(a[c]!='0')
					break;
					
					for(sum=i-1;a[sum]!='\0';sum--)
				if(a[sum]!='0')
					break;
					
					if(sum==-1)//都是0就只输出一个0  比如000000    
			  printf("0");
	   	   for(i=c;i>=0;i--)
	   	     printf("%c",a[i]);
	   }
	    //printf("sum=%d",sum) ;
	return 0 ;
}

```