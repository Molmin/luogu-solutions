关于昨天刚考的模拟赛题出现在智能推荐这件事。。。

容易发现是找一个 $i$ 使得 $Y_{i}\prod\limits_{j=1}^{i}X_{j}$ 最大。

由于有取模这件事，而这个高精度数需要比大小。

于是可以对于每个点维护一个 pair，表示 上面那个式子取 log，和 上面那个式子取模的答案。

那么可以用取完 log 比大小变成一个和的形式。

至于修改上一个线段树支持区间修改即可。

