## 题意简述

$n$ 个点，$m$ 条无向边，点权可以是 $0$ 或 $1$，边权可以是 $0\sim2$，构造一种方案使得每条边相连的两个点 **权值和** 不同。

定义一个点的 **权值和** 为 **它自身的点权** 加上 **所有与之相连的边的边权**。

## Sol

令 $X_i$ 表示第 $i$ 个点。

首先令 $X_1\sim X_n$ 的权均为 $1$，每条边的权也为 $1$。

对点 $X_2\sim X_n$ 依次进行如下操作：

假设目前考虑到第 $i$ 个点，记前 $i-1$ 个点中，与 $X_i$ 相连的点集为 $\{Y_m\}$。

设 $\{Y_m\}$ 中点权 $=0$ 的点的个数是 $k$，点权 $=1$ 的点的个数是 $l$。

容易得到等式：

$$k+l=m$$

设 $X_i$ 目前的 **权值和** 是 $p$，那么它能够达到的 **权值和** 区间为 $[p-l,p+k]$。

考虑证明：(由于构造过程的特征，一开始 $i$ 与 $\{Y_m\}$ 中的点之间的边权均为 $1$）

1. 对于 $\{Y_m\}$ 中一个点权 $=0$ 的点 $u$，将它与 $X_i$ 之间的边权 $-1$，变成 $0$，再将它的点权 $+1$，变成 $1$。

考虑这两个操作的影响：对点 $u$ 的 **权值和** 先 $-1$ 后 $+1$，因此不改变点 $u$ 的 **权值和**。对点 $X_i$ 的 **权值和** $+1$。

2. 对于一个点权 $=1$ 的点 $v$，类似的操作方式可以实现：

**不改变点 $v$ 的权值和，而点 $X_i$ 的权值和 $-1$。**

据此，点 $X_i$ 的 **权值和** 能 $+1$ 一共 $k$ 次，能 $-1$ 一共 $l$ 次。

即上文中：它能够达到的 **权值和** 区间为 $[p-l,p+k]$。

考虑区间 $[p-l,p+k]$ 中一共 $k+l+1$ 个数，而与 $X_i$ 相连的一共只有 $m=k+l$ 个点，根据 **鸽巢原理**，至少存在一个数 $x$ **不是** 这 $m$ 个点中任何一个点的 **权值和**。

将 $X_i$ 的 **权值和** 设为这个数 $x$ 即可。

以此为基础，对 $X_2\sim X_n$ 每个点按顺序都做一遍，显然能得到一种合法解。