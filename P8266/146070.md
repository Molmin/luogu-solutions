口胡选手前来报到

显然相邻两个是不会分开的。更具体地说：**如果从前往后每两个物品看作一个块，那么块中必有一奇一偶**。

容易发现任意**一个块内是可以任意反转**的：从后往前枚举每个块，然后对于一个需要反转的块，先进行前面全部的工作，再额外反转前面全部一次，最后翻转到这个块的前缀和。这样就能处理掉最后一个块，并归约到一个少一个块的子问题。

因此我们将一个块分成三种：【**必须反转的**】、【**必须不反转的**】和【**随便的**】。

考虑怎么求最小步数。直觉告诉我们这是贪心。那么通过一些经验可以得到：如果给每个随便的块**钦定一个最终结果**，答案就等于最后的连通块数量+最后一个连通块要不要翻（定义一个连通块为【要不要翻】相同的一个极大的连续块）。

证明是显然的：每翻一次最多使连通块数减一，而最后应该只有一个连通块。

考虑最小化连通块数量，发现只要每一个连续的【随便的】段都相等，并且等于左右两边任意一个（如果有的话）即可。

实现时可以顺序枚举，把除了开头的【随便的】连通块都赋值成与其左边一个相等。最后从右往左处理开头的【连续的】连通块。