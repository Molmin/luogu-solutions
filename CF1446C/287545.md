这是一道字典树好题。

- 性质:

最后留下的数中有且仅有两个数 $(i,j)$ 相互满足 $a_i\oplus a_j$ 是最小的。

- 证明:

$n$ 个点形成树，必然是 $n-1$ 条边，所以有且仅有一条重边。

- 做法:

如果你认为只需要对于其余互相数对删掉一个，建议你仔细思考一下是否会出现删去以后重新形成数对。

然后接下来我们考虑把所有数变成一颗字典树，那么对于一个节点来讲的话。

假设当前节点存的是第 $k$ 位，那么对于当前节点会出现以下三种情况:

- 没有子树，那么直接返回 $1$。

- 没有左子树，访问右子树，返回右子树可存最大个数。

- 没有右子树，访问左子树，返回左子树可存最大个数。

- 同时拥有两个子树，我们必然选择保留其中一个子树，自然是可存最大个数最大的那个，然后在其基础上加 $1$。

对于前三种情况，想必大家是没有什么问题的。

所以只需要证明一下最后一种情况:

假设保留子树 $1$。

所谓的加 $1$，其实是保留子树 $2$ 上的一个数。

首先对于异或，显然两数不一样处位数越低越好。

所以我们取了其中子树 $1$，则子树 $2$ 保留的那唯一一个数就会向子树 $1$ 连边。假设子树 $2$ 保留两个，子树 $2$ 就会产生至少一个数对，而鉴于子树 $1$ 能保留的更多，所以其内部也会至少产生一个，这样就不能满足情况了。

对于子树 $1$:

- 内部自己连。

- 只有一个数时与子树 $2$ 留下的那条形成数对，且在递归过程中只会出现一次。

以上则满足了题目要求，那么只要插入加递归即可完成了。