感觉是一道还行的线段树（~~树状数组~~）题

首先二维的线段树显然我是不会的，于是把二维转成一维再进行计算$（2500*2500）$的数据应该不会爆空间。。。

然后就可以像一般的线段树一样计算了，只是把和$ /$最小值改为奇偶判断吧……，注意偶1奇2，再拿个数组存一下1还是2，应该差不多了。

一眼看上去就是这个样子，代码自己没写过，思路应该是正常的。

咕咕