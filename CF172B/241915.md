### 题意简述

由给定的a, b, m, x生成一个伪随机数数列，并求出它的循环节并输出。

### 方法：

跟楼上一样，我看到这题目后想到的也是开个桶，但做法与楼上稍有不同。

我开了两个桶，第一个存储某数的出现次数，第二个存储这数第一次的出现位置。

当生成到的数对应的桶大于1，输出现在的项数减去第二个桶中的数就行了。

现在我来解释下为什么最后**输出现在的项数减去第二个桶中的数**。

因为每次伪随机数的生成都是通过固定公式：x=(a*x+b)%m 的，所以当第二次出现某数时，就会按照第一次循环之后的顺序继续出现第三次。

所以担心会出现类似：7 6 7 5 7 5 …… 循环节为{7， 5}的情况是多余的。

最后上一下我的代码：

```cpp
#include <bits/stdc++.h>
using namespace std;
int a,b,m,x,tong1[100000],tong2[100000];//桶一桶二功能如上 。 
int main()
{
	cin >> a >> b >> m >> x;
	for (int i = 1;;i++)//相当于while(1),但可以不用手动累加i。 
		{
			x = (a * x + b) % m;//公式。 
			tong1[x]++;
			if (tong1[x] > 1) {cout << i - tong2[x] << endl; return 0;}//解释如上。 
			tong2[x] = i;//因为有可能循环到第二次，所以最后改变桶二的值。 
		}
	return 0;//AC	
}
```

希望我的题解能让大家对这道题有更深的理解，祝大家AC愉快！