这个题乍一看可能有一点吓人，但是只要你稍微分析一下，便会发现其实它并不难，只是考你一下排列的知识罢了（话说题目里也告诉了排列的定义啊）

然后你要知道几条东西：

1. 排列的个数就是所给数字中$1$的个数

2. 如果那n个数字真的是由几个排列混合而成的，那么它们之中就不可能有大于n的数字（即如果有大于$n$的数字我们就可以立即输出$-1$并return）

3. 几个排列混合之后，大的数字的个数不可能大于小的数字的个数（同理于$2$.进行特判）

4. 如果判断完毕，数列是合法的，那么当它第$x$次出现时只需输出$x$即可（spj其实并没有什么卵用）

知道了这些，这题就好写多啦

code：

```cpp
#include<bits/stdc++.h>//搞个万能头

using namespace std;

int n,b,a[100000+100],c[100000+100],maxn,k,d[100000+10];

signed main(){
    cin>>n;
    
    for(int i=1;i<=n;i++){
        cin>>a[i];
        
        if(a[i]==1)k++;//计算排列数
        
        maxn=max(maxn,a[i]);
        
        if(a[i]>n){cout<<-1;return 0;}//特判1
        
        c[a[i]]++;//将数字装入一个桶中
    }
    
    for(int i=1;i<=maxn;i++)if(c[i]<c[i+1]){cout<<-1;return 0;}//特判2
    
    cout<<k<<"\n";//输出排列数
    for(int i=1;i<=n;i++)cout<<++d[a[i]]<<" ";//使用了简便写法
}
```
