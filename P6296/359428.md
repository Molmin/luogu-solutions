[本题链接](https://www.luogu.com.cn/problem/P6296)

本人从原题跳过来的

[原题链接](https://www.luogu.com.cn/problem/P5084)

可以先看一下我在原题发的题解：[题解](https://www.luogu.com.cn/blog/Kevin0007/p5084-lun-huan-shi) 

进入正题。

分析：

看了上文所说到的题解，应该知道，我的原题做法是分别列举 $n=1,2,3,4$ 的情况。对于 $n=1$ 的情况，直接快速幂。对于其他情况，先算出前几项这 $n$ 个数的次方和，再利用牛顿递推公式进行计算，最后得出结果。

那么这道题唯一的不同就在于 $n$ 有可能比 4 更大，那么直接分类讨论肯定是不可以的了，怎么办呢？

于是开始考虑从特殊到一般。

第一步是求出任意个未知数下的牛顿递推公式。

非常简单。先设输入的第 $i$ 个轮换式为 $l_i$，$f_n[x]=\Sigma_{i=1}^n a_i^x$。

用原题题解的原话来说，

$$f_2[x]=l_1f_2[x-1]-l_2f_2[x-2]$$

$$f_3[x]=l_1f_3[x-1]-l_2f_3[x-2]+l_3f_3[x-3]$$

$$f_4[x]=l_1f_4[x-1]-l_2f_4[x-2]+l_3f_4[x-3]-l_4f_4[x-4]$$

找一下规律就可以得知：

$$f_n[x]=\Sigma_{i=x-1}^{x-n} (-1)^{i-x+1}l_if_n[i]$$

（千万不要被这个式子所吓倒，因为当你展开并用省略号的形式写出来后，你会发现它非常好理解）

那么接下来难点就是求出前 $n$ 项 $f[x]$ 了。

此时我们可以再回头看一下我的原题题解，发现一个惊人的事情：

用原题题解中的原话来说，

$$f[2]=x^2-2y,f[3]=x^3-3xy+3z$$

这两个算式，不管 $n$ 是多少都是成立的！

再往后推几个就可以发现未知数的规律。那么我们来看系数的规律。

再把系数打成个表来：

```cpp
1
1 2 1
1 3 3 1
1 4 6 4 1
……
```

发现了什么？这是杨辉三角啊！

所以只需要把杨辉三角打出来，然后按上述做法做即可。

代码略。

