求管理员手下留情(╥﹏╥...)！！！

[点我看题](https://www.luogu.com.cn/problem/CF869B)

拿到这道题，我们首先想到的方法是根据题目要求算出 $b!$ 和 $a!$ ，然后再相除求出结果。

好的那么今天的题解就到这里了 $\cdots$ 吗？

如果你细心一点，你就会发现这样一句话：

### （ $10^{18}>=b>=a>=0$ )

看一下极端情况：如果 $b=10^{18}$ 

那么 $b!=1*2*3*\cdots*10^{18}$ 

（不光 long long 救不了你，$O(a+b)$的时间复杂度你也过不了）

显然，这种方法是不行的，这时候我们就要对它进行优化：

优化1：

我们化简一下 $\dfrac{b!}{a!}$ ，不难得到：

$\dfrac{b!}{a!}$

展开得：$\dfrac{1*2*3*\cdots*b}{1*2*3*\cdots*a}$

因为一定有 $b>=a$ ，所以原式经约分可化简成：

$(a+1)*(a+2)*(a+3)*\cdots*b$

所以只用算 $(a+1)*(a+2)*(a+3)*\cdots*b$ 的结果就行了。

优化2：

但是，在使用刚才的优化时，如果a与b差距过大，也起不到什么作用，所以，我们要继续化简：

经过分析，我们可以想出一个办法：由于最后的答案只是求商的个位数，我们便可以只用两数的个位去相乘，再对积取个位$\cdots$这样就可以节省很多空间了。

优化3：

想到了刚才那一步，那我们能不能再优化一些呢？答案是肯定的。

让我们想一想：

如果 $b!$ 比 $a!$ 的末尾多一个0的话，那么答案一定就是0；

而想要求出末尾0的个数，就必须知道10的个数；

想找10的个数，就要找2与5两个质因子；

但是2的个数一定比5多，所以我们只要找到$5$的个数便可以找到10的个数了；

同时，我们不难推出：当b比a大5甚至更多时， $b!$ 是肯定比 $a!$ 多至少一个5的；

所以，我们可以推出：当 $b-a>=5$ 时，结果一定为0。

完整代码（自认为讲得比较详细，就不加注释了）：
```
#include<bits/stdc++.h>
using namespace std;
long long a,b,ans=1;
int main()
{
	cin>>a>>b;
	if(b-a>=5)
	{
		cout<<0;
		return 0;
	}
	for(long long i=a+1;i<=b;i++)
	{
		ans=(ans*(i%10))%10;
	}
	cout<<ans;
	return 0;
}
```
完成！！！

## 你都看到这里了，还不点个赞再走吗？

修改记录：

2020.8.9：修改了一部分 $\LaTeX$ ，并精简了一部分语言。