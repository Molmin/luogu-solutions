异或是困难的，因此考虑**按位处理**（重要的思想）。每次考虑最终答案的第 $k$ 位，其值就是所有和中**第 $k$ 位为 $1$ 的个数**的奇偶性。

和的第 $k$ 位是否为 $1$ 和更高位没有关系。可设 $b_i = a_i \bmod 2^{k+1}$，则 $\forall i,j, x=b_i + b_j \in [0,2^{k+1}-2]$。若 $x$ 的第 $k+1$ 位是 $0$，则 $x \in [2^k, 2^{k+1}-1]$；若是 $1$，则 $x \in [2^{k+1}+2^k, 2^{k+1}-2]$。

发现值域是两个连续段组成的，可以排序后双指针维护。

[代码](https://www.luogu.com.cn/paste/3a04l6vc)