首先是拿生成函数推公式，大家可以看出题人的题解。但接下来还有一步非常重要：模意义下开方。这题的模数很小，可以暴力出来，但对于大模数，就需要一些技巧了。  
假设我们要对模素数$P$意义下的$a$开方。首先使用二次剩余的欧拉准则判断同余方程$$x^2\equiv a(\text{mod}\; P)$$是否有解。  
       
二次剩余的欧拉准则：$x^2\equiv a(\text{mod}\; P)$有解的充分必要条件是$$a^{\frac{P-1}{2}}\equiv 1(\text{mod}\; P)$$证明：  
先证必要性。设$x^2\equiv a(\text{mod}\; P)$的一个解为$b$，则$$a^{\frac{P-1}{2}}\equiv(b^2)^{\frac{P-1}{2}}\equiv b^{P-1}\equiv  1(\text{mod}\; P)$$最后一步用到了费马小定理。  
再证充分性。通过把$$1,2,\cdots ,P-1 $$这$P-1$个数$\text{mod}P$化简到$$-\frac{P-1}{2},-\frac{P-1}{2}+1,\cdots,-1,0,1,\cdots,\frac{P-1}{2}-1,\frac{P-1}{2}$$，再考察每个数字的平方，我们发现$P$的既约剩余系中有$\frac{P-1}{2}$个二次剩余。又因为方程$$x^{\frac{P-1}{2}}\equiv 1(\text{mod}\; P)$$最多有$\frac{P-1}{2}$个解~~（你知道这是为什么吗？）~~，所以每个解和$P$的二次剩余一一对应。所以$$a^{\frac{P-1}{2}}\equiv 1(\text{mod}\; P)$$仅仅对于$P$的每个二次剩余成立。这就证明了充分性。
  
通过欧拉准则，我们发现本题中需要开方的数刚好是$P$的二次剩余，也就是说，它可以在模$P$意义下开方。事实上，对于某些特殊的素数，我们有办法实现快速开方。 
  
对于模$4$同余$3$的素数的快速开方技巧：若$x^2\equiv a(\text{mod}P)$有解且$P\equiv 3(\text{mod}4)$，则$a^{\frac{P+1}{4}}$是$x$的一个解。  
证明：  
$$(a^{\frac{P+1}{4}})^2\equiv a^{\frac{P-1}{2}+1}(\text{mod}P)$$  
因为$$a^{\frac{P-1}{2}}\equiv 1(\text{mod}\; P)$$所以$$(a^{\frac{P+1}{4}})^2\equiv a^{\frac{P-1}{2}+1}\equiv a(\text{mod}P)$$，所以$a^{\frac{P+1}{4}}$是$x$的一个解。  
   
非常巧地，我们发现$10^9+7\equiv3(\text{mod}4)$。这样一来，我们可以用上面的技巧轻松得到想要的结果。然后就是照着公式计算了。  
~~所以说可以把模数弄得更大一点~~