~~首先由于这是一道黑题我被吓住了。~~

## Solution

首先，假设我们有一堆蛇。最强的叫A，最弱的叫B。

1. 如果A吃了B以后依旧是最强的蛇，那么肯定要吃。

1. 如果A吃了B以后不是最强也不是最弱，那么下一局不会挂，但是能增加击杀数量，所以也会吃。

1. 如果A吃了B后变成了最弱的蛇，此时C是最强的蛇，那么A就要做出决策了：

	- 如果C不吃A，那么A就无所畏惧了。（为B表示同情）

	- 如果C会吃A，劝A还是好好反思，不要吃B。

好，接下来问题又转化成C与A的了。

同样的，如果C吃了A后不是最短的，显然会吃，那么A不会吃。

如果C吃了后是最短的，问题就又给了次长的蛇D，看D会不会吃C……

这很像递归的过程。

所以，最终我们主题要使用递归。

考虑用双端队列解决，时间复杂度 $O(Tn)$。