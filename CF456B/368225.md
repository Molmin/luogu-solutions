CF456B 【Fedya and Maths】

###### ~~题外话 这篇题解打算认真写了~~

### 题意分析

给定$n$。
求($1^n+2^n+3^n+4^n+5^n$)$mod5$.

我习惯性去看了一下英文题面，发现不含$5^n$，但其实是对答案没有影响到。后面会说原因。

考虑做法。

直接求，高精快速幂取模求解，时间复杂度过高，不用说这不是正解。

那么我们来找规律，因为数据太大了，所以直接暴露了这是一道规律题的事实。

#### 求$1^n$

想出这个应该不难，因为我们知道$1$的任何次方都是其本身。

我们看出，无论$n$取何值，$1^n$=$1^nmod5$=$1$

#### 求$2^n$

从这里开始我们就直接放表了，$2,3,4$，算他们的一到十次方都可以口算，规律也很好找。

周期为四个一周期，$3,2,4,1$。

我们得出：

$n%4=1$则$2^nmod5=2$

$n%4=2$则$2^nmod5=4$

$n%4=3$则$2^nmod5=3$

$n%4=4$则$2^nmod5=1$

接下来的大致一样，就不放像上面一样详细的分类了。

#### 求$3^n$

大概是$2,9,27,81,243,729$。

也是四个一周期，$3,4,2,1$。

#### 求$4^n$

设$k=n*2$，则$4^n$=$2^k$，因为$4=2^2$。

也就是一两个为一周期，$4,1$循环。



也不难算，相信大家都背诵过。

#### 求$5^n$

因为包含五，所以不管$n$取何值，这一项答案为$0$。

这就是为什么翻译有误却不影响。

###  继续分析

因为要求循环节，所以要计算$n%4$和$n%2$。

整除特征不用介绍，$4$取$n$的后两位$mod4$，$2$是后一位即可，位置原理普及一下。

#### $SOLUTION$

分别求，相加记得再$mod5$.

## $CODE$

```cpp
#include<bits/stdc++.h>
#define F(i,j,r) for(int i=j;i<=r;++i)

using namespace std;

int ans=0;

void add2(string x){
	int k=(x[x.size()-2]-'0')*10+(x[x.size()-1]-'0');
	if(k%4==1)ans+=2;
	if(k%4==2)ans+=4;
	if(k%4==3)ans+=3;
	if(k%4==0)ans+=1;
}

void add3(string x){
	int k=(x[x.size()-2]-'0')*10+(x[x.size()-1]-'0');
	if(k%4==1)ans+=3;
	if(k%4==2)ans+=4;
	if(k%4==3)ans+=2;
	if(k%4==0)ans+=1;
}

void add4(string x){
	int k=x[x.size()-1]-'0';
	if(k%2)ans+=4;
	else ans+=1;
}
int main(){
	string s;
	cin>>s;
	s="000"+s;
	add2(s),add3(s),add4(s);
	cout<<(ans+1)%5;
    return 0;
}
//1 2 3 4 5 6 7 8 9 10
//2 4 3 1 2 4 3 1 2 4
//2 4 8 16 32 64 128 256 512 1024
//1 2 3 4 5 6
//3 4 2 1 3 4 2 1
//3 9 27 81 243 729
//1 2 3 4 5 6
// 4 1 4 1 4 1
// 4 16 64 256 1024 4096
```
完结撒花。

题解不易，请点个赞再走谢谢！

$wtrl$
