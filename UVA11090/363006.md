## 思路

由于找环十分不好找，所以我们往枚举平均值的方面来想。

由于 $c$ 的值过大，所以考虑二分。

但是，我们二分的单调性在哪里呢？

我们设平均值为 $mid$，并且环上的边的数量为 $cnt$。则满足以下不等式：

$$\sum\limits c_i \ge mid \times cnt$$

我们尝试移项，我们可以如此移项：

$$\dfrac{\sum\limits c_i}{cnt} \ge mid$$

乍一看好像对答案没有什么用，没有关系，我们还有另外一种移项的方法：

$$\dfrac{\sum\limits c_i}{mid} \ge cnt$$

也没有什么用，所以我们把所有的都移过来：

$$\sum\limits c_i - mid \times cnt \ge 0$$

此时我们发现好像有点关系了，由于有 $cnt$ 个 $c$，所以我们又可以化简成：

$$\sum\limits (c_i - mid) \ge 0$$

是不是此时还没有看出什么关系（反正我是这样的），没有关系，我们再乘个 $-1$：

$$\sum\limits (mid - c_i) \le 0$$

此时我们就可以看出些什么了，$cnt$ 个值加起来 $\le 0$，这不就是负环吗？只不过把边权改成 $mid - c_i$ 罢了。

所以这个二分的单调性就是，当跑 SPFA 是察觉有负环的时候，便将 $mid$ 调小，否则调大就行了。

然后就是由于精度问题，所以 $l, r$ 的精度调到 $0.00001$ 就行了。

## 代码

~~自己写吧。~~