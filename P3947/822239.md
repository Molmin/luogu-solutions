显然这道题是一道动态规划类问题，再去看状态设计上，对于每首歌只有两种状态——打了或者是没打，很容易想到，这样的问题可以设计状态压缩DP解决，用二进制中的 $0$ 表示没打，$1$ 表示打了。再看一眼数据范围，更加确定了这是状压DP，下面我们就可以开始列状态转移方程了。

我们设 $f_i$ 表示二进制下完成状态为 $i$ 的情况下能够获得的奖励，显然，答案为 $f(2^n-1)$。对于每一个状态 $i$，如果第 $j$ 首歌未完成，即  $i\&1<<j-1=0$（注意这里二进制从第 $0$ 位开始，所以是 $j-1$），

那么 $f_j=\max(f_j,f_i+\text{完成}j\text{的奖励})$，对于完成 $j$ 的奖励，根据题目中所给的公式计算即可。

那么，什么时候无解呢？一种情况是最终奖励小于 $m$，一种情况是完成任务之后超过了时间限制。

由于题目还要求输出方案，所以我们只需要在状态转移的过程中记录一下当前状态的上一个状态并记录转移过程中打的那首歌。

基于状压 DP 的思想，代码实现也比较简单，不会写的可以参考其他题解，要自己思考哟！