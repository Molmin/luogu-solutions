PY 档福利，来看看 Python 3 代码吧！

~~（自学 PY 蒟蒻调了20分钟）~~

### 声明：本题解大致思路与 @Werner_Yin 大佬的一致，只不过对萌新更为友好，包含更多的分析和讲解。

让我们开始吧，先看思路。

首先拿到题目，你需要看懂题目后看样例。CF 的题比较友好，大多都有样例解释。

看完题，你大致知道这题应该是让你分别算最大和次大分数然后作差。先来看最大，因为相对简单。

第一反应是：他把$m$张王全拿走不就好了吗。

但是样例$2$就会把你打脸了。因为总共有$2$张王牌，但是每位玩家却只能分到$1$张牌。

想到这里，我们就大致知道：这个最大值和$m,n/k$这两个数有关。由于$k|n$，$n/k$一定是整数，无需考虑是否向上取整等。

重点在于是取**最大值还是最小值**，这时候需要你静下心来思考一下。

你会发现，根据样例$2$，有$2$张王牌、每位玩家拿$1$张，而最后最大值是$1$。可见需要用**最小值**。

$maxx=min(m,n/k)$.

------------

接下来是次大值。注意到此时应该还剩下$(m-maxx)$张王牌，设之为$x$。

此时，根据**抽屉原理**（不熟悉的同学可以去[这里](https://baike.baidu.com/item/%E6%8A%BD%E5%B1%89%E5%8E%9F%E7%90%86/233776?fr=aladdin)），必定有一个人拿到至少$\left\lceil\dfrac x{k-1}\right\rceil$张王牌。

对这个结论的证明使用反证法：（证明中的“所有人”指除了王牌数最多者的所有人，即$k-1$人）

------------

假设没有人拿到了$\left\lceil\dfrac x{k-1}\right\rceil$张或更多的王牌，那么最多的情况下所有人都拿到了$\frac x {(k-1)}-1$张王牌。这个式子$=\frac {x-k+1} {k-1}$。

那么所有人总共拿到$x-k+1$张王牌。由于$k>=2$（题面中有），所以$x-k+1<x$，与“所有人共拿到$x$张王牌矛盾。”

所以假设不成立。原命题得证。

------------

当然这一证明可能有一些漏洞，主要是让大家感受一下这一结论，勿喷。

这样我们把两个数一减，就可以了。

我们来看代码。

```python
def ceil(a,b): #定义向上取整函数
    if a%b==0: return a//b #可以被整除，直接输出两数的商（//运算符指自动向下取整的除法）
    else: return a//b+1 #向上取整，即向下取整+1
t=int(input()) #输入t
for i in range(t): #t组数据
    n,m,k=map(int,input().split()) #输入三个数
    maxx=min(m,n//k) #套公式
    minn=ceil(m-maxx,k-1) #套公式
    print(maxx-minn) #输出两数之差，print()函数自带换行
```

这篇题解就到这里了，求赞！