> ## 可持久化数组浅谈

这里浅谈一下主席树的解法。

我们知道,**可持久化**也就是可以访问历史版本的。而**可持久化数组**也是如此,可以访问历史版本且可以将某一个历史版本复制(或修改)变为新的历史版本。

很容易想到建立一个$N^2$的矩阵(我说的$N^2$是序列长度,可能会跟题目不符合,~~并没有认真看题目~~),但是这样子显然很多余。但是我们又不可以预测下一次序列的长度,所以也不能加一些~~空间底层优化~~。我们更不可以覆盖历史版本,不然~~听取$WA$声一片~~。

我们就可以把空间压缩成$N\ log\ N$,运用主席树的空间形式,这也是主席树的最大优点之一。有兴趣大家可以看一看[$Kth-Number$](https://www.luogu.org/problemnew/show/P3834)。

主要思想讲到这里,大家自己去实现吧(~~偷笑~~)。

推荐题目:

[高级打字机](https://blog.csdn.net/stone41123/article/details/78271866)

[最长不上升子序列(LIS)](https://blog.csdn.net/puppywolf/article/details/78690750)