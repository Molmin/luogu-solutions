## Solution
- 首先，我觉得有必要这个题目中的一些条件和限制进行化简(可能不是特别必要，但是会更容易理解一些)：

   1. 假设所有没有走道的地方都是速度为0的走道
	2. 由于能量的表达式为$E=t*(1-v)$，我们可以假设$v=1+v_0$，则$E=t*(1-(1+v_0))=-t*v_0=-s$,注意，这里的$s$,$v$都是人本身的值，而不是叠加后的值
	3. 然后，我们又可以把多出来的1加给所有的$s_i$，这样$v$就完全和$v_0$相等，此时$v \in [-1,1]$。
- 接下来，我们正式开始考虑这个问题怎么解决。
	- 问题要求时间$t$最小，而$t=\frac{s}{v}=\frac{s-s_{Limak}}{v_i}=\frac{s+\Delta E}{v_i}$，这里的$\Delta E=E_{x_i}-E_{y_i}$	那么我们肯定贪心地希望对于$v_i$较小的走道，分配到的$\Delta E$尽量小，对于$v_i$较大的走道，分配到的$\Delta E$尽量大，因为$\sum \Delta E=E_L \leqslant 0$
- 然后我们以$s$为横坐标，$E$为纵坐标建立平面直角坐标系，任务就转化为设计出一条函数图像，满足以下几个要求：
	1. 	函数在$x$轴上方		
	2. 尽可能满足前一页所说的贪心
	3. $E$的斜率在一个范围内，因为$v \in [-1,1]$
- 首先，第一个限制很好满足，弄个数据结构维护后缀最小值，第二个也只需要把所有走道按$v_i$从小到大排序，然后贪心，现在的重点是第三个，求出这个范围。通过分析，我们可以得到下面这些式子
	1. $\frac{\Delta E}{t}\geqslant -1$
	2. $\frac{\Delta E}{t}\leqslant 1$
	3. $t=\frac{s+\Delta E}{v_i}$
- 通过上面的式子，我们可以得出$\Delta E$的范围：$\frac{s}{-1-v_i} \leqslant \Delta E  \leqslant \frac{s}{v_i-1}$,然后这个问题就解决了。