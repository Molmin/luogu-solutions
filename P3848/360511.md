# 搜索

### 前言

前些日子做的逗比题。

~~现在估值掉光了回来水水~~

~~当时还 $\sout{\color{red}\text{Hack}}$ 了一篇题解~~

题目链接：[$\text{Link}$](https://www.luogu.com.cn/problem/P3848)

### 题意简述

这里其实为了更好地理解题面，直接把坑点和要点都形式化的写在这里了。

给定一个 $01$ 矩阵 $a$，能从 $(x1,y1)$ 到达 $(x2,y2)$ 当且仅当：

- $a_{x1,y1}=a_{x2,y2}=0$。

- 两个位置需在同一行或同一列且中途只有 $1$。

- $(x2,y2)$ 还没有被到达且两个位置不相邻。

两位置的距离为 $|x_1-x_2|+|y_1-y_2|$。

求对于给定的起点可能的走过的最远距离。

### 题目分析

~~看很多题解都是直接爆搜，但是很不优雅。~~

~~这里给一个优雅的做法~~

我们可以枚举一个点，然后枚举 $4$ 个方向，对于它能到达的点与之连边，并相应的将这两个点标号。

于是，我们就可以得到一张有向图了。

而对于其中任意有边的两个点都在原题中是可以单向到达的。

直接在起点跑 $dfs$，并注意对经过的点打上标记即可。

另外附一个当时卡了我 $1h$ 的坑点：两个相邻并都为 $0$ 的点不可互相到达。（其实这个也写在上面了）

细节其实就是在建图了。

[$code$](https://paste.ubuntu.com/p/VVQRtY5pvG/)

[$AC$ 记录](https://www.luogu.com.cn/record/49486542)

$$\texttt{The End.by UF}$$