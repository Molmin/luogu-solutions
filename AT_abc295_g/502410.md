题意给定一棵外向树，每次修改为连一条有向边 $(u,v)$ 保证 $v$ 可以到达 $u$，查询某一个节点能到达的编号最小的点。

发现每次连边是缩点的过程，而且**一定**是将 $u,v$ 路径上强连通分量合并，显然可以用并查集维护。

当然，$u,v$ 路径中的点也会一同合并，具体地，用编号最小点表示一个强连通分量，每次只需要将 $v$ 往上跳并将沿途的所有强连通分量的父亲指向 $u$ 就可以了。

时间复杂度 $O(q\alpha(n)+n)$，空间 $O(n)$。

[考场上](https://atcoder.jp/contests/abc295/submissions/40040053)是暴力跳的，似乎并没有被卡？