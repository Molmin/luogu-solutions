需要用到的公式：

排列数：

$$\Large A^{m}_{n}=\dfrac{n!}{(n-m)!}$$

组合数：

$$\Large C^{m}_{n}=\dfrac{n!}{m!(n-m)!}$$

由于不能再同一行同一列，所以我们必须分开考虑。

首先是考虑列，在 $n$ 列中选择 $k$ 列，由于我们无需考虑他们的顺序，所以应该是组合数，故：

$$\Large C^{k}_{n}=\dfrac{n!}{k!(n-k)!}$$

然后考虑行。

这里需要注意的是，由于不同的列没有限制因素，所以不需要计算排列，但是当我们计算行的时候，我们将其和列一一对应形成确定的点，这时候必须要计算排列了！

读者可以自行画图看一看结论是否如此。

接着我们利用公式来写一下吧！

$$\Large A^{k}_{n}=\dfrac{n!}{(n-k)!}$$

我们利用乘法原理，两个相乘得到的结果是：

$$\dfrac{n!}{(n-k)!}\times\dfrac{n!}{k!(n-k)!}$$

$$\dfrac{n!n!}{(n-k)!k!(n-k)!}$$

$$\dfrac{(n!)^2}{k!((n-k)!)^2}$$

然后考虑染色。

对于每种颜色，$k$ 个中可以选择 $x$ 个，此时组合数为 ：

$$C^{x}_{k}=\dfrac{k!}{x!(k-x)!}$$

相乘实现即可。