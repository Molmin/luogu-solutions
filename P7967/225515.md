## 题面

给定 $n$ 个磁铁和 $l$ 个空位，其中相邻空位之间的距离为 $1$，每个空位可放置一个磁铁。所有 $n$ 个磁铁都必须被放置。每个磁铁可以吸引距离小于 $r_i$ 的其它磁铁。

求所有磁铁互不吸引的方案总数对 $10^9+7$ 取模的结果。

$1 \le n \le 50$，$n \le l \le 10000$，$1 \le r_i \le l$。

## Solution
由于磁铁的放置顺序是不固定的，且难以表示放置顺序，所以考虑放置状态。

又因为 $a_i$ 的大小是无序的，所以要将 $a_i$ 升序排序。

插入DP，记 $f_{i,j,k}$ 表示放入了 $i$ 个磁铁，形成了 $j$ 个紧密相连的连通块，此时还剩下 $k$ 个空位。

先考虑在原有块的两段插入一个新磁铁。

$f_{i,j,k}=f_{i-1,j,k-a_i}\times j \times 2$。

接着考虑在合并原来的两个块，则两块之间的距离固定为 $2\times a_i -1$。

$f_{i,j,k}=f_{i-1,j+1,k-(2\times a_i -1)}\times A_{j+1}^{2}$。

最后是别的题解没讲清楚的一步，即新来的磁铁单独成块，先放公式：

$f_{i,j,k}=f_{i-1,j-1,k-1}$。

为什么新来的独立成块的磁铁只让 $k$ 个空位少了 $1$ 个，是因为后来的状态是从原有的块上操作，相当于本块让空位左右两边少了 $2\times a_i$ 个，但是后来的磁铁 $j$ 加入了这个块中，让原块内磁铁的贡献变得与 $a_j$ 有关而与 $a_i$ 无关，所以对于一个块内的贡献只需考虑后面加入块内的元素而非第一个加入的元素即可。

最后我们得到了一个紧密相连的连通块，现在可以在其中任意的插入空格。根据排列组合相关知识可知：

$ans=\sum\limits_{i=1}^{l}f_{n,1,i}\times C_{l-i+n}^{n}$。
## code 
根据以上可写，不做赘述。