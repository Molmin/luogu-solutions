本弱的第一篇题解，欢迎指教。

原来这题不会做，想看题解的时候突然发现dalao们用的都是本弱还没学的搜索，瞬间心态爆炸；然后就想到了埃氏筛的做法，又看楼下有篇打表的埃氏题解，就想贴一篇自己的题解。欢迎各位dalao批评指正。

```
#include<bits/stdc++.h>
using namespace std;
```

惯例的万能头文件和使用标准库。

```
bool if_prime(int x)
{
	if(x==1)return 0;
    for(int i=2;i*i<=x;i++)
    {
        if(x%i==0)return 0;
    }
    return 1;
}

```

这是判断素数的方法，相信不用多说。特判1最好还是加上，虽然主程序里没用。

```
int n,q[1000],k,ans;
bool p[8000000];
int main()
{
    scanf("%d",&n);
```

本题需要的变量以及变量输入。因为8位数用埃氏筛会TLE，又因为合要求的数开头只会是2、3、5、7，所以开八百万就可以了。

```
if(n==1)
    {
    	printf("2\n3\n5\n7");
        return 0;
    }
```
特判1。其实并没有什么用，因为数据点里没有1。

```
p[1]=1;
n=(int)(pow(10,n));
```

把1定义为非素数（因为本弱不会用memset，又已知数组定义在主函数外面默认定义为0，所以在这个程序里1为不合要求的数，0为合要求的数）。把n变成所有数的上限。

```
for(int i=2;i<=min(7999999,n);i++)
{
    if(p[i]==0)
    {
        for(int j=2;i*j<=min(7999999,n);j++)
        {
            p[i*j]=1;
        }
        if(p[i/10]==1)p[i]=1;
    }
}
```

程序的核心。这里是为了减少时间用了min函数，其实不用也可以过。这里先找没有被定义成不合要求的数的数（即素数），把这上面所有它的倍数定义成合数。之后再看它合不合要求（就是看这个数除以10之后合不合要求）。

```
if(n<1e8)
    for(int i=2*n/10+1;i<8*n/10;i+=2)
    {
        if(p[i]==0)printf("%d\n",i);
    }
```

看2到7位数的情况。因为合要求的数必须是奇数并且以2、3、5、7开头，所以只用枚举2字头到8字头。

```
else
{
    for(int i=2*n/100+1;i<8*n/100;i+=2)
    {
        if(p[i]==0)q[++k]=i;
    }
    for(int i=1;i<=k;i++)
    {
        for(int j=1;j<10;j+=2)
        {
        	if(j==5)continue; 
            ans=q[i]*10+j;
            if(if_prime(ans))printf("%d\n",ans);
        }
    }
}
```

对8位数进行特判（因为直接筛会T），先找出合要求的7位数，再在后面添1、3、7或9，判断它是不是素数，是就直接输出。

```
    return 0;
}
```
程序的结束。

## 谢谢观看！！
