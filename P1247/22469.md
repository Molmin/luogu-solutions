做法：

$i).$求出$k=a_1$^$a_2$^$...$^$a_n$，若$k>0$，则先取必胜，否则必败。

$ii).$若$k=0$，把其中一个$a_i$变成$a_i$^$k$，但$a_i$^$k$要小于$a_i$


证明：

$i).$数学归纳法

设当$i=0...n$时$sg(i)=i$成立

$1.$当$n=0$时$sg(0)=0$，成立

$2.$当$i=n+1$时，因为可以取小于$n+1$的任意多个火柴，所以后继状态是$0..n$，所以：$sg(i)$

$=mem(sg(0),sg(1),...sg(n))$

$=mem(0,1,2,...,n)$

$=n+1$
所以$sg(i)=i$

$k=sg(a_1)$^$sg(a_2)$^$...$^$sg(a_n)$

$=a_1$^$a_2$^$...$^$a_n$

命题得证


$ii).$因为先手是必胜态，所以要使对手是必败态，则改变了一个ai后k要变成0

因为$k$^$k=0$，所以$a_1$^$a_2$^$...$^$a_n$^$k=0$

所以$a_1$^$a_2$^$...(a_i$^$k)$^$a_{i+1}$^$...$^$a_n=0$

只要把一个$a_i$变成$a_i$^$k$即可，但因为必须要取，所以必须$a_i<a_i$^$k$。

得证

可能我证得不太严谨，如果谁发现了错误请私信一下，我立刻修改

——————————————————————

感谢@popo 的指正，已修改

评论区@多弗桃 指出我没证一定有第$x$堆石子使$a_x$^$k<a_x$

这确实是我的疏忽，但是@学委 已经帮我证了，感谢
