# CF1833C 题解

### 题目大意

有 $ t $ 组测试数据，其中每组有以下的输入输出。

> Vlad 给你一个 $ n $ 个数的数组，如果可以将这个数组 $ a $ 中数个位置 $ a_i $ 替换成 $ a_i - a_j , 1\le j \le n$，使得这 $ n $ 个数为正整数，且他们的奇偶性相同，输出 ``` YES```，当然只要有 ``` y e s ``` 这三个字母，不考虑大小写即可，否则输出 ``` NO ``` 也是同理。

其中，有 $ 1 \le t \le 10 ^ 4 , 1 \le n \le 2 \times 10 ^ 5 , 1 \le a_i \le 10 ^ 9 , \sum n \le 2 \times 10 ^ 5$。

### 题目分析

首先证明一个事情：数组如果可以变化，那么它的奇偶性与数组中的最小值相同。证明也很简单，如果与最小值的奇偶性不同，那么一定需要将这个最小的数减去另一个数，又要保证减完是个正整数，就是要保证减数小于最小值，而这不可能。所以数组变化后的奇偶性不能与数组中的最小值不同，即数组的奇偶性需要与数组最小值相同。

下一步在考虑如何判断。我们分成最小值为奇数和偶数来考虑。当最小值为奇数时，其余奇数不动，而偶数与奇数相减才能得到奇数，所以需要保证最小的偶数大于最小的奇数即可。如果最小值为偶数，那么偶数不动，其余奇数需要奇数与奇数相减才能出现偶数，而这些奇数总会有大小之分，一个最小的奇数想要变成大于 $ 0 $ 的偶数，必然要减去一个更小的奇数，而这不可能，所以需要保证没有奇数。

### 代码时间

```cpp
#include<iostream>
#include<cstring>
#include<string>
#include<algorithm>
using namespace std;
int a[200005];
signed main()
{
	int t;
	cin >> t;
	while(t--)
	{
		memset(a , 0 , sizeof(a));
		int n;
		cin >> n;
		int minn = 2147483647; //初始化最小值为 int 最大值 
		int os = 2147483647 , js = 2147483647; //同上一行注释 
		int jsgs = 0 , osgs = 0; //jsgs 存奇数个数，osgs 存偶数个数 
		for(int i = 1 ; i <= n ; i++)
		{
			cin >> a[i];
			minn = min(minn , a[i]); //取最小值 
			if(a[i] % 2 == 0) //分类判断并取 a[i] 与 os 或者 js 的最小值 
			{
				os = min(os , a[i]);
				osgs++;
			}
			else
			{
				js = min(js , a[i]);
				jsgs++;
			}
		}
		int f = -1; //代表输出 YES 或者 NO，0 为 NO，1 为 YES，初始为 -1 是为了区分 
		if(minn % 2 == 1) //最小值为奇数 
		{
			if(os == 2147483647) //说明没有偶数（所有数 <= 10 ^ 9），全是奇数，符合题意，f = 1 
			{
				f = 1;
			}
			else
			{
				if(js >= os) //如果奇数的最小值大于偶数的最小值，那么一定有一个偶数减完小于 0，f = 0 
				{
					f = 0;
				}
				else //都不是，那么 f = 1 
				{
					f = 1;
				}
			}
		}
		else //最小值为偶数 
		{
			if(js == 2147483647) //说明没有奇数（所有数 <= 10 ^ 9），全是偶数，符合题意，f = 1 
			{
				f = 1;
			}
			else
			{
				if(jsgs) //如果有奇数，那么最小的奇数只能减去一个更大的奇数，出现负数不符合题意，f = 0 
				{
					f = 0;
				}
				else //都不是，那么 f = 1 
				{
					f = 1;
				}
			}
		}
		cout << (f ? "YES" : "NO") << endl;
		/*
		上面的 cout << (f ? "YES" : "NO") << endl; 等价于
		if(f)
		{
			cout << "YES" << endl;
		}
		else
		{
			cout << "NO" << endl;
		}
		三目运算符加入括号改变优先级后可以很有效的简化代码，例如上面计算 f 的代码就可以写成
		int f = (minn % 2 == 1 ? (os == 2147483647 ?  1 : (js >= os ? 0 : 1)) : (js == 2147483647 ? 1 : (jsgs ? 0 : 1))); 
		*/
	}
    return 0;
}
```