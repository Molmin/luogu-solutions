题目重要关键词：
> $1\le t\le 100$

> $1\le n\le 10^9$

假如本题使用暴力算法，那么时间复杂度将达到$O(nt)$，这可以达到$10^{11}$，而它远远大于$3\times10^8$（大致为$1s$时间限制）。因此必定超时。

我们只能通过别的方法解决。本题可以使用到等差数列，但是要考虑负数的问题，而单单考虑负数的话可以节约一大把时间。这时时间复杂度大致为$O(t·\lceil{log_n}\rceil)$（以$2$为底）。而$n\le10^9$，而$2^{30}=1073741824$，这略大于$10^9$，所以最大时间复杂度只有$100\times 30=3000$。

现在要先求：

$$\sum_{i=1}^ni$$

我们不妨设上式为$S$，即$S=1+2+...+n$。现在假设$S'=n+(n-1)+...+1$。而$S=S'$。

我们计算：

$$S+S'=(1+n)+(n+n-1)+...+(n+1)=n(n+1)$$

因此：

$$S=\frac{S+S'}{2}=\frac{n(n+1)}{2}$$

即：

$$\sum_{i=1}^ni=\frac{n(n+1)}{2}$$

然后我们先设置一个变量$i=0$，然后不停地累加，如果$2^i\le n$则减去$2\times2^i$，即等同于将原来的加变为减。

我们可以得到代码：

```python
n = int(input())//输入个数n
for times in range(n)://外层循环
    a = int(input())//输入a
    s = int((1 + a) * a / 2)//先求和
    i = 0//初始化i=0
    while True:
        if 2 ** i <= a://判断幂是否小于等于输入的数
            s -= 2 ** i * 2//a**b等同于以a为底数，b为指数的幂的结果
            i += 1//计数器加1
        else:
            break//大于的话就退出
    print(s)//输出自带换行
```

注意！上述代码在$Py3$下写成，但洛谷$Py3$无法通过（第一个$WA$的测试点有大约$4$的误差），只有使用$Py2$才能$AC$。

当然，$C++$的速度和内存较优于$Python$，但是作为入门训练，不妨练一练$Python$。