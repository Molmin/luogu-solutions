手玩几个例子，发现普通的树都是无解的，而有解的树似乎都有着某种特殊的性质。

直接说结论了，可以自己感受一下，有解的树一定是一条链上面挂着一些叶子，其它情况都是无解的，因为会发现跳到岔路口里就跳不回去父亲了。

当然，在给出的树中，我们链肯定是选直径，这样显然最优。

然后 check 一下是否合法，构造的话就是先往下两个两个跳，跳的过程中把没跳到的点的叶子跳一下，回来也是两个两个往上跳，跳的过程中把往下跳的时候跳到的点的叶子跳一下，然后就完事了。

注意直径长为偶数和直径长为奇数的构造方式有一点点不同。

Code：[https://codeforces.com/problemset/submission/1819/202678434](https://codeforces.com/problemset/submission/1819/202678434)。