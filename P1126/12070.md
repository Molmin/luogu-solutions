这题挺复杂的，主要思路楼下神犇们说得很详细了，不做赘述。只有一点，有些同学（包括我）wa#6，讨论中说要翻一下前进与转向，其实只是巧合。主要问题是在前进一个失败，后续停止更新的判断上。判断要根据是否有障碍，而不能同时判断是否可以更新。
代码略丑，就不贴了。