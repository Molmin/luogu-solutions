本蒟蒻去翻了翻大佬们的题解，发现好长哦~~而且一个也看不懂~~

而且这道非常恶心、坑巨多的模拟卡了我八九遍QAQ

然后我就决定写一篇题解，帮各位防坑~~（虽然只有我这样的蒟蒻会挨个踩坑）~~

下面正文开始~

## 思路

我们可以讲输入分成四个部分：
- 前置符号（不一定存在）
- 整数部分
- 小数点（不一定存在）
- 小数部分（不一定存在）

由于不确定因素过多，所以我选择使用```getchar()```挨个读取，这样一来事情变得简单了很多。

## 执行策略

### 读入
易得出方法如下:

使用两个字符串a、b，分别保存整数部分和小数部分，

1. 当读入部分为符号的时候对三种可能的符号特判一下

2. 读入为数字则看是否已经读入小数点：

- 已经读小数点：
  
  直接塞到小数部分。
  
- 未读入小数点：
  
  判断是否为前导0，若是则舍去。

读入部分就是这么简单，部分小坑已经放在代码注释。

### 改装整数部分

可以说是最难受的部分了。

不仅要各种加YQBSWQBSD还要把有0的归到一起！好烦人！

额，等等？

读出来的数位，**后面跟的字母的顺序好像就是YQBSWQBSD**？

太棒了！这是一个很好的偷懒方式！（

于是我们新建一个char数组（string也可）：

```cpp
const char zz[] = "SBQWSBQY";
```

（不要问我为什么我写的是倒序的而且没有D）

那么问题基本就解决了：只要在非0的时候输出对应数字+对应符号，为0的时候输出一个0，等到后面再来一个非0的时候就好啦！

但是，有一个小小的隐患：如果最后几位都是0怎么办？

有一个很简单很暴力的方法：统计出来有几个0，到了那里直接不输出了！

```cpp
int ling = 0;
for(int i = a.size() - 1; ; --i){ 
	if(a[i] != '0') break;
	ling++;
	}
```

到现在为止，整数部分就输出完了！

小数部分更简单：如果b不是空的，就输出D加上b！

那么这道题就愉快地结束啦~

下面附上代码ovo 有些坑点写在了注释里~
```cpp
#include<bits/stdc++.h>
using namespace std;
const char zz[] = "SBQWSBQY";//每一位对应的字母 
int main(){
	char c = getchar();
	string a = "",b = "";//a为小数点前数，b为小数点后数 
	bool bb = 0;// 万用布尔 
	while(c != EOF && c != '\n' && c != '\r'){//读入部分，第一个坑点，本题带\r 
		if(c == '-'){
			cout << "F";//负数特判 
			c = getchar();continue;
		}
		else if(c == '+'){//第二个坑点，有的数据点有正号 
			c = getchar();continue;
		}
		else if(c == '.'){bb = 1;c = getchar();continue;}//这里bb表示是否向小数点后的字符串读入 
		if(!bb) {if(a.size() != 0 || c != '0') a += c;}//即!(a.size() == 0 && c == '0')，不读入前导0 
		else b += c;
		c = getchar();
	}
	if(!a.size()){cout << "0"; if(b.size() != 0) cout << "D" << b; return 0;}//特判一下a为空 
	bb = 1;//现在开始它代表是否已经输出0 
	int ling = 0;//结尾0的个数需要记录，因为当a结尾都是0的时候无需额外输出 
	for(int i = a.size() - 1; ; --i){//计算0个数 
		if(a[i] != '0') break;
		ling++;
	}
	for(int i = 0; i < a.size(); ++i){//只需处理a 
		if(a[i] != '0'){
			cout << a[i];
			if(a.size() - i - 2 <= 8) cout << zz[a.size() - i - 2];//算出应输出的对应位数 
			bb = 0;//没有需要输出的0 
		}
		else if(!bb && i < a.size() - ling){cout << 0; bb = 1;}//已经输出0 
	}
	if(b.size() != 0) cout << "D" << b;//小数点后直接输出 
	cout << endl;
	return 0;
}
```

顺便弄了个防copy，相信认真看的人一定看出来了~

那么这篇题解到这里就结束了，可能还有些细节没考虑到，希望大家原谅/(ㄒoㄒ)/~如果还有不懂的地方也可以问问我！ヾ(•ω•`)o

掰掰~