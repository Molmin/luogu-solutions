首先附上题目链接:

<https://www.luogu.com.cn/problem/SP7733>

### 题意简述:
每次操作对一个数每一位上的数字的平方求和，如果经过若干次这样的操作这个数变成了 $1$,那么输出操作的次数，否则永远也不会达到，输出 $-1$。
### 思路：
不难发现，如果一个数它永远不会变成 $1$，那么它的操作序列里一定有相互重复的，开个数组记录一下状态就可以了，剩余的直接按照题意来，因为 $2147483647$ 每位数上的平方和也只有 $260$，所以不用担心内存。

贴上代码:
```cpp
#include<bits/stdc++.h>
using namespace std;
int n,ans,a[100001],s=0;
int main(){
	cin>>n;
	while(n!=1){
		s=0;
		while(n){
			s+=(n%10)*(n%10);n/=10;//计算每位数的平方并累加
		}
		n=s;
		if(a[s]){
			cout<<-1;//如果这种状态已经出现过，就说明它不可能变成一
			return 0;
		}
		a[s]++;//记录这种状态出现过
		ans++;//操作次数加上一
	}
	cout<<ans;
	return 0;
}
```
最后，谢谢大家！